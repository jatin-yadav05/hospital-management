function $_(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function H_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var W_={exports:{}},Wd={},q_={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tc=Symbol.for("react.element"),jI=Symbol.for("react.portal"),BI=Symbol.for("react.fragment"),zI=Symbol.for("react.strict_mode"),$I=Symbol.for("react.profiler"),HI=Symbol.for("react.provider"),WI=Symbol.for("react.context"),qI=Symbol.for("react.forward_ref"),KI=Symbol.for("react.suspense"),GI=Symbol.for("react.memo"),QI=Symbol.for("react.lazy"),Ly=Symbol.iterator;function YI(t){return t===null||typeof t!="object"?null:(t=Ly&&t[Ly]||t["@@iterator"],typeof t=="function"?t:null)}var K_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G_=Object.assign,Q_={};function ra(t,e,n){this.props=t,this.context=e,this.refs=Q_,this.updater=n||K_}ra.prototype.isReactComponent={};ra.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ra.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Y_(){}Y_.prototype=ra.prototype;function Dp(t,e,n){this.props=t,this.context=e,this.refs=Q_,this.updater=n||K_}var Lp=Dp.prototype=new Y_;Lp.constructor=Dp;G_(Lp,ra.prototype);Lp.isPureReactComponent=!0;var My=Array.isArray,X_=Object.prototype.hasOwnProperty,Mp={current:null},J_={key:!0,ref:!0,__self:!0,__source:!0};function Z_(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)X_.call(e,r)&&!J_.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:tc,type:t,key:s,ref:o,props:i,_owner:Mp.current}}function XI(t,e){return{$$typeof:tc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Vp(t){return typeof t=="object"&&t!==null&&t.$$typeof===tc}function JI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Vy=/\/+/g;function Yh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?JI(""+t.key):e.toString(36)}function gu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case tc:case jI:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Yh(o,0):r,My(i)?(n="",t!=null&&(n=t.replace(Vy,"$&/")+"/"),gu(i,e,n,"",function(u){return u})):i!=null&&(Vp(i)&&(i=XI(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Vy,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",My(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Yh(s,a);o+=gu(s,e,n,l,i)}else if(l=YI(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Yh(s,a++),o+=gu(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function zc(t,e,n){if(t==null)return t;var r=[],i=0;return gu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function ZI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Xt={current:null},yu={transition:null},eC={ReactCurrentDispatcher:Xt,ReactCurrentBatchConfig:yu,ReactCurrentOwner:Mp};function eE(){throw Error("act(...) is not supported in production builds of React.")}Ee.Children={map:zc,forEach:function(t,e,n){zc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return zc(t,function(){e++}),e},toArray:function(t){return zc(t,function(e){return e})||[]},only:function(t){if(!Vp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ee.Component=ra;Ee.Fragment=BI;Ee.Profiler=$I;Ee.PureComponent=Dp;Ee.StrictMode=zI;Ee.Suspense=KI;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eC;Ee.act=eE;Ee.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=G_({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Mp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)X_.call(e,l)&&!J_.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:tc,type:t.type,key:i,ref:s,props:r,_owner:o}};Ee.createContext=function(t){return t={$$typeof:WI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:HI,_context:t},t.Consumer=t};Ee.createElement=Z_;Ee.createFactory=function(t){var e=Z_.bind(null,t);return e.type=t,e};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(t){return{$$typeof:qI,render:t}};Ee.isValidElement=Vp;Ee.lazy=function(t){return{$$typeof:QI,_payload:{_status:-1,_result:t},_init:ZI}};Ee.memo=function(t,e){return{$$typeof:GI,type:t,compare:e===void 0?null:e}};Ee.startTransition=function(t){var e=yu.transition;yu.transition={};try{t()}finally{yu.transition=e}};Ee.unstable_act=eE;Ee.useCallback=function(t,e){return Xt.current.useCallback(t,e)};Ee.useContext=function(t){return Xt.current.useContext(t)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(t){return Xt.current.useDeferredValue(t)};Ee.useEffect=function(t,e){return Xt.current.useEffect(t,e)};Ee.useId=function(){return Xt.current.useId()};Ee.useImperativeHandle=function(t,e,n){return Xt.current.useImperativeHandle(t,e,n)};Ee.useInsertionEffect=function(t,e){return Xt.current.useInsertionEffect(t,e)};Ee.useLayoutEffect=function(t,e){return Xt.current.useLayoutEffect(t,e)};Ee.useMemo=function(t,e){return Xt.current.useMemo(t,e)};Ee.useReducer=function(t,e,n){return Xt.current.useReducer(t,e,n)};Ee.useRef=function(t){return Xt.current.useRef(t)};Ee.useState=function(t){return Xt.current.useState(t)};Ee.useSyncExternalStore=function(t,e,n){return Xt.current.useSyncExternalStore(t,e,n)};Ee.useTransition=function(){return Xt.current.useTransition()};Ee.version="18.3.1";q_.exports=Ee;var v=q_.exports;const tC=H_(v),nC=$_({__proto__:null,default:tC},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rC=v,iC=Symbol.for("react.element"),sC=Symbol.for("react.fragment"),oC=Object.prototype.hasOwnProperty,aC=rC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lC={key:!0,ref:!0,__self:!0,__source:!0};function tE(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)oC.call(e,r)&&!lC.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:iC,type:t,key:s,ref:o,props:i,_owner:aC.current}}Wd.Fragment=sC;Wd.jsx=tE;Wd.jsxs=tE;W_.exports=Wd;var Op=W_.exports;const ws=Op.Fragment,f=Op.jsx,C=Op.jsxs;var nE={exports:{}},vn={},rE={exports:{}},iE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(W,ie){var ce=W.length;W.push(ie);e:for(;0<ce;){var Ae=ce-1>>>1,Se=W[Ae];if(0<i(Se,ie))W[Ae]=ie,W[ce]=Se,ce=Ae;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var ie=W[0],ce=W.pop();if(ce!==ie){W[0]=ce;e:for(var Ae=0,Se=W.length,Ve=Se>>>1;Ae<Ve;){var ft=2*(Ae+1)-1,Tt=W[ft],xt=ft+1,qt=W[xt];if(0>i(Tt,ce))xt<Se&&0>i(qt,Tt)?(W[Ae]=qt,W[xt]=ce,Ae=xt):(W[Ae]=Tt,W[ft]=ce,Ae=ft);else if(xt<Se&&0>i(qt,ce))W[Ae]=qt,W[xt]=ce,Ae=xt;else break e}}return ie}function i(W,ie){var ce=W.sortIndex-ie.sortIndex;return ce!==0?ce:W.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,p=3,y=!1,E=!1,S=!1,R=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(W){for(var ie=n(u);ie!==null;){if(ie.callback===null)r(u);else if(ie.startTime<=W)r(u),ie.sortIndex=ie.expirationTime,e(l,ie);else break;ie=n(u)}}function L(W){if(S=!1,x(W),!E)if(n(l)!==null)E=!0,we(j);else{var ie=n(u);ie!==null&&re(L,ie.startTime-W)}}function j(W,ie){E=!1,S&&(S=!1,T(_),_=-1),y=!0;var ce=p;try{for(x(ie),h=n(l);h!==null&&(!(h.expirationTime>ie)||W&&!D());){var Ae=h.callback;if(typeof Ae=="function"){h.callback=null,p=h.priorityLevel;var Se=Ae(h.expirationTime<=ie);ie=t.unstable_now(),typeof Se=="function"?h.callback=Se:h===n(l)&&r(l),x(ie)}else r(l);h=n(l)}if(h!==null)var Ve=!0;else{var ft=n(u);ft!==null&&re(L,ft.startTime-ie),Ve=!1}return Ve}finally{h=null,p=ce,y=!1}}var k=!1,A=null,_=-1,b=5,P=-1;function D(){return!(t.unstable_now()-P<b)}function V(){if(A!==null){var W=t.unstable_now();P=W;var ie=!0;try{ie=A(!0,W)}finally{ie?N():(k=!1,A=null)}}else k=!1}var N;if(typeof w=="function")N=function(){w(V)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,K=le.port2;le.port1.onmessage=V,N=function(){K.postMessage(null)}}else N=function(){R(V,0)};function we(W){A=W,k||(k=!0,N())}function re(W,ie){_=R(function(){W(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){E||y||(E=!0,we(j))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(W){switch(p){case 1:case 2:case 3:var ie=3;break;default:ie=p}var ce=p;p=ie;try{return W()}finally{p=ce}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,ie){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ce=p;p=W;try{return ie()}finally{p=ce}},t.unstable_scheduleCallback=function(W,ie,ce){var Ae=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Ae+ce:Ae):ce=Ae,W){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=ce+Se,W={id:d++,callback:ie,priorityLevel:W,startTime:ce,expirationTime:Se,sortIndex:-1},ce>Ae?(W.sortIndex=ce,e(u,W),n(l)===null&&W===n(u)&&(S?(T(_),_=-1):S=!0,re(L,ce-Ae))):(W.sortIndex=Se,e(l,W),E||y||(E=!0,we(j))),W},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(W){var ie=p;return function(){var ce=p;p=ie;try{return W.apply(this,arguments)}finally{p=ce}}}})(iE);rE.exports=iE;var cC=rE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uC=v,gn=cC;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sE=new Set,Tl={};function Ls(t,e){Vo(t,e),Vo(t+"Capture",e)}function Vo(t,e){for(Tl[t]=e,t=0;t<e.length;t++)sE.add(e[t])}var Vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yf=Object.prototype.hasOwnProperty,dC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Oy={},Fy={};function hC(t){return Yf.call(Fy,t)?!0:Yf.call(Oy,t)?!1:dC.test(t)?Fy[t]=!0:(Oy[t]=!0,!1)}function fC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function mC(t,e,n,r){if(e===null||typeof e>"u"||fC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Jt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){kt[t]=new Jt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];kt[e]=new Jt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){kt[t]=new Jt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){kt[t]=new Jt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){kt[t]=new Jt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){kt[t]=new Jt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){kt[t]=new Jt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){kt[t]=new Jt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){kt[t]=new Jt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Fp=/[\-:]([a-z])/g;function Up(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Fp,Up);kt[e]=new Jt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Fp,Up);kt[e]=new Jt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Fp,Up);kt[e]=new Jt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){kt[t]=new Jt(t,1,!1,t.toLowerCase(),null,!1,!1)});kt.xlinkHref=new Jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){kt[t]=new Jt(t,1,!1,t.toLowerCase(),null,!0,!0)});function jp(t,e,n,r){var i=kt.hasOwnProperty(e)?kt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(mC(e,n,i,r)&&(n=null),r||i===null?hC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Wr=uC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$c=Symbol.for("react.element"),so=Symbol.for("react.portal"),oo=Symbol.for("react.fragment"),Bp=Symbol.for("react.strict_mode"),Xf=Symbol.for("react.profiler"),oE=Symbol.for("react.provider"),aE=Symbol.for("react.context"),zp=Symbol.for("react.forward_ref"),Jf=Symbol.for("react.suspense"),Zf=Symbol.for("react.suspense_list"),$p=Symbol.for("react.memo"),ai=Symbol.for("react.lazy"),lE=Symbol.for("react.offscreen"),Uy=Symbol.iterator;function Na(t){return t===null||typeof t!="object"?null:(t=Uy&&t[Uy]||t["@@iterator"],typeof t=="function"?t:null)}var et=Object.assign,Xh;function qa(t){if(Xh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Xh=e&&e[1]||""}return`
`+Xh+t}var Jh=!1;function Zh(t,e){if(!t||Jh)return"";Jh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Jh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?qa(t):""}function pC(t){switch(t.tag){case 5:return qa(t.type);case 16:return qa("Lazy");case 13:return qa("Suspense");case 19:return qa("SuspenseList");case 0:case 2:case 15:return t=Zh(t.type,!1),t;case 11:return t=Zh(t.type.render,!1),t;case 1:return t=Zh(t.type,!0),t;default:return""}}function em(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case oo:return"Fragment";case so:return"Portal";case Xf:return"Profiler";case Bp:return"StrictMode";case Jf:return"Suspense";case Zf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case aE:return(t.displayName||"Context")+".Consumer";case oE:return(t._context.displayName||"Context")+".Provider";case zp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $p:return e=t.displayName||null,e!==null?e:em(t.type)||"Memo";case ai:e=t._payload,t=t._init;try{return em(t(e))}catch{}}return null}function gC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return em(e);case 8:return e===Bp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Di(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function yC(t){var e=cE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Hc(t){t._valueTracker||(t._valueTracker=yC(t))}function uE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=cE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function $u(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function tm(t,e){var n=e.checked;return et({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function jy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Di(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function dE(t,e){e=e.checked,e!=null&&jp(t,"checked",e,!1)}function nm(t,e){dE(t,e);var n=Di(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?rm(t,e.type,n):e.hasOwnProperty("defaultValue")&&rm(t,e.type,Di(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function By(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function rm(t,e,n){(e!=="number"||$u(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ka=Array.isArray;function bo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Di(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function im(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return et({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function zy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(q(92));if(Ka(n)){if(1<n.length)throw Error(q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Di(n)}}function hE(t,e){var n=Di(e.value),r=Di(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function $y(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function fE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?fE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Wc,mE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Wc=Wc||document.createElement("div"),Wc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Wc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function xl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var sl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vC=["Webkit","ms","Moz","O"];Object.keys(sl).forEach(function(t){vC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),sl[e]=sl[t]})});function pE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||sl.hasOwnProperty(t)&&sl[t]?(""+e).trim():e+"px"}function gE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=pE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var wC=et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function om(t,e){if(e){if(wC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function am(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lm=null;function Hp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cm=null,So=null,Io=null;function Hy(t){if(t=ic(t)){if(typeof cm!="function")throw Error(q(280));var e=t.stateNode;e&&(e=Yd(e),cm(t.stateNode,t.type,e))}}function yE(t){So?Io?Io.push(t):Io=[t]:So=t}function vE(){if(So){var t=So,e=Io;if(Io=So=null,Hy(t),e)for(t=0;t<e.length;t++)Hy(e[t])}}function wE(t,e){return t(e)}function _E(){}var ef=!1;function EE(t,e,n){if(ef)return t(e,n);ef=!0;try{return wE(t,e,n)}finally{ef=!1,(So!==null||Io!==null)&&(_E(),vE())}}function bl(t,e){var n=t.stateNode;if(n===null)return null;var r=Yd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(q(231,e,typeof n));return n}var um=!1;if(Vr)try{var ka={};Object.defineProperty(ka,"passive",{get:function(){um=!0}}),window.addEventListener("test",ka,ka),window.removeEventListener("test",ka,ka)}catch{um=!1}function _C(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var ol=!1,Hu=null,Wu=!1,dm=null,EC={onError:function(t){ol=!0,Hu=t}};function TC(t,e,n,r,i,s,o,a,l){ol=!1,Hu=null,_C.apply(EC,arguments)}function xC(t,e,n,r,i,s,o,a,l){if(TC.apply(this,arguments),ol){if(ol){var u=Hu;ol=!1,Hu=null}else throw Error(q(198));Wu||(Wu=!0,dm=u)}}function Ms(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function TE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Wy(t){if(Ms(t)!==t)throw Error(q(188))}function bC(t){var e=t.alternate;if(!e){if(e=Ms(t),e===null)throw Error(q(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Wy(i),t;if(s===r)return Wy(i),e;s=s.sibling}throw Error(q(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?t:e}function xE(t){return t=bC(t),t!==null?bE(t):null}function bE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=bE(t);if(e!==null)return e;t=t.sibling}return null}var SE=gn.unstable_scheduleCallback,qy=gn.unstable_cancelCallback,SC=gn.unstable_shouldYield,IC=gn.unstable_requestPaint,lt=gn.unstable_now,CC=gn.unstable_getCurrentPriorityLevel,Wp=gn.unstable_ImmediatePriority,IE=gn.unstable_UserBlockingPriority,qu=gn.unstable_NormalPriority,PC=gn.unstable_LowPriority,CE=gn.unstable_IdlePriority,qd=null,nr=null;function AC(t){if(nr&&typeof nr.onCommitFiberRoot=="function")try{nr.onCommitFiberRoot(qd,t,void 0,(t.current.flags&128)===128)}catch{}}var Fn=Math.clz32?Math.clz32:kC,RC=Math.log,NC=Math.LN2;function kC(t){return t>>>=0,t===0?32:31-(RC(t)/NC|0)|0}var qc=64,Kc=4194304;function Ga(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ku(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Ga(a):(s&=o,s!==0&&(r=Ga(s)))}else o=n&~i,o!==0?r=Ga(o):s!==0&&(r=Ga(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Fn(e),i=1<<n,r|=t[n],e&=~i;return r}function DC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function LC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Fn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=DC(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function hm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function PE(){var t=qc;return qc<<=1,!(qc&4194240)&&(qc=64),t}function tf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function nc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Fn(e),t[e]=n}function MC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Fn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function qp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Fn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var De=0;function AE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var RE,Kp,NE,kE,DE,fm=!1,Gc=[],_i=null,Ei=null,Ti=null,Sl=new Map,Il=new Map,ci=[],VC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ky(t,e){switch(t){case"focusin":case"focusout":_i=null;break;case"dragenter":case"dragleave":Ei=null;break;case"mouseover":case"mouseout":Ti=null;break;case"pointerover":case"pointerout":Sl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(e.pointerId)}}function Da(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ic(e),e!==null&&Kp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function OC(t,e,n,r,i){switch(e){case"focusin":return _i=Da(_i,t,e,n,r,i),!0;case"dragenter":return Ei=Da(Ei,t,e,n,r,i),!0;case"mouseover":return Ti=Da(Ti,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Sl.set(s,Da(Sl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Il.set(s,Da(Il.get(s)||null,t,e,n,r,i)),!0}return!1}function LE(t){var e=fs(t.target);if(e!==null){var n=Ms(e);if(n!==null){if(e=n.tag,e===13){if(e=TE(n),e!==null){t.blockedOn=e,DE(t.priority,function(){NE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=mm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);lm=r,n.target.dispatchEvent(r),lm=null}else return e=ic(n),e!==null&&Kp(e),t.blockedOn=n,!1;e.shift()}return!0}function Gy(t,e,n){vu(t)&&n.delete(e)}function FC(){fm=!1,_i!==null&&vu(_i)&&(_i=null),Ei!==null&&vu(Ei)&&(Ei=null),Ti!==null&&vu(Ti)&&(Ti=null),Sl.forEach(Gy),Il.forEach(Gy)}function La(t,e){t.blockedOn===e&&(t.blockedOn=null,fm||(fm=!0,gn.unstable_scheduleCallback(gn.unstable_NormalPriority,FC)))}function Cl(t){function e(i){return La(i,t)}if(0<Gc.length){La(Gc[0],t);for(var n=1;n<Gc.length;n++){var r=Gc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(_i!==null&&La(_i,t),Ei!==null&&La(Ei,t),Ti!==null&&La(Ti,t),Sl.forEach(e),Il.forEach(e),n=0;n<ci.length;n++)r=ci[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ci.length&&(n=ci[0],n.blockedOn===null);)LE(n),n.blockedOn===null&&ci.shift()}var Co=Wr.ReactCurrentBatchConfig,Gu=!0;function UC(t,e,n,r){var i=De,s=Co.transition;Co.transition=null;try{De=1,Gp(t,e,n,r)}finally{De=i,Co.transition=s}}function jC(t,e,n,r){var i=De,s=Co.transition;Co.transition=null;try{De=4,Gp(t,e,n,r)}finally{De=i,Co.transition=s}}function Gp(t,e,n,r){if(Gu){var i=mm(t,e,n,r);if(i===null)hf(t,e,r,Qu,n),Ky(t,r);else if(OC(i,t,e,n,r))r.stopPropagation();else if(Ky(t,r),e&4&&-1<VC.indexOf(t)){for(;i!==null;){var s=ic(i);if(s!==null&&RE(s),s=mm(t,e,n,r),s===null&&hf(t,e,r,Qu,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else hf(t,e,r,null,n)}}var Qu=null;function mm(t,e,n,r){if(Qu=null,t=Hp(r),t=fs(t),t!==null)if(e=Ms(t),e===null)t=null;else if(n=e.tag,n===13){if(t=TE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Qu=t,null}function ME(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(CC()){case Wp:return 1;case IE:return 4;case qu:case PC:return 16;case CE:return 536870912;default:return 16}default:return 16}}var pi=null,Qp=null,wu=null;function VE(){if(wu)return wu;var t,e=Qp,n=e.length,r,i="value"in pi?pi.value:pi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return wu=i.slice(t,1<r?1-r:void 0)}function _u(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Qc(){return!0}function Qy(){return!1}function wn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Qc:Qy,this.isPropagationStopped=Qy,this}return et(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Qc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Qc)},persist:function(){},isPersistent:Qc}),e}var ia={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yp=wn(ia),rc=et({},ia,{view:0,detail:0}),BC=wn(rc),nf,rf,Ma,Kd=et({},rc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ma&&(Ma&&t.type==="mousemove"?(nf=t.screenX-Ma.screenX,rf=t.screenY-Ma.screenY):rf=nf=0,Ma=t),nf)},movementY:function(t){return"movementY"in t?t.movementY:rf}}),Yy=wn(Kd),zC=et({},Kd,{dataTransfer:0}),$C=wn(zC),HC=et({},rc,{relatedTarget:0}),sf=wn(HC),WC=et({},ia,{animationName:0,elapsedTime:0,pseudoElement:0}),qC=wn(WC),KC=et({},ia,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),GC=wn(KC),QC=et({},ia,{data:0}),Xy=wn(QC),YC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},XC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},JC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ZC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=JC[t])?!!e[t]:!1}function Xp(){return ZC}var eP=et({},rc,{key:function(t){if(t.key){var e=YC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=_u(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?XC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xp,charCode:function(t){return t.type==="keypress"?_u(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_u(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tP=wn(eP),nP=et({},Kd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jy=wn(nP),rP=et({},rc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xp}),iP=wn(rP),sP=et({},ia,{propertyName:0,elapsedTime:0,pseudoElement:0}),oP=wn(sP),aP=et({},Kd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),lP=wn(aP),cP=[9,13,27,32],Jp=Vr&&"CompositionEvent"in window,al=null;Vr&&"documentMode"in document&&(al=document.documentMode);var uP=Vr&&"TextEvent"in window&&!al,OE=Vr&&(!Jp||al&&8<al&&11>=al),Zy=String.fromCharCode(32),ev=!1;function FE(t,e){switch(t){case"keyup":return cP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function UE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ao=!1;function dP(t,e){switch(t){case"compositionend":return UE(e);case"keypress":return e.which!==32?null:(ev=!0,Zy);case"textInput":return t=e.data,t===Zy&&ev?null:t;default:return null}}function hP(t,e){if(ao)return t==="compositionend"||!Jp&&FE(t,e)?(t=VE(),wu=Qp=pi=null,ao=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return OE&&e.locale!=="ko"?null:e.data;default:return null}}var fP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!fP[t.type]:e==="textarea"}function jE(t,e,n,r){yE(r),e=Yu(e,"onChange"),0<e.length&&(n=new Yp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ll=null,Pl=null;function mP(t){XE(t,0)}function Gd(t){var e=uo(t);if(uE(e))return t}function pP(t,e){if(t==="change")return e}var BE=!1;if(Vr){var of;if(Vr){var af="oninput"in document;if(!af){var nv=document.createElement("div");nv.setAttribute("oninput","return;"),af=typeof nv.oninput=="function"}of=af}else of=!1;BE=of&&(!document.documentMode||9<document.documentMode)}function rv(){ll&&(ll.detachEvent("onpropertychange",zE),Pl=ll=null)}function zE(t){if(t.propertyName==="value"&&Gd(Pl)){var e=[];jE(e,Pl,t,Hp(t)),EE(mP,e)}}function gP(t,e,n){t==="focusin"?(rv(),ll=e,Pl=n,ll.attachEvent("onpropertychange",zE)):t==="focusout"&&rv()}function yP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gd(Pl)}function vP(t,e){if(t==="click")return Gd(e)}function wP(t,e){if(t==="input"||t==="change")return Gd(e)}function _P(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Bn=typeof Object.is=="function"?Object.is:_P;function Al(t,e){if(Bn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Yf.call(e,i)||!Bn(t[i],e[i]))return!1}return!0}function iv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sv(t,e){var n=iv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=iv(n)}}function $E(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?$E(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function HE(){for(var t=window,e=$u();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=$u(t.document)}return e}function Zp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function EP(t){var e=HE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&$E(n.ownerDocument.documentElement,n)){if(r!==null&&Zp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=sv(n,s);var o=sv(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var TP=Vr&&"documentMode"in document&&11>=document.documentMode,lo=null,pm=null,cl=null,gm=!1;function ov(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gm||lo==null||lo!==$u(r)||(r=lo,"selectionStart"in r&&Zp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),cl&&Al(cl,r)||(cl=r,r=Yu(pm,"onSelect"),0<r.length&&(e=new Yp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=lo)))}function Yc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var co={animationend:Yc("Animation","AnimationEnd"),animationiteration:Yc("Animation","AnimationIteration"),animationstart:Yc("Animation","AnimationStart"),transitionend:Yc("Transition","TransitionEnd")},lf={},WE={};Vr&&(WE=document.createElement("div").style,"AnimationEvent"in window||(delete co.animationend.animation,delete co.animationiteration.animation,delete co.animationstart.animation),"TransitionEvent"in window||delete co.transitionend.transition);function Qd(t){if(lf[t])return lf[t];if(!co[t])return t;var e=co[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in WE)return lf[t]=e[n];return t}var qE=Qd("animationend"),KE=Qd("animationiteration"),GE=Qd("animationstart"),QE=Qd("transitionend"),YE=new Map,av="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $i(t,e){YE.set(t,e),Ls(e,[t])}for(var cf=0;cf<av.length;cf++){var uf=av[cf],xP=uf.toLowerCase(),bP=uf[0].toUpperCase()+uf.slice(1);$i(xP,"on"+bP)}$i(qE,"onAnimationEnd");$i(KE,"onAnimationIteration");$i(GE,"onAnimationStart");$i("dblclick","onDoubleClick");$i("focusin","onFocus");$i("focusout","onBlur");$i(QE,"onTransitionEnd");Vo("onMouseEnter",["mouseout","mouseover"]);Vo("onMouseLeave",["mouseout","mouseover"]);Vo("onPointerEnter",["pointerout","pointerover"]);Vo("onPointerLeave",["pointerout","pointerover"]);Ls("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ls("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ls("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ls("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ls("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ls("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SP=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qa));function lv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,xC(r,e,void 0,t),t.currentTarget=null}function XE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;lv(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;lv(i,a,u),s=l}}}if(Wu)throw t=dm,Wu=!1,dm=null,t}function We(t,e){var n=e[Em];n===void 0&&(n=e[Em]=new Set);var r=t+"__bubble";n.has(r)||(JE(e,t,2,!1),n.add(r))}function df(t,e,n){var r=0;e&&(r|=4),JE(n,t,r,e)}var Xc="_reactListening"+Math.random().toString(36).slice(2);function Rl(t){if(!t[Xc]){t[Xc]=!0,sE.forEach(function(n){n!=="selectionchange"&&(SP.has(n)||df(n,!1,t),df(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Xc]||(e[Xc]=!0,df("selectionchange",!1,e))}}function JE(t,e,n,r){switch(ME(e)){case 1:var i=UC;break;case 4:i=jC;break;default:i=Gp}n=i.bind(null,e,n,t),i=void 0,!um||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function hf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=fs(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}EE(function(){var u=s,d=Hp(n),h=[];e:{var p=YE.get(t);if(p!==void 0){var y=Yp,E=t;switch(t){case"keypress":if(_u(n)===0)break e;case"keydown":case"keyup":y=tP;break;case"focusin":E="focus",y=sf;break;case"focusout":E="blur",y=sf;break;case"beforeblur":case"afterblur":y=sf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Yy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=$C;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=iP;break;case qE:case KE:case GE:y=qC;break;case QE:y=oP;break;case"scroll":y=BC;break;case"wheel":y=lP;break;case"copy":case"cut":case"paste":y=GC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Jy}var S=(e&4)!==0,R=!S&&t==="scroll",T=S?p!==null?p+"Capture":null:p;S=[];for(var w=u,x;w!==null;){x=w;var L=x.stateNode;if(x.tag===5&&L!==null&&(x=L,T!==null&&(L=bl(w,T),L!=null&&S.push(Nl(w,L,x)))),R)break;w=w.return}0<S.length&&(p=new y(p,E,null,n,d),h.push({event:p,listeners:S}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",p&&n!==lm&&(E=n.relatedTarget||n.fromElement)&&(fs(E)||E[Or]))break e;if((y||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,y?(E=n.relatedTarget||n.toElement,y=u,E=E?fs(E):null,E!==null&&(R=Ms(E),E!==R||E.tag!==5&&E.tag!==6)&&(E=null)):(y=null,E=u),y!==E)){if(S=Yy,L="onMouseLeave",T="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(S=Jy,L="onPointerLeave",T="onPointerEnter",w="pointer"),R=y==null?p:uo(y),x=E==null?p:uo(E),p=new S(L,w+"leave",y,n,d),p.target=R,p.relatedTarget=x,L=null,fs(d)===u&&(S=new S(T,w+"enter",E,n,d),S.target=x,S.relatedTarget=R,L=S),R=L,y&&E)t:{for(S=y,T=E,w=0,x=S;x;x=Js(x))w++;for(x=0,L=T;L;L=Js(L))x++;for(;0<w-x;)S=Js(S),w--;for(;0<x-w;)T=Js(T),x--;for(;w--;){if(S===T||T!==null&&S===T.alternate)break t;S=Js(S),T=Js(T)}S=null}else S=null;y!==null&&cv(h,p,y,S,!1),E!==null&&R!==null&&cv(h,R,E,S,!0)}}e:{if(p=u?uo(u):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var j=pP;else if(tv(p))if(BE)j=wP;else{j=yP;var k=gP}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(j=vP);if(j&&(j=j(t,u))){jE(h,j,n,d);break e}k&&k(t,p,u),t==="focusout"&&(k=p._wrapperState)&&k.controlled&&p.type==="number"&&rm(p,"number",p.value)}switch(k=u?uo(u):window,t){case"focusin":(tv(k)||k.contentEditable==="true")&&(lo=k,pm=u,cl=null);break;case"focusout":cl=pm=lo=null;break;case"mousedown":gm=!0;break;case"contextmenu":case"mouseup":case"dragend":gm=!1,ov(h,n,d);break;case"selectionchange":if(TP)break;case"keydown":case"keyup":ov(h,n,d)}var A;if(Jp)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else ao?FE(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(OE&&n.locale!=="ko"&&(ao||_!=="onCompositionStart"?_==="onCompositionEnd"&&ao&&(A=VE()):(pi=d,Qp="value"in pi?pi.value:pi.textContent,ao=!0)),k=Yu(u,_),0<k.length&&(_=new Xy(_,t,null,n,d),h.push({event:_,listeners:k}),A?_.data=A:(A=UE(n),A!==null&&(_.data=A)))),(A=uP?dP(t,n):hP(t,n))&&(u=Yu(u,"onBeforeInput"),0<u.length&&(d=new Xy("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=A))}XE(h,e)})}function Nl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Yu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=bl(t,n),s!=null&&r.unshift(Nl(t,s,i)),s=bl(t,e),s!=null&&r.push(Nl(t,s,i))),t=t.return}return r}function Js(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function cv(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=bl(n,s),l!=null&&o.unshift(Nl(n,l,a))):i||(l=bl(n,s),l!=null&&o.push(Nl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var IP=/\r\n?/g,CP=/\u0000|\uFFFD/g;function uv(t){return(typeof t=="string"?t:""+t).replace(IP,`
`).replace(CP,"")}function Jc(t,e,n){if(e=uv(e),uv(t)!==e&&n)throw Error(q(425))}function Xu(){}var ym=null,vm=null;function wm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var _m=typeof setTimeout=="function"?setTimeout:void 0,PP=typeof clearTimeout=="function"?clearTimeout:void 0,dv=typeof Promise=="function"?Promise:void 0,AP=typeof queueMicrotask=="function"?queueMicrotask:typeof dv<"u"?function(t){return dv.resolve(null).then(t).catch(RP)}:_m;function RP(t){setTimeout(function(){throw t})}function ff(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Cl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Cl(e)}function xi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function hv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var sa=Math.random().toString(36).slice(2),Zn="__reactFiber$"+sa,kl="__reactProps$"+sa,Or="__reactContainer$"+sa,Em="__reactEvents$"+sa,NP="__reactListeners$"+sa,kP="__reactHandles$"+sa;function fs(t){var e=t[Zn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Or]||n[Zn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=hv(t);t!==null;){if(n=t[Zn])return n;t=hv(t)}return e}t=n,n=t.parentNode}return null}function ic(t){return t=t[Zn]||t[Or],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function uo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function Yd(t){return t[kl]||null}var Tm=[],ho=-1;function Hi(t){return{current:t}}function Ke(t){0>ho||(t.current=Tm[ho],Tm[ho]=null,ho--)}function Ue(t,e){ho++,Tm[ho]=t.current,t.current=e}var Li={},Ht=Hi(Li),on=Hi(!1),bs=Li;function Oo(t,e){var n=t.type.contextTypes;if(!n)return Li;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function an(t){return t=t.childContextTypes,t!=null}function Ju(){Ke(on),Ke(Ht)}function fv(t,e,n){if(Ht.current!==Li)throw Error(q(168));Ue(Ht,e),Ue(on,n)}function ZE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(q(108,gC(t)||"Unknown",i));return et({},n,r)}function Zu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Li,bs=Ht.current,Ue(Ht,t),Ue(on,on.current),!0}function mv(t,e,n){var r=t.stateNode;if(!r)throw Error(q(169));n?(t=ZE(t,e,bs),r.__reactInternalMemoizedMergedChildContext=t,Ke(on),Ke(Ht),Ue(Ht,t)):Ke(on),Ue(on,n)}var Er=null,Xd=!1,mf=!1;function eT(t){Er===null?Er=[t]:Er.push(t)}function DP(t){Xd=!0,eT(t)}function Wi(){if(!mf&&Er!==null){mf=!0;var t=0,e=De;try{var n=Er;for(De=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Er=null,Xd=!1}catch(i){throw Er!==null&&(Er=Er.slice(t+1)),SE(Wp,Wi),i}finally{De=e,mf=!1}}return null}var fo=[],mo=0,ed=null,td=0,bn=[],Sn=0,Ss=null,Tr=1,xr="";function os(t,e){fo[mo++]=td,fo[mo++]=ed,ed=t,td=e}function tT(t,e,n){bn[Sn++]=Tr,bn[Sn++]=xr,bn[Sn++]=Ss,Ss=t;var r=Tr;t=xr;var i=32-Fn(r)-1;r&=~(1<<i),n+=1;var s=32-Fn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Tr=1<<32-Fn(e)+i|n<<i|r,xr=s+t}else Tr=1<<s|n<<i|r,xr=t}function eg(t){t.return!==null&&(os(t,1),tT(t,1,0))}function tg(t){for(;t===ed;)ed=fo[--mo],fo[mo]=null,td=fo[--mo],fo[mo]=null;for(;t===Ss;)Ss=bn[--Sn],bn[Sn]=null,xr=bn[--Sn],bn[Sn]=null,Tr=bn[--Sn],bn[Sn]=null}var pn=null,fn=null,Qe=!1,On=null;function nT(t,e){var n=In(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function pv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,pn=t,fn=xi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,pn=t,fn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ss!==null?{id:Tr,overflow:xr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=In(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,pn=t,fn=null,!0):!1;default:return!1}}function xm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function bm(t){if(Qe){var e=fn;if(e){var n=e;if(!pv(t,e)){if(xm(t))throw Error(q(418));e=xi(n.nextSibling);var r=pn;e&&pv(t,e)?nT(r,n):(t.flags=t.flags&-4097|2,Qe=!1,pn=t)}}else{if(xm(t))throw Error(q(418));t.flags=t.flags&-4097|2,Qe=!1,pn=t}}}function gv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;pn=t}function Zc(t){if(t!==pn)return!1;if(!Qe)return gv(t),Qe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!wm(t.type,t.memoizedProps)),e&&(e=fn)){if(xm(t))throw rT(),Error(q(418));for(;e;)nT(t,e),e=xi(e.nextSibling)}if(gv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){fn=xi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}fn=null}}else fn=pn?xi(t.stateNode.nextSibling):null;return!0}function rT(){for(var t=fn;t;)t=xi(t.nextSibling)}function Fo(){fn=pn=null,Qe=!1}function ng(t){On===null?On=[t]:On.push(t)}var LP=Wr.ReactCurrentBatchConfig;function Va(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,t))}return t}function eu(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function yv(t){var e=t._init;return e(t._payload)}function iT(t){function e(T,w){if(t){var x=T.deletions;x===null?(T.deletions=[w],T.flags|=16):x.push(w)}}function n(T,w){if(!t)return null;for(;w!==null;)e(T,w),w=w.sibling;return null}function r(T,w){for(T=new Map;w!==null;)w.key!==null?T.set(w.key,w):T.set(w.index,w),w=w.sibling;return T}function i(T,w){return T=Ci(T,w),T.index=0,T.sibling=null,T}function s(T,w,x){return T.index=x,t?(x=T.alternate,x!==null?(x=x.index,x<w?(T.flags|=2,w):x):(T.flags|=2,w)):(T.flags|=1048576,w)}function o(T){return t&&T.alternate===null&&(T.flags|=2),T}function a(T,w,x,L){return w===null||w.tag!==6?(w=Ef(x,T.mode,L),w.return=T,w):(w=i(w,x),w.return=T,w)}function l(T,w,x,L){var j=x.type;return j===oo?d(T,w,x.props.children,L,x.key):w!==null&&(w.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ai&&yv(j)===w.type)?(L=i(w,x.props),L.ref=Va(T,w,x),L.return=T,L):(L=Cu(x.type,x.key,x.props,null,T.mode,L),L.ref=Va(T,w,x),L.return=T,L)}function u(T,w,x,L){return w===null||w.tag!==4||w.stateNode.containerInfo!==x.containerInfo||w.stateNode.implementation!==x.implementation?(w=Tf(x,T.mode,L),w.return=T,w):(w=i(w,x.children||[]),w.return=T,w)}function d(T,w,x,L,j){return w===null||w.tag!==7?(w=Es(x,T.mode,L,j),w.return=T,w):(w=i(w,x),w.return=T,w)}function h(T,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Ef(""+w,T.mode,x),w.return=T,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case $c:return x=Cu(w.type,w.key,w.props,null,T.mode,x),x.ref=Va(T,null,w),x.return=T,x;case so:return w=Tf(w,T.mode,x),w.return=T,w;case ai:var L=w._init;return h(T,L(w._payload),x)}if(Ka(w)||Na(w))return w=Es(w,T.mode,x,null),w.return=T,w;eu(T,w)}return null}function p(T,w,x,L){var j=w!==null?w.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return j!==null?null:a(T,w,""+x,L);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case $c:return x.key===j?l(T,w,x,L):null;case so:return x.key===j?u(T,w,x,L):null;case ai:return j=x._init,p(T,w,j(x._payload),L)}if(Ka(x)||Na(x))return j!==null?null:d(T,w,x,L,null);eu(T,x)}return null}function y(T,w,x,L,j){if(typeof L=="string"&&L!==""||typeof L=="number")return T=T.get(x)||null,a(w,T,""+L,j);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case $c:return T=T.get(L.key===null?x:L.key)||null,l(w,T,L,j);case so:return T=T.get(L.key===null?x:L.key)||null,u(w,T,L,j);case ai:var k=L._init;return y(T,w,x,k(L._payload),j)}if(Ka(L)||Na(L))return T=T.get(x)||null,d(w,T,L,j,null);eu(w,L)}return null}function E(T,w,x,L){for(var j=null,k=null,A=w,_=w=0,b=null;A!==null&&_<x.length;_++){A.index>_?(b=A,A=null):b=A.sibling;var P=p(T,A,x[_],L);if(P===null){A===null&&(A=b);break}t&&A&&P.alternate===null&&e(T,A),w=s(P,w,_),k===null?j=P:k.sibling=P,k=P,A=b}if(_===x.length)return n(T,A),Qe&&os(T,_),j;if(A===null){for(;_<x.length;_++)A=h(T,x[_],L),A!==null&&(w=s(A,w,_),k===null?j=A:k.sibling=A,k=A);return Qe&&os(T,_),j}for(A=r(T,A);_<x.length;_++)b=y(A,T,_,x[_],L),b!==null&&(t&&b.alternate!==null&&A.delete(b.key===null?_:b.key),w=s(b,w,_),k===null?j=b:k.sibling=b,k=b);return t&&A.forEach(function(D){return e(T,D)}),Qe&&os(T,_),j}function S(T,w,x,L){var j=Na(x);if(typeof j!="function")throw Error(q(150));if(x=j.call(x),x==null)throw Error(q(151));for(var k=j=null,A=w,_=w=0,b=null,P=x.next();A!==null&&!P.done;_++,P=x.next()){A.index>_?(b=A,A=null):b=A.sibling;var D=p(T,A,P.value,L);if(D===null){A===null&&(A=b);break}t&&A&&D.alternate===null&&e(T,A),w=s(D,w,_),k===null?j=D:k.sibling=D,k=D,A=b}if(P.done)return n(T,A),Qe&&os(T,_),j;if(A===null){for(;!P.done;_++,P=x.next())P=h(T,P.value,L),P!==null&&(w=s(P,w,_),k===null?j=P:k.sibling=P,k=P);return Qe&&os(T,_),j}for(A=r(T,A);!P.done;_++,P=x.next())P=y(A,T,_,P.value,L),P!==null&&(t&&P.alternate!==null&&A.delete(P.key===null?_:P.key),w=s(P,w,_),k===null?j=P:k.sibling=P,k=P);return t&&A.forEach(function(V){return e(T,V)}),Qe&&os(T,_),j}function R(T,w,x,L){if(typeof x=="object"&&x!==null&&x.type===oo&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case $c:e:{for(var j=x.key,k=w;k!==null;){if(k.key===j){if(j=x.type,j===oo){if(k.tag===7){n(T,k.sibling),w=i(k,x.props.children),w.return=T,T=w;break e}}else if(k.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ai&&yv(j)===k.type){n(T,k.sibling),w=i(k,x.props),w.ref=Va(T,k,x),w.return=T,T=w;break e}n(T,k);break}else e(T,k);k=k.sibling}x.type===oo?(w=Es(x.props.children,T.mode,L,x.key),w.return=T,T=w):(L=Cu(x.type,x.key,x.props,null,T.mode,L),L.ref=Va(T,w,x),L.return=T,T=L)}return o(T);case so:e:{for(k=x.key;w!==null;){if(w.key===k)if(w.tag===4&&w.stateNode.containerInfo===x.containerInfo&&w.stateNode.implementation===x.implementation){n(T,w.sibling),w=i(w,x.children||[]),w.return=T,T=w;break e}else{n(T,w);break}else e(T,w);w=w.sibling}w=Tf(x,T.mode,L),w.return=T,T=w}return o(T);case ai:return k=x._init,R(T,w,k(x._payload),L)}if(Ka(x))return E(T,w,x,L);if(Na(x))return S(T,w,x,L);eu(T,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,w!==null&&w.tag===6?(n(T,w.sibling),w=i(w,x),w.return=T,T=w):(n(T,w),w=Ef(x,T.mode,L),w.return=T,T=w),o(T)):n(T,w)}return R}var Uo=iT(!0),sT=iT(!1),nd=Hi(null),rd=null,po=null,rg=null;function ig(){rg=po=rd=null}function sg(t){var e=nd.current;Ke(nd),t._currentValue=e}function Sm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Po(t,e){rd=t,rg=po=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(sn=!0),t.firstContext=null)}function Pn(t){var e=t._currentValue;if(rg!==t)if(t={context:t,memoizedValue:e,next:null},po===null){if(rd===null)throw Error(q(308));po=t,rd.dependencies={lanes:0,firstContext:t}}else po=po.next=t;return e}var ms=null;function og(t){ms===null?ms=[t]:ms.push(t)}function oT(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,og(e)):(n.next=i.next,i.next=n),e.interleaved=n,Fr(t,r)}function Fr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var li=!1;function ag(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function aT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Pr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function bi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Re&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Fr(t,n)}return i=r.interleaved,i===null?(e.next=e,og(r)):(e.next=i.next,i.next=e),r.interleaved=e,Fr(t,n)}function Eu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,qp(t,n)}}function vv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function id(t,e,n,r){var i=t.updateQueue;li=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=u=l=null,a=s;do{var p=a.lane,y=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=t,S=a;switch(p=e,y=n,S.tag){case 1:if(E=S.payload,typeof E=="function"){h=E.call(y,h,p);break e}h=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=S.payload,p=typeof E=="function"?E.call(y,h,p):E,p==null)break e;h=et({},h,p);break e;case 2:li=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else y={eventTime:y,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=y,l=h):d=d.next=y,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Cs|=o,t.lanes=o,t.memoizedState=h}}function wv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(q(191,i));i.call(r)}}}var sc={},rr=Hi(sc),Dl=Hi(sc),Ll=Hi(sc);function ps(t){if(t===sc)throw Error(q(174));return t}function lg(t,e){switch(Ue(Ll,e),Ue(Dl,t),Ue(rr,sc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:sm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=sm(e,t)}Ke(rr),Ue(rr,e)}function jo(){Ke(rr),Ke(Dl),Ke(Ll)}function lT(t){ps(Ll.current);var e=ps(rr.current),n=sm(e,t.type);e!==n&&(Ue(Dl,t),Ue(rr,n))}function cg(t){Dl.current===t&&(Ke(rr),Ke(Dl))}var Xe=Hi(0);function sd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var pf=[];function ug(){for(var t=0;t<pf.length;t++)pf[t]._workInProgressVersionPrimary=null;pf.length=0}var Tu=Wr.ReactCurrentDispatcher,gf=Wr.ReactCurrentBatchConfig,Is=0,Ze=null,mt=null,vt=null,od=!1,ul=!1,Ml=0,MP=0;function Vt(){throw Error(q(321))}function dg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Bn(t[n],e[n]))return!1;return!0}function hg(t,e,n,r,i,s){if(Is=s,Ze=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Tu.current=t===null||t.memoizedState===null?UP:jP,t=n(r,i),ul){s=0;do{if(ul=!1,Ml=0,25<=s)throw Error(q(301));s+=1,vt=mt=null,e.updateQueue=null,Tu.current=BP,t=n(r,i)}while(ul)}if(Tu.current=ad,e=mt!==null&&mt.next!==null,Is=0,vt=mt=Ze=null,od=!1,e)throw Error(q(300));return t}function fg(){var t=Ml!==0;return Ml=0,t}function Jn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Ze.memoizedState=vt=t:vt=vt.next=t,vt}function An(){if(mt===null){var t=Ze.alternate;t=t!==null?t.memoizedState:null}else t=mt.next;var e=vt===null?Ze.memoizedState:vt.next;if(e!==null)vt=e,mt=t;else{if(t===null)throw Error(q(310));mt=t,t={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},vt===null?Ze.memoizedState=vt=t:vt=vt.next=t}return vt}function Vl(t,e){return typeof e=="function"?e(t):e}function yf(t){var e=An(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=mt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((Is&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Ze.lanes|=d,Cs|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Bn(r,e.memoizedState)||(sn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ze.lanes|=s,Cs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function vf(t){var e=An(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Bn(s,e.memoizedState)||(sn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function cT(){}function uT(t,e){var n=Ze,r=An(),i=e(),s=!Bn(r.memoizedState,i);if(s&&(r.memoizedState=i,sn=!0),r=r.queue,mg(fT.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||vt!==null&&vt.memoizedState.tag&1){if(n.flags|=2048,Ol(9,hT.bind(null,n,r,i,e),void 0,null),wt===null)throw Error(q(349));Is&30||dT(n,e,i)}return i}function dT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ze.updateQueue,e===null?(e={lastEffect:null,stores:null},Ze.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function hT(t,e,n,r){e.value=n,e.getSnapshot=r,mT(e)&&pT(t)}function fT(t,e,n){return n(function(){mT(e)&&pT(t)})}function mT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Bn(t,n)}catch{return!0}}function pT(t){var e=Fr(t,1);e!==null&&Un(e,t,1,-1)}function _v(t){var e=Jn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vl,lastRenderedState:t},e.queue=t,t=t.dispatch=FP.bind(null,Ze,t),[e.memoizedState,t]}function Ol(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ze.updateQueue,e===null?(e={lastEffect:null,stores:null},Ze.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function gT(){return An().memoizedState}function xu(t,e,n,r){var i=Jn();Ze.flags|=t,i.memoizedState=Ol(1|e,n,void 0,r===void 0?null:r)}function Jd(t,e,n,r){var i=An();r=r===void 0?null:r;var s=void 0;if(mt!==null){var o=mt.memoizedState;if(s=o.destroy,r!==null&&dg(r,o.deps)){i.memoizedState=Ol(e,n,s,r);return}}Ze.flags|=t,i.memoizedState=Ol(1|e,n,s,r)}function Ev(t,e){return xu(8390656,8,t,e)}function mg(t,e){return Jd(2048,8,t,e)}function yT(t,e){return Jd(4,2,t,e)}function vT(t,e){return Jd(4,4,t,e)}function wT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function _T(t,e,n){return n=n!=null?n.concat([t]):null,Jd(4,4,wT.bind(null,e,t),n)}function pg(){}function ET(t,e){var n=An();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&dg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function TT(t,e){var n=An();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&dg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function xT(t,e,n){return Is&21?(Bn(n,e)||(n=PE(),Ze.lanes|=n,Cs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,sn=!0),t.memoizedState=n)}function VP(t,e){var n=De;De=n!==0&&4>n?n:4,t(!0);var r=gf.transition;gf.transition={};try{t(!1),e()}finally{De=n,gf.transition=r}}function bT(){return An().memoizedState}function OP(t,e,n){var r=Ii(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ST(t))IT(e,n);else if(n=oT(t,e,n,r),n!==null){var i=Qt();Un(n,t,r,i),CT(n,e,r)}}function FP(t,e,n){var r=Ii(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ST(t))IT(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Bn(a,o)){var l=e.interleaved;l===null?(i.next=i,og(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=oT(t,e,i,r),n!==null&&(i=Qt(),Un(n,t,r,i),CT(n,e,r))}}function ST(t){var e=t.alternate;return t===Ze||e!==null&&e===Ze}function IT(t,e){ul=od=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function CT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,qp(t,n)}}var ad={readContext:Pn,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},UP={readContext:Pn,useCallback:function(t,e){return Jn().memoizedState=[t,e===void 0?null:e],t},useContext:Pn,useEffect:Ev,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,xu(4194308,4,wT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return xu(4194308,4,t,e)},useInsertionEffect:function(t,e){return xu(4,2,t,e)},useMemo:function(t,e){var n=Jn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Jn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=OP.bind(null,Ze,t),[r.memoizedState,t]},useRef:function(t){var e=Jn();return t={current:t},e.memoizedState=t},useState:_v,useDebugValue:pg,useDeferredValue:function(t){return Jn().memoizedState=t},useTransition:function(){var t=_v(!1),e=t[0];return t=VP.bind(null,t[1]),Jn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ze,i=Jn();if(Qe){if(n===void 0)throw Error(q(407));n=n()}else{if(n=e(),wt===null)throw Error(q(349));Is&30||dT(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Ev(fT.bind(null,r,s,t),[t]),r.flags|=2048,Ol(9,hT.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Jn(),e=wt.identifierPrefix;if(Qe){var n=xr,r=Tr;n=(r&~(1<<32-Fn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ml++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=MP++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},jP={readContext:Pn,useCallback:ET,useContext:Pn,useEffect:mg,useImperativeHandle:_T,useInsertionEffect:yT,useLayoutEffect:vT,useMemo:TT,useReducer:yf,useRef:gT,useState:function(){return yf(Vl)},useDebugValue:pg,useDeferredValue:function(t){var e=An();return xT(e,mt.memoizedState,t)},useTransition:function(){var t=yf(Vl)[0],e=An().memoizedState;return[t,e]},useMutableSource:cT,useSyncExternalStore:uT,useId:bT,unstable_isNewReconciler:!1},BP={readContext:Pn,useCallback:ET,useContext:Pn,useEffect:mg,useImperativeHandle:_T,useInsertionEffect:yT,useLayoutEffect:vT,useMemo:TT,useReducer:vf,useRef:gT,useState:function(){return vf(Vl)},useDebugValue:pg,useDeferredValue:function(t){var e=An();return mt===null?e.memoizedState=t:xT(e,mt.memoizedState,t)},useTransition:function(){var t=vf(Vl)[0],e=An().memoizedState;return[t,e]},useMutableSource:cT,useSyncExternalStore:uT,useId:bT,unstable_isNewReconciler:!1};function Ln(t,e){if(t&&t.defaultProps){e=et({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Im(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:et({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Zd={isMounted:function(t){return(t=t._reactInternals)?Ms(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Qt(),i=Ii(t),s=Pr(r,i);s.payload=e,n!=null&&(s.callback=n),e=bi(t,s,i),e!==null&&(Un(e,t,i,r),Eu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Qt(),i=Ii(t),s=Pr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=bi(t,s,i),e!==null&&(Un(e,t,i,r),Eu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Qt(),r=Ii(t),i=Pr(n,r);i.tag=2,e!=null&&(i.callback=e),e=bi(t,i,r),e!==null&&(Un(e,t,r,n),Eu(e,t,r))}};function Tv(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Al(n,r)||!Al(i,s):!0}function PT(t,e,n){var r=!1,i=Li,s=e.contextType;return typeof s=="object"&&s!==null?s=Pn(s):(i=an(e)?bs:Ht.current,r=e.contextTypes,s=(r=r!=null)?Oo(t,i):Li),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Zd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function xv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Zd.enqueueReplaceState(e,e.state,null)}function Cm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},ag(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Pn(s):(s=an(e)?bs:Ht.current,i.context=Oo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Im(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Zd.enqueueReplaceState(i,i.state,null),id(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Bo(t,e){try{var n="",r=e;do n+=pC(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function wf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Pm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var zP=typeof WeakMap=="function"?WeakMap:Map;function AT(t,e,n){n=Pr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){cd||(cd=!0,Fm=r),Pm(t,e)},n}function RT(t,e,n){n=Pr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Pm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Pm(t,e),typeof r!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function bv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new zP;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=nA.bind(null,t,e,n),e.then(t,t))}function Sv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Iv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Pr(-1,1),e.tag=2,bi(n,e,1))),n.lanes|=1),t)}var $P=Wr.ReactCurrentOwner,sn=!1;function Kt(t,e,n,r){e.child=t===null?sT(e,null,n,r):Uo(e,t.child,n,r)}function Cv(t,e,n,r,i){n=n.render;var s=e.ref;return Po(e,i),r=hg(t,e,n,r,s,i),n=fg(),t!==null&&!sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ur(t,e,i)):(Qe&&n&&eg(e),e.flags|=1,Kt(t,e,r,i),e.child)}function Pv(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!xg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,NT(t,e,s,r,i)):(t=Cu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Al,n(o,r)&&t.ref===e.ref)return Ur(t,e,i)}return e.flags|=1,t=Ci(s,r),t.ref=e.ref,t.return=e,e.child=t}function NT(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Al(s,r)&&t.ref===e.ref)if(sn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(sn=!0);else return e.lanes=t.lanes,Ur(t,e,i)}return Am(t,e,n,r,i)}function kT(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(yo,dn),dn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ue(yo,dn),dn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ue(yo,dn),dn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ue(yo,dn),dn|=r;return Kt(t,e,i,n),e.child}function DT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Am(t,e,n,r,i){var s=an(n)?bs:Ht.current;return s=Oo(e,s),Po(e,i),n=hg(t,e,n,r,s,i),r=fg(),t!==null&&!sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ur(t,e,i)):(Qe&&r&&eg(e),e.flags|=1,Kt(t,e,n,i),e.child)}function Av(t,e,n,r,i){if(an(n)){var s=!0;Zu(e)}else s=!1;if(Po(e,i),e.stateNode===null)bu(t,e),PT(e,n,r),Cm(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Pn(u):(u=an(n)?bs:Ht.current,u=Oo(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&xv(e,o,r,u),li=!1;var p=e.memoizedState;o.state=p,id(e,r,o,i),l=e.memoizedState,a!==r||p!==l||on.current||li?(typeof d=="function"&&(Im(e,n,d,r),l=e.memoizedState),(a=li||Tv(e,n,a,r,p,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,aT(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Ln(e.type,a),o.props=u,h=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Pn(l):(l=an(n)?bs:Ht.current,l=Oo(e,l));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&xv(e,o,r,l),li=!1,p=e.memoizedState,o.state=p,id(e,r,o,i);var E=e.memoizedState;a!==h||p!==E||on.current||li?(typeof y=="function"&&(Im(e,n,y,r),E=e.memoizedState),(u=li||Tv(e,n,u,r,p,E,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,E,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,E,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),o.props=r,o.state=E,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Rm(t,e,n,r,s,i)}function Rm(t,e,n,r,i,s){DT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&mv(e,n,!1),Ur(t,e,s);r=e.stateNode,$P.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Uo(e,t.child,null,s),e.child=Uo(e,null,a,s)):Kt(t,e,a,s),e.memoizedState=r.state,i&&mv(e,n,!0),e.child}function LT(t){var e=t.stateNode;e.pendingContext?fv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&fv(t,e.context,!1),lg(t,e.containerInfo)}function Rv(t,e,n,r,i){return Fo(),ng(i),e.flags|=256,Kt(t,e,n,r),e.child}var Nm={dehydrated:null,treeContext:null,retryLane:0};function km(t){return{baseLanes:t,cachePool:null,transitions:null}}function MT(t,e,n){var r=e.pendingProps,i=Xe.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ue(Xe,i&1),t===null)return bm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=nh(o,r,0,null),t=Es(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=km(n),e.memoizedState=Nm,t):gg(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return HP(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ci(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ci(a,s):(s=Es(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?km(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Nm,r}return s=t.child,t=s.sibling,r=Ci(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function gg(t,e){return e=nh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function tu(t,e,n,r){return r!==null&&ng(r),Uo(e,t.child,null,n),t=gg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function HP(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=wf(Error(q(422))),tu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=nh({mode:"visible",children:r.children},i,0,null),s=Es(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Uo(e,t.child,null,o),e.child.memoizedState=km(o),e.memoizedState=Nm,s);if(!(e.mode&1))return tu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(q(419)),r=wf(s,r,void 0),tu(t,e,o,r)}if(a=(o&t.childLanes)!==0,sn||a){if(r=wt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Fr(t,i),Un(r,t,i,-1))}return Tg(),r=wf(Error(q(421))),tu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=rA.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,fn=xi(i.nextSibling),pn=e,Qe=!0,On=null,t!==null&&(bn[Sn++]=Tr,bn[Sn++]=xr,bn[Sn++]=Ss,Tr=t.id,xr=t.overflow,Ss=e),e=gg(e,r.children),e.flags|=4096,e)}function Nv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Sm(t.return,e,n)}function _f(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function VT(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Kt(t,e,r.children,n),r=Xe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Nv(t,n,e);else if(t.tag===19)Nv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ue(Xe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&sd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),_f(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&sd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}_f(e,!0,n,null,s);break;case"together":_f(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function bu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ur(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Cs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,n=Ci(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ci(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function WP(t,e,n){switch(e.tag){case 3:LT(e),Fo();break;case 5:lT(e);break;case 1:an(e.type)&&Zu(e);break;case 4:lg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ue(nd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ue(Xe,Xe.current&1),e.flags|=128,null):n&e.child.childLanes?MT(t,e,n):(Ue(Xe,Xe.current&1),t=Ur(t,e,n),t!==null?t.sibling:null);Ue(Xe,Xe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return VT(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ue(Xe,Xe.current),r)break;return null;case 22:case 23:return e.lanes=0,kT(t,e,n)}return Ur(t,e,n)}var OT,Dm,FT,UT;OT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Dm=function(){};FT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ps(rr.current);var s=null;switch(n){case"input":i=tm(t,i),r=tm(t,r),s=[];break;case"select":i=et({},i,{value:void 0}),r=et({},r,{value:void 0}),s=[];break;case"textarea":i=im(t,i),r=im(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Xu)}om(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Tl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Tl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&We("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};UT=function(t,e,n,r){n!==r&&(e.flags|=4)};function Oa(t,e){if(!Qe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ot(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function qP(t,e,n){var r=e.pendingProps;switch(tg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(e),null;case 1:return an(e.type)&&Ju(),Ot(e),null;case 3:return r=e.stateNode,jo(),Ke(on),Ke(Ht),ug(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Zc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,On!==null&&(Bm(On),On=null))),Dm(t,e),Ot(e),null;case 5:cg(e);var i=ps(Ll.current);if(n=e.type,t!==null&&e.stateNode!=null)FT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(q(166));return Ot(e),null}if(t=ps(rr.current),Zc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Zn]=e,r[kl]=s,t=(e.mode&1)!==0,n){case"dialog":We("cancel",r),We("close",r);break;case"iframe":case"object":case"embed":We("load",r);break;case"video":case"audio":for(i=0;i<Qa.length;i++)We(Qa[i],r);break;case"source":We("error",r);break;case"img":case"image":case"link":We("error",r),We("load",r);break;case"details":We("toggle",r);break;case"input":jy(r,s),We("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},We("invalid",r);break;case"textarea":zy(r,s),We("invalid",r)}om(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Jc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Jc(r.textContent,a,t),i=["children",""+a]):Tl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&We("scroll",r)}switch(n){case"input":Hc(r),By(r,s,!0);break;case"textarea":Hc(r),$y(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Xu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=fE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Zn]=e,t[kl]=r,OT(t,e,!1,!1),e.stateNode=t;e:{switch(o=am(n,r),n){case"dialog":We("cancel",t),We("close",t),i=r;break;case"iframe":case"object":case"embed":We("load",t),i=r;break;case"video":case"audio":for(i=0;i<Qa.length;i++)We(Qa[i],t);i=r;break;case"source":We("error",t),i=r;break;case"img":case"image":case"link":We("error",t),We("load",t),i=r;break;case"details":We("toggle",t),i=r;break;case"input":jy(t,r),i=tm(t,r),We("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=et({},r,{value:void 0}),We("invalid",t);break;case"textarea":zy(t,r),i=im(t,r),We("invalid",t);break;default:i=r}om(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?gE(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&mE(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&xl(t,l):typeof l=="number"&&xl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Tl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&We("scroll",t):l!=null&&jp(t,s,l,o))}switch(n){case"input":Hc(t),By(t,r,!1);break;case"textarea":Hc(t),$y(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Di(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?bo(t,!!r.multiple,s,!1):r.defaultValue!=null&&bo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Xu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ot(e),null;case 6:if(t&&e.stateNode!=null)UT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(q(166));if(n=ps(Ll.current),ps(rr.current),Zc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Zn]=e,(s=r.nodeValue!==n)&&(t=pn,t!==null))switch(t.tag){case 3:Jc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Jc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Zn]=e,e.stateNode=r}return Ot(e),null;case 13:if(Ke(Xe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Qe&&fn!==null&&e.mode&1&&!(e.flags&128))rT(),Fo(),e.flags|=98560,s=!1;else if(s=Zc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(q(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(q(317));s[Zn]=e}else Fo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ot(e),s=!1}else On!==null&&(Bm(On),On=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Xe.current&1?pt===0&&(pt=3):Tg())),e.updateQueue!==null&&(e.flags|=4),Ot(e),null);case 4:return jo(),Dm(t,e),t===null&&Rl(e.stateNode.containerInfo),Ot(e),null;case 10:return sg(e.type._context),Ot(e),null;case 17:return an(e.type)&&Ju(),Ot(e),null;case 19:if(Ke(Xe),s=e.memoizedState,s===null)return Ot(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Oa(s,!1);else{if(pt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=sd(t),o!==null){for(e.flags|=128,Oa(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ue(Xe,Xe.current&1|2),e.child}t=t.sibling}s.tail!==null&&lt()>zo&&(e.flags|=128,r=!0,Oa(s,!1),e.lanes=4194304)}else{if(!r)if(t=sd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Oa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Qe)return Ot(e),null}else 2*lt()-s.renderingStartTime>zo&&n!==1073741824&&(e.flags|=128,r=!0,Oa(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=lt(),e.sibling=null,n=Xe.current,Ue(Xe,r?n&1|2:n&1),e):(Ot(e),null);case 22:case 23:return Eg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?dn&1073741824&&(Ot(e),e.subtreeFlags&6&&(e.flags|=8192)):Ot(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function KP(t,e){switch(tg(e),e.tag){case 1:return an(e.type)&&Ju(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return jo(),Ke(on),Ke(Ht),ug(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return cg(e),null;case 13:if(Ke(Xe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));Fo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ke(Xe),null;case 4:return jo(),null;case 10:return sg(e.type._context),null;case 22:case 23:return Eg(),null;case 24:return null;default:return null}}var nu=!1,Bt=!1,GP=typeof WeakSet=="function"?WeakSet:Set,Z=null;function go(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){it(t,e,r)}else n.current=null}function Lm(t,e,n){try{n()}catch(r){it(t,e,r)}}var kv=!1;function QP(t,e){if(ym=Gu,t=HE(),Zp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,p=null;t:for(;;){for(var y;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)p=h,h=y;for(;;){if(h===t)break t;if(p===n&&++u===i&&(a=o),p===s&&++d===r&&(l=o),(y=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(vm={focusedElem:t,selectionRange:n},Gu=!1,Z=e;Z!==null;)if(e=Z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Z=t;else for(;Z!==null;){e=Z;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var S=E.memoizedProps,R=E.memoizedState,T=e.stateNode,w=T.getSnapshotBeforeUpdate(e.elementType===e.type?S:Ln(e.type,S),R);T.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(L){it(e,e.return,L)}if(t=e.sibling,t!==null){t.return=e.return,Z=t;break}Z=e.return}return E=kv,kv=!1,E}function dl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Lm(e,n,s)}i=i.next}while(i!==r)}}function eh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Mm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function jT(t){var e=t.alternate;e!==null&&(t.alternate=null,jT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Zn],delete e[kl],delete e[Em],delete e[NP],delete e[kP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function BT(t){return t.tag===5||t.tag===3||t.tag===4}function Dv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||BT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Xu));else if(r!==4&&(t=t.child,t!==null))for(Vm(t,e,n),t=t.sibling;t!==null;)Vm(t,e,n),t=t.sibling}function Om(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Om(t,e,n),t=t.sibling;t!==null;)Om(t,e,n),t=t.sibling}var St=null,Mn=!1;function ri(t,e,n){for(n=n.child;n!==null;)zT(t,e,n),n=n.sibling}function zT(t,e,n){if(nr&&typeof nr.onCommitFiberUnmount=="function")try{nr.onCommitFiberUnmount(qd,n)}catch{}switch(n.tag){case 5:Bt||go(n,e);case 6:var r=St,i=Mn;St=null,ri(t,e,n),St=r,Mn=i,St!==null&&(Mn?(t=St,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):St.removeChild(n.stateNode));break;case 18:St!==null&&(Mn?(t=St,n=n.stateNode,t.nodeType===8?ff(t.parentNode,n):t.nodeType===1&&ff(t,n),Cl(t)):ff(St,n.stateNode));break;case 4:r=St,i=Mn,St=n.stateNode.containerInfo,Mn=!0,ri(t,e,n),St=r,Mn=i;break;case 0:case 11:case 14:case 15:if(!Bt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Lm(n,e,o),i=i.next}while(i!==r)}ri(t,e,n);break;case 1:if(!Bt&&(go(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){it(n,e,a)}ri(t,e,n);break;case 21:ri(t,e,n);break;case 22:n.mode&1?(Bt=(r=Bt)||n.memoizedState!==null,ri(t,e,n),Bt=r):ri(t,e,n);break;default:ri(t,e,n)}}function Lv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new GP),e.forEach(function(r){var i=iA.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Dn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:St=a.stateNode,Mn=!1;break e;case 3:St=a.stateNode.containerInfo,Mn=!0;break e;case 4:St=a.stateNode.containerInfo,Mn=!0;break e}a=a.return}if(St===null)throw Error(q(160));zT(s,o,i),St=null,Mn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){it(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)$T(e,t),e=e.sibling}function $T(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Dn(e,t),Xn(t),r&4){try{dl(3,t,t.return),eh(3,t)}catch(S){it(t,t.return,S)}try{dl(5,t,t.return)}catch(S){it(t,t.return,S)}}break;case 1:Dn(e,t),Xn(t),r&512&&n!==null&&go(n,n.return);break;case 5:if(Dn(e,t),Xn(t),r&512&&n!==null&&go(n,n.return),t.flags&32){var i=t.stateNode;try{xl(i,"")}catch(S){it(t,t.return,S)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&dE(i,s),am(a,o);var u=am(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?gE(i,h):d==="dangerouslySetInnerHTML"?mE(i,h):d==="children"?xl(i,h):jp(i,d,h,u)}switch(a){case"input":nm(i,s);break;case"textarea":hE(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?bo(i,!!s.multiple,y,!1):p!==!!s.multiple&&(s.defaultValue!=null?bo(i,!!s.multiple,s.defaultValue,!0):bo(i,!!s.multiple,s.multiple?[]:"",!1))}i[kl]=s}catch(S){it(t,t.return,S)}}break;case 6:if(Dn(e,t),Xn(t),r&4){if(t.stateNode===null)throw Error(q(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(S){it(t,t.return,S)}}break;case 3:if(Dn(e,t),Xn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Cl(e.containerInfo)}catch(S){it(t,t.return,S)}break;case 4:Dn(e,t),Xn(t);break;case 13:Dn(e,t),Xn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(wg=lt())),r&4&&Lv(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Bt=(u=Bt)||d,Dn(e,t),Bt=u):Dn(e,t),Xn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Z=t,d=t.child;d!==null;){for(h=Z=d;Z!==null;){switch(p=Z,y=p.child,p.tag){case 0:case 11:case 14:case 15:dl(4,p,p.return);break;case 1:go(p,p.return);var E=p.stateNode;if(typeof E.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(S){it(r,n,S)}}break;case 5:go(p,p.return);break;case 22:if(p.memoizedState!==null){Vv(h);continue}}y!==null?(y.return=p,Z=y):Vv(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=pE("display",o))}catch(S){it(t,t.return,S)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(S){it(t,t.return,S)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Dn(e,t),Xn(t),r&4&&Lv(t);break;case 21:break;default:Dn(e,t),Xn(t)}}function Xn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(BT(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(xl(i,""),r.flags&=-33);var s=Dv(t);Om(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Dv(t);Vm(t,a,o);break;default:throw Error(q(161))}}catch(l){it(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function YP(t,e,n){Z=t,HT(t)}function HT(t,e,n){for(var r=(t.mode&1)!==0;Z!==null;){var i=Z,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||nu;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Bt;a=nu;var u=Bt;if(nu=o,(Bt=l)&&!u)for(Z=i;Z!==null;)o=Z,l=o.child,o.tag===22&&o.memoizedState!==null?Ov(i):l!==null?(l.return=o,Z=l):Ov(i);for(;s!==null;)Z=s,HT(s),s=s.sibling;Z=i,nu=a,Bt=u}Mv(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Z=s):Mv(t)}}function Mv(t){for(;Z!==null;){var e=Z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Bt||eh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Bt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ln(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&wv(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}wv(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Cl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Bt||e.flags&512&&Mm(e)}catch(p){it(e,e.return,p)}}if(e===t){Z=null;break}if(n=e.sibling,n!==null){n.return=e.return,Z=n;break}Z=e.return}}function Vv(t){for(;Z!==null;){var e=Z;if(e===t){Z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Z=n;break}Z=e.return}}function Ov(t){for(;Z!==null;){var e=Z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{eh(4,e)}catch(l){it(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){it(e,i,l)}}var s=e.return;try{Mm(e)}catch(l){it(e,s,l)}break;case 5:var o=e.return;try{Mm(e)}catch(l){it(e,o,l)}}}catch(l){it(e,e.return,l)}if(e===t){Z=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Z=a;break}Z=e.return}}var XP=Math.ceil,ld=Wr.ReactCurrentDispatcher,yg=Wr.ReactCurrentOwner,Cn=Wr.ReactCurrentBatchConfig,Re=0,wt=null,dt=null,Rt=0,dn=0,yo=Hi(0),pt=0,Fl=null,Cs=0,th=0,vg=0,hl=null,tn=null,wg=0,zo=1/0,_r=null,cd=!1,Fm=null,Si=null,ru=!1,gi=null,ud=0,fl=0,Um=null,Su=-1,Iu=0;function Qt(){return Re&6?lt():Su!==-1?Su:Su=lt()}function Ii(t){return t.mode&1?Re&2&&Rt!==0?Rt&-Rt:LP.transition!==null?(Iu===0&&(Iu=PE()),Iu):(t=De,t!==0||(t=window.event,t=t===void 0?16:ME(t.type)),t):1}function Un(t,e,n,r){if(50<fl)throw fl=0,Um=null,Error(q(185));nc(t,n,r),(!(Re&2)||t!==wt)&&(t===wt&&(!(Re&2)&&(th|=n),pt===4&&ui(t,Rt)),ln(t,r),n===1&&Re===0&&!(e.mode&1)&&(zo=lt()+500,Xd&&Wi()))}function ln(t,e){var n=t.callbackNode;LC(t,e);var r=Ku(t,t===wt?Rt:0);if(r===0)n!==null&&qy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&qy(n),e===1)t.tag===0?DP(Fv.bind(null,t)):eT(Fv.bind(null,t)),AP(function(){!(Re&6)&&Wi()}),n=null;else{switch(AE(r)){case 1:n=Wp;break;case 4:n=IE;break;case 16:n=qu;break;case 536870912:n=CE;break;default:n=qu}n=JT(n,WT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function WT(t,e){if(Su=-1,Iu=0,Re&6)throw Error(q(327));var n=t.callbackNode;if(Ao()&&t.callbackNode!==n)return null;var r=Ku(t,t===wt?Rt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=dd(t,r);else{e=r;var i=Re;Re|=2;var s=KT();(wt!==t||Rt!==e)&&(_r=null,zo=lt()+500,_s(t,e));do try{eA();break}catch(a){qT(t,a)}while(1);ig(),ld.current=s,Re=i,dt!==null?e=0:(wt=null,Rt=0,e=pt)}if(e!==0){if(e===2&&(i=hm(t),i!==0&&(r=i,e=jm(t,i))),e===1)throw n=Fl,_s(t,0),ui(t,r),ln(t,lt()),n;if(e===6)ui(t,r);else{if(i=t.current.alternate,!(r&30)&&!JP(i)&&(e=dd(t,r),e===2&&(s=hm(t),s!==0&&(r=s,e=jm(t,s))),e===1))throw n=Fl,_s(t,0),ui(t,r),ln(t,lt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(q(345));case 2:as(t,tn,_r);break;case 3:if(ui(t,r),(r&130023424)===r&&(e=wg+500-lt(),10<e)){if(Ku(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Qt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=_m(as.bind(null,t,tn,_r),e);break}as(t,tn,_r);break;case 4:if(ui(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Fn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=lt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*XP(r/1960))-r,10<r){t.timeoutHandle=_m(as.bind(null,t,tn,_r),r);break}as(t,tn,_r);break;case 5:as(t,tn,_r);break;default:throw Error(q(329))}}}return ln(t,lt()),t.callbackNode===n?WT.bind(null,t):null}function jm(t,e){var n=hl;return t.current.memoizedState.isDehydrated&&(_s(t,e).flags|=256),t=dd(t,e),t!==2&&(e=tn,tn=n,e!==null&&Bm(e)),t}function Bm(t){tn===null?tn=t:tn.push.apply(tn,t)}function JP(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Bn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ui(t,e){for(e&=~vg,e&=~th,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Fn(e),r=1<<n;t[n]=-1,e&=~r}}function Fv(t){if(Re&6)throw Error(q(327));Ao();var e=Ku(t,0);if(!(e&1))return ln(t,lt()),null;var n=dd(t,e);if(t.tag!==0&&n===2){var r=hm(t);r!==0&&(e=r,n=jm(t,r))}if(n===1)throw n=Fl,_s(t,0),ui(t,e),ln(t,lt()),n;if(n===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,as(t,tn,_r),ln(t,lt()),null}function _g(t,e){var n=Re;Re|=1;try{return t(e)}finally{Re=n,Re===0&&(zo=lt()+500,Xd&&Wi())}}function Ps(t){gi!==null&&gi.tag===0&&!(Re&6)&&Ao();var e=Re;Re|=1;var n=Cn.transition,r=De;try{if(Cn.transition=null,De=1,t)return t()}finally{De=r,Cn.transition=n,Re=e,!(Re&6)&&Wi()}}function Eg(){dn=yo.current,Ke(yo)}function _s(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,PP(n)),dt!==null)for(n=dt.return;n!==null;){var r=n;switch(tg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ju();break;case 3:jo(),Ke(on),Ke(Ht),ug();break;case 5:cg(r);break;case 4:jo();break;case 13:Ke(Xe);break;case 19:Ke(Xe);break;case 10:sg(r.type._context);break;case 22:case 23:Eg()}n=n.return}if(wt=t,dt=t=Ci(t.current,null),Rt=dn=e,pt=0,Fl=null,vg=th=Cs=0,tn=hl=null,ms!==null){for(e=0;e<ms.length;e++)if(n=ms[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ms=null}return t}function qT(t,e){do{var n=dt;try{if(ig(),Tu.current=ad,od){for(var r=Ze.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}od=!1}if(Is=0,vt=mt=Ze=null,ul=!1,Ml=0,yg.current=null,n===null||n.return===null){pt=1,Fl=e,dt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Rt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=Sv(o);if(y!==null){y.flags&=-257,Iv(y,o,a,s,e),y.mode&1&&bv(s,u,e),e=y,l=u;var E=e.updateQueue;if(E===null){var S=new Set;S.add(l),e.updateQueue=S}else E.add(l);break e}else{if(!(e&1)){bv(s,u,e),Tg();break e}l=Error(q(426))}}else if(Qe&&a.mode&1){var R=Sv(o);if(R!==null){!(R.flags&65536)&&(R.flags|=256),Iv(R,o,a,s,e),ng(Bo(l,a));break e}}s=l=Bo(l,a),pt!==4&&(pt=2),hl===null?hl=[s]:hl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var T=AT(s,l,e);vv(s,T);break e;case 1:a=l;var w=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Si===null||!Si.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var L=RT(s,a,e);vv(s,L);break e}}s=s.return}while(s!==null)}QT(n)}catch(j){e=j,dt===n&&n!==null&&(dt=n=n.return);continue}break}while(1)}function KT(){var t=ld.current;return ld.current=ad,t===null?ad:t}function Tg(){(pt===0||pt===3||pt===2)&&(pt=4),wt===null||!(Cs&268435455)&&!(th&268435455)||ui(wt,Rt)}function dd(t,e){var n=Re;Re|=2;var r=KT();(wt!==t||Rt!==e)&&(_r=null,_s(t,e));do try{ZP();break}catch(i){qT(t,i)}while(1);if(ig(),Re=n,ld.current=r,dt!==null)throw Error(q(261));return wt=null,Rt=0,pt}function ZP(){for(;dt!==null;)GT(dt)}function eA(){for(;dt!==null&&!SC();)GT(dt)}function GT(t){var e=XT(t.alternate,t,dn);t.memoizedProps=t.pendingProps,e===null?QT(t):dt=e,yg.current=null}function QT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=KP(n,e),n!==null){n.flags&=32767,dt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pt=6,dt=null;return}}else if(n=qP(n,e,dn),n!==null){dt=n;return}if(e=e.sibling,e!==null){dt=e;return}dt=e=t}while(e!==null);pt===0&&(pt=5)}function as(t,e,n){var r=De,i=Cn.transition;try{Cn.transition=null,De=1,tA(t,e,n,r)}finally{Cn.transition=i,De=r}return null}function tA(t,e,n,r){do Ao();while(gi!==null);if(Re&6)throw Error(q(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(MC(t,s),t===wt&&(dt=wt=null,Rt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ru||(ru=!0,JT(qu,function(){return Ao(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Cn.transition,Cn.transition=null;var o=De;De=1;var a=Re;Re|=4,yg.current=null,QP(t,n),$T(n,t),EP(vm),Gu=!!ym,vm=ym=null,t.current=n,YP(n),IC(),Re=a,De=o,Cn.transition=s}else t.current=n;if(ru&&(ru=!1,gi=t,ud=i),s=t.pendingLanes,s===0&&(Si=null),AC(n.stateNode),ln(t,lt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(cd)throw cd=!1,t=Fm,Fm=null,t;return ud&1&&t.tag!==0&&Ao(),s=t.pendingLanes,s&1?t===Um?fl++:(fl=0,Um=t):fl=0,Wi(),null}function Ao(){if(gi!==null){var t=AE(ud),e=Cn.transition,n=De;try{if(Cn.transition=null,De=16>t?16:t,gi===null)var r=!1;else{if(t=gi,gi=null,ud=0,Re&6)throw Error(q(331));var i=Re;for(Re|=4,Z=t.current;Z!==null;){var s=Z,o=s.child;if(Z.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Z=u;Z!==null;){var d=Z;switch(d.tag){case 0:case 11:case 15:dl(8,d,s)}var h=d.child;if(h!==null)h.return=d,Z=h;else for(;Z!==null;){d=Z;var p=d.sibling,y=d.return;if(jT(d),d===u){Z=null;break}if(p!==null){p.return=y,Z=p;break}Z=y}}}var E=s.alternate;if(E!==null){var S=E.child;if(S!==null){E.child=null;do{var R=S.sibling;S.sibling=null,S=R}while(S!==null)}}Z=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Z=o;else e:for(;Z!==null;){if(s=Z,s.flags&2048)switch(s.tag){case 0:case 11:case 15:dl(9,s,s.return)}var T=s.sibling;if(T!==null){T.return=s.return,Z=T;break e}Z=s.return}}var w=t.current;for(Z=w;Z!==null;){o=Z;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,Z=x;else e:for(o=w;Z!==null;){if(a=Z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:eh(9,a)}}catch(j){it(a,a.return,j)}if(a===o){Z=null;break e}var L=a.sibling;if(L!==null){L.return=a.return,Z=L;break e}Z=a.return}}if(Re=i,Wi(),nr&&typeof nr.onPostCommitFiberRoot=="function")try{nr.onPostCommitFiberRoot(qd,t)}catch{}r=!0}return r}finally{De=n,Cn.transition=e}}return!1}function Uv(t,e,n){e=Bo(n,e),e=AT(t,e,1),t=bi(t,e,1),e=Qt(),t!==null&&(nc(t,1,e),ln(t,e))}function it(t,e,n){if(t.tag===3)Uv(t,t,n);else for(;e!==null;){if(e.tag===3){Uv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Si===null||!Si.has(r))){t=Bo(n,t),t=RT(e,t,1),e=bi(e,t,1),t=Qt(),e!==null&&(nc(e,1,t),ln(e,t));break}}e=e.return}}function nA(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Qt(),t.pingedLanes|=t.suspendedLanes&n,wt===t&&(Rt&n)===n&&(pt===4||pt===3&&(Rt&130023424)===Rt&&500>lt()-wg?_s(t,0):vg|=n),ln(t,e)}function YT(t,e){e===0&&(t.mode&1?(e=Kc,Kc<<=1,!(Kc&130023424)&&(Kc=4194304)):e=1);var n=Qt();t=Fr(t,e),t!==null&&(nc(t,e,n),ln(t,n))}function rA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),YT(t,n)}function iA(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(e),YT(t,n)}var XT;XT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||on.current)sn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return sn=!1,WP(t,e,n);sn=!!(t.flags&131072)}else sn=!1,Qe&&e.flags&1048576&&tT(e,td,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;bu(t,e),t=e.pendingProps;var i=Oo(e,Ht.current);Po(e,n),i=hg(null,e,r,t,i,n);var s=fg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,an(r)?(s=!0,Zu(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ag(e),i.updater=Zd,e.stateNode=i,i._reactInternals=e,Cm(e,r,t,n),e=Rm(null,e,r,!0,s,n)):(e.tag=0,Qe&&s&&eg(e),Kt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(bu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=oA(r),t=Ln(r,t),i){case 0:e=Am(null,e,r,t,n);break e;case 1:e=Av(null,e,r,t,n);break e;case 11:e=Cv(null,e,r,t,n);break e;case 14:e=Pv(null,e,r,Ln(r.type,t),n);break e}throw Error(q(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ln(r,i),Am(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ln(r,i),Av(t,e,r,i,n);case 3:e:{if(LT(e),t===null)throw Error(q(387));r=e.pendingProps,s=e.memoizedState,i=s.element,aT(t,e),id(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Bo(Error(q(423)),e),e=Rv(t,e,r,n,i);break e}else if(r!==i){i=Bo(Error(q(424)),e),e=Rv(t,e,r,n,i);break e}else for(fn=xi(e.stateNode.containerInfo.firstChild),pn=e,Qe=!0,On=null,n=sT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fo(),r===i){e=Ur(t,e,n);break e}Kt(t,e,r,n)}e=e.child}return e;case 5:return lT(e),t===null&&bm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,wm(r,i)?o=null:s!==null&&wm(r,s)&&(e.flags|=32),DT(t,e),Kt(t,e,o,n),e.child;case 6:return t===null&&bm(e),null;case 13:return MT(t,e,n);case 4:return lg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Uo(e,null,r,n):Kt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ln(r,i),Cv(t,e,r,i,n);case 7:return Kt(t,e,e.pendingProps,n),e.child;case 8:return Kt(t,e,e.pendingProps.children,n),e.child;case 12:return Kt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ue(nd,r._currentValue),r._currentValue=o,s!==null)if(Bn(s.value,o)){if(s.children===i.children&&!on.current){e=Ur(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Pr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Sm(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(q(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Sm(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Kt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Po(e,n),i=Pn(i),r=r(i),e.flags|=1,Kt(t,e,r,n),e.child;case 14:return r=e.type,i=Ln(r,e.pendingProps),i=Ln(r.type,i),Pv(t,e,r,i,n);case 15:return NT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ln(r,i),bu(t,e),e.tag=1,an(r)?(t=!0,Zu(e)):t=!1,Po(e,n),PT(e,r,i),Cm(e,r,i,n),Rm(null,e,r,!0,t,n);case 19:return VT(t,e,n);case 22:return kT(t,e,n)}throw Error(q(156,e.tag))};function JT(t,e){return SE(t,e)}function sA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(t,e,n,r){return new sA(t,e,n,r)}function xg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function oA(t){if(typeof t=="function")return xg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===zp)return 11;if(t===$p)return 14}return 2}function Ci(t,e){var n=t.alternate;return n===null?(n=In(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Cu(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")xg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case oo:return Es(n.children,i,s,e);case Bp:o=8,i|=8;break;case Xf:return t=In(12,n,e,i|2),t.elementType=Xf,t.lanes=s,t;case Jf:return t=In(13,n,e,i),t.elementType=Jf,t.lanes=s,t;case Zf:return t=In(19,n,e,i),t.elementType=Zf,t.lanes=s,t;case lE:return nh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case oE:o=10;break e;case aE:o=9;break e;case zp:o=11;break e;case $p:o=14;break e;case ai:o=16,r=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=In(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Es(t,e,n,r){return t=In(7,t,r,e),t.lanes=n,t}function nh(t,e,n,r){return t=In(22,t,r,e),t.elementType=lE,t.lanes=n,t.stateNode={isHidden:!1},t}function Ef(t,e,n){return t=In(6,t,null,e),t.lanes=n,t}function Tf(t,e,n){return e=In(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function aA(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tf(0),this.expirationTimes=tf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function bg(t,e,n,r,i,s,o,a,l){return t=new aA(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=In(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ag(s),t}function lA(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:so,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function ZT(t){if(!t)return Li;t=t._reactInternals;e:{if(Ms(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(an(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var n=t.type;if(an(n))return ZE(t,n,e)}return e}function ex(t,e,n,r,i,s,o,a,l){return t=bg(n,r,!0,t,i,s,o,a,l),t.context=ZT(null),n=t.current,r=Qt(),i=Ii(n),s=Pr(r,i),s.callback=e??null,bi(n,s,i),t.current.lanes=i,nc(t,i,r),ln(t,r),t}function rh(t,e,n,r){var i=e.current,s=Qt(),o=Ii(i);return n=ZT(n),e.context===null?e.context=n:e.pendingContext=n,e=Pr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=bi(i,e,o),t!==null&&(Un(t,i,o,s),Eu(t,i,o)),o}function hd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function jv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Sg(t,e){jv(t,e),(t=t.alternate)&&jv(t,e)}function cA(){return null}var tx=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ig(t){this._internalRoot=t}ih.prototype.render=Ig.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));rh(t,e,null,null)};ih.prototype.unmount=Ig.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ps(function(){rh(null,t,null,null)}),e[Or]=null}};function ih(t){this._internalRoot=t}ih.prototype.unstable_scheduleHydration=function(t){if(t){var e=kE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ci.length&&e!==0&&e<ci[n].priority;n++);ci.splice(n,0,t),n===0&&LE(t)}};function Cg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function sh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Bv(){}function uA(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=hd(o);s.call(u)}}var o=ex(e,r,t,0,null,!1,!1,"",Bv);return t._reactRootContainer=o,t[Or]=o.current,Rl(t.nodeType===8?t.parentNode:t),Ps(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=hd(l);a.call(u)}}var l=bg(t,0,!1,null,null,!1,!1,"",Bv);return t._reactRootContainer=l,t[Or]=l.current,Rl(t.nodeType===8?t.parentNode:t),Ps(function(){rh(e,l,n,r)}),l}function oh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=hd(o);a.call(l)}}rh(e,o,t,i)}else o=uA(n,e,t,i,r);return hd(o)}RE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ga(e.pendingLanes);n!==0&&(qp(e,n|1),ln(e,lt()),!(Re&6)&&(zo=lt()+500,Wi()))}break;case 13:Ps(function(){var r=Fr(t,1);if(r!==null){var i=Qt();Un(r,t,1,i)}}),Sg(t,1)}};Kp=function(t){if(t.tag===13){var e=Fr(t,134217728);if(e!==null){var n=Qt();Un(e,t,134217728,n)}Sg(t,134217728)}};NE=function(t){if(t.tag===13){var e=Ii(t),n=Fr(t,e);if(n!==null){var r=Qt();Un(n,t,e,r)}Sg(t,e)}};kE=function(){return De};DE=function(t,e){var n=De;try{return De=t,e()}finally{De=n}};cm=function(t,e,n){switch(e){case"input":if(nm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Yd(r);if(!i)throw Error(q(90));uE(r),nm(r,i)}}}break;case"textarea":hE(t,n);break;case"select":e=n.value,e!=null&&bo(t,!!n.multiple,e,!1)}};wE=_g;_E=Ps;var dA={usingClientEntryPoint:!1,Events:[ic,uo,Yd,yE,vE,_g]},Fa={findFiberByHostInstance:fs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hA={bundleType:Fa.bundleType,version:Fa.version,rendererPackageName:Fa.rendererPackageName,rendererConfig:Fa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=xE(t),t===null?null:t.stateNode},findFiberByHostInstance:Fa.findFiberByHostInstance||cA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{qd=iu.inject(hA),nr=iu}catch{}}vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dA;vn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cg(e))throw Error(q(200));return lA(t,e,null,n)};vn.createRoot=function(t,e){if(!Cg(t))throw Error(q(299));var n=!1,r="",i=tx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=bg(t,1,!1,null,null,n,!1,r,i),t[Or]=e.current,Rl(t.nodeType===8?t.parentNode:t),new Ig(e)};vn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=xE(e),t=t===null?null:t.stateNode,t};vn.flushSync=function(t){return Ps(t)};vn.hydrate=function(t,e,n){if(!sh(e))throw Error(q(200));return oh(null,t,e,!0,n)};vn.hydrateRoot=function(t,e,n){if(!Cg(t))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=tx;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=ex(e,null,t,1,n??null,i,!1,s,o),t[Or]=e.current,Rl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ih(e)};vn.render=function(t,e,n){if(!sh(e))throw Error(q(200));return oh(null,t,e,!1,n)};vn.unmountComponentAtNode=function(t){if(!sh(t))throw Error(q(40));return t._reactRootContainer?(Ps(function(){oh(null,null,t,!1,function(){t._reactRootContainer=null,t[Or]=null})}),!0):!1};vn.unstable_batchedUpdates=_g;vn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!sh(n))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return oh(t,e,n,!1,r)};vn.version="18.3.1-next-f1338f8080-20240426";function nx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nx)}catch(t){console.error(t)}}nx(),nE.exports=vn;var Pg=nE.exports;const fA=H_(Pg),mA=$_({__proto__:null,default:fA},[Pg]);var rx,zv=Pg;rx=zv.createRoot,zv.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ge(){return Ge=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ge.apply(this,arguments)}var ot;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ot||(ot={}));const $v="popstate";function pA(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Ul("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:As(i)}return yA(e,n,null,t)}function ye(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function $o(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gA(){return Math.random().toString(36).substr(2,8)}function Hv(t,e){return{usr:t.state,key:t.key,idx:e}}function Ul(t,e,n,r){return n===void 0&&(n=null),Ge({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?qr(e):e,{state:n,key:e&&e.key||r||gA()})}function As(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function qr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function yA(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=ot.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(Ge({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=ot.Pop;let R=d(),T=R==null?null:R-u;u=R,l&&l({action:a,location:S.location,delta:T})}function p(R,T){a=ot.Push;let w=Ul(S.location,R,T);n&&n(w,R),u=d()+1;let x=Hv(w,u),L=S.createHref(w);try{o.pushState(x,"",L)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(L)}s&&l&&l({action:a,location:S.location,delta:1})}function y(R,T){a=ot.Replace;let w=Ul(S.location,R,T);n&&n(w,R),u=d();let x=Hv(w,u),L=S.createHref(w);o.replaceState(x,"",L),s&&l&&l({action:a,location:S.location,delta:0})}function E(R){let T=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof R=="string"?R:As(R);return w=w.replace(/ $/,"%20"),ye(T,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,T)}let S={get action(){return a},get location(){return t(i,o)},listen(R){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener($v,h),l=R,()=>{i.removeEventListener($v,h),l=null}},createHref(R){return e(i,R)},createURL:E,encodeLocation(R){let T=E(R);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:p,replace:y,go(R){return o.go(R)}};return S}var Le;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Le||(Le={}));const vA=new Set(["lazy","caseSensitive","path","id","index","children"]);function wA(t){return t.index===!0}function fd(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,String(s)],a=typeof i.id=="string"?i.id:o.join("-");if(ye(i.index!==!0||!i.children,"Cannot specify children on an index route"),ye(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),wA(i)){let l=Ge({},i,e(i),{id:a});return r[a]=l,l}else{let l=Ge({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=fd(i.children,e,o,r)),l}})}function ds(t,e,n){return n===void 0&&(n="/"),Pu(t,e,n,!1)}function Pu(t,e,n,r){let i=typeof e=="string"?qr(e):e,s=jr(i.pathname||"/",n);if(s==null)return null;let o=ix(t);EA(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=kA(s);a=RA(o[l],u,r)}return a}function _A(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function ix(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ye(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Ar([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(ye(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),ix(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:PA(u,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of sx(s.path))i(s,o,l)}),e}function sx(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=sx(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function EA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:AA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const TA=/^:[\w-]+$/,xA=3,bA=2,SA=1,IA=10,CA=-2,Wv=t=>t==="*";function PA(t,e){let n=t.split("/"),r=n.length;return n.some(Wv)&&(r+=CA),e&&(r+=bA),n.filter(i=>!Wv(i)).reduce((i,s)=>i+(TA.test(s)?xA:s===""?SA:IA),r)}function AA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function RA(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=md({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),p=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=md({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Ar([s,h.pathname]),pathnameBase:MA(Ar([s,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(s=Ar([s,h.pathnameBase]))}return o}function md(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=NA(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:p,isOptional:y}=d;if(p==="*"){let S=a[h]||"";o=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const E=a[h];return y&&!E?u[p]=void 0:u[p]=(E||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function NA(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),$o(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function kA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $o(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function jr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function DA(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?qr(t):t;return{pathname:n?n.startsWith("/")?n:LA(n,e):e,search:VA(r),hash:OA(i)}}function LA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function xf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ox(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ah(t,e){let n=ox(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function lh(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=qr(t):(i=Ge({},t),ye(!i.pathname||!i.pathname.includes("?"),xf("?","pathname","search",i)),ye(!i.pathname||!i.pathname.includes("#"),xf("#","pathname","hash",i)),ye(!i.search||!i.search.includes("#"),xf("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=DA(i,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Ar=t=>t.join("/").replace(/\/\/+/g,"/"),MA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),VA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,OA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class pd{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function ch(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ax=["post","put","patch","delete"],FA=new Set(ax),UA=["get",...ax],jA=new Set(UA),BA=new Set([301,302,303,307,308]),zA=new Set([307,308]),bf={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},$A={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ua={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Ag=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,HA=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),lx="remix-router-transitions";function WA(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;ye(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let M=t.detectErrorBoundary;i=O=>({hasErrorBoundary:M(O)})}else i=HA;let s={},o=fd(t.routes,i,void 0,s),a,l=t.basename||"/",u=t.dataStrategy||QA,d=t.patchRoutesOnNavigation,h=Ge({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),p=null,y=new Set,E=null,S=null,R=null,T=t.hydrationData!=null,w=ds(o,t.history.location,l),x=null;if(w==null&&!d){let M=Zt(404,{pathname:t.history.location.pathname}),{matches:O,route:U}=n1(o);w=O,x={[U.id]:M}}w&&!t.hydrationData&&ts(w,o,t.history.location.pathname).active&&(w=null);let L;if(w)if(w.some(M=>M.route.lazy))L=!1;else if(!w.some(M=>M.route.loader))L=!0;else if(h.v7_partialHydration){let M=t.hydrationData?t.hydrationData.loaderData:null,O=t.hydrationData?t.hydrationData.errors:null;if(O){let U=w.findIndex(H=>O[H.route.id]!==void 0);L=w.slice(0,U+1).every(H=>!$m(H.route,M,O))}else L=w.every(U=>!$m(U.route,M,O))}else L=t.hydrationData!=null;else if(L=!1,w=[],h.v7_partialHydration){let M=ts(null,o,t.history.location.pathname);M.active&&M.matches&&(w=M.matches)}let j,k={historyAction:t.history.action,location:t.history.location,matches:w,initialized:L,navigation:bf,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||x,fetchers:new Map,blockers:new Map},A=ot.Pop,_=!1,b,P=!1,D=new Map,V=null,N=!1,le=!1,K=[],we=new Set,re=new Map,W=0,ie=-1,ce=new Map,Ae=new Set,Se=new Map,Ve=new Map,ft=new Set,Tt=new Map,xt=new Map,qt;function $h(){if(p=t.history.listen(M=>{let{action:O,location:U,delta:H}=M;if(qt){qt(),qt=void 0;return}$o(xt.size===0||H!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Q=Hs({currentLocation:k.location,nextLocation:U,historyAction:O});if(Q&&H!=null){let se=new Promise(fe=>{qt=fe});t.history.go(H*-1),$s(Q,{state:"blocked",location:U,proceed(){$s(Q,{state:"proceeding",proceed:void 0,reset:void 0,location:U}),se.then(()=>t.history.go(H))},reset(){let fe=new Map(k.blockers);fe.set(Q,Ua),ct({blockers:fe})}});return}return Nn(O,U)}),n){cR(e,D);let M=()=>uR(e,D);e.addEventListener("pagehide",M),V=()=>e.removeEventListener("pagehide",M)}return k.initialized||Nn(ot.Pop,k.location,{initialHydration:!0}),j}function Hh(){p&&p(),V&&V(),y.clear(),b&&b.abort(),k.fetchers.forEach((M,O)=>Zi(O)),k.blockers.forEach((M,O)=>Ac(O))}function js(M){return y.add(M),()=>y.delete(M)}function ct(M,O){O===void 0&&(O={}),k=Ge({},k,M);let U=[],H=[];h.v7_fetcherPersist&&k.fetchers.forEach((Q,se)=>{Q.state==="idle"&&(ft.has(se)?H.push(se):U.push(se))}),[...y].forEach(Q=>Q(k,{deletedFetchers:H,viewTransitionOpts:O.viewTransitionOpts,flushSync:O.flushSync===!0})),h.v7_fetcherPersist&&(U.forEach(Q=>k.fetchers.delete(Q)),H.forEach(Q=>Zi(Q)))}function Hn(M,O,U){var H,Q;let{flushSync:se}=U===void 0?{}:U,fe=k.actionData!=null&&k.navigation.formMethod!=null&&Vn(k.navigation.formMethod)&&k.navigation.state==="loading"&&((H=M.state)==null?void 0:H._isRedirect)!==!0,Y;O.actionData?Object.keys(O.actionData).length>0?Y=O.actionData:Y=null:fe?Y=k.actionData:Y=null;let te=O.loaderData?e1(k.loaderData,O.loaderData,O.matches||[],O.errors):k.loaderData,J=k.blockers;J.size>0&&(J=new Map(J),J.forEach((_e,nt)=>J.set(nt,Ua)));let ne=_===!0||k.navigation.formMethod!=null&&Vn(k.navigation.formMethod)&&((Q=M.state)==null?void 0:Q._isRedirect)!==!0;a&&(o=a,a=void 0),N||A===ot.Pop||(A===ot.Push?t.history.push(M,M.state):A===ot.Replace&&t.history.replace(M,M.state));let ve;if(A===ot.Pop){let _e=D.get(k.location.pathname);_e&&_e.has(M.pathname)?ve={currentLocation:k.location,nextLocation:M}:D.has(M.pathname)&&(ve={currentLocation:M,nextLocation:k.location})}else if(P){let _e=D.get(k.location.pathname);_e?_e.add(M.pathname):(_e=new Set([M.pathname]),D.set(k.location.pathname,_e)),ve={currentLocation:k.location,nextLocation:M}}ct(Ge({},O,{actionData:Y,loaderData:te,historyAction:A,location:M,initialized:!0,navigation:bf,revalidation:"idle",restoreScrollPosition:qn(M,O.matches||k.matches),preventScrollReset:ne,blockers:J}),{viewTransitionOpts:ve,flushSync:se===!0}),A=ot.Pop,_=!1,P=!1,N=!1,le=!1,K=[]}async function Bs(M,O){if(typeof M=="number"){t.history.go(M);return}let U=zm(k.location,k.matches,l,h.v7_prependBasename,M,h.v7_relativeSplatPath,O==null?void 0:O.fromRouteId,O==null?void 0:O.relative),{path:H,submission:Q,error:se}=qv(h.v7_normalizeFormMethod,!1,U,O),fe=k.location,Y=Ul(k.location,H,O&&O.state);Y=Ge({},Y,t.history.encodeLocation(Y));let te=O&&O.replace!=null?O.replace:void 0,J=ot.Push;te===!0?J=ot.Replace:te===!1||Q!=null&&Vn(Q.formMethod)&&Q.formAction===k.location.pathname+k.location.search&&(J=ot.Replace);let ne=O&&"preventScrollReset"in O?O.preventScrollReset===!0:void 0,ve=(O&&O.flushSync)===!0,_e=Hs({currentLocation:fe,nextLocation:Y,historyAction:J});if(_e){$s(_e,{state:"blocked",location:Y,proceed(){$s(_e,{state:"proceeding",proceed:void 0,reset:void 0,location:Y}),Bs(M,O)},reset(){let nt=new Map(k.blockers);nt.set(_e,Ua),ct({blockers:nt})}});return}return await Nn(J,Y,{submission:Q,pendingError:se,preventScrollReset:ne,replace:O&&O.replace,enableViewTransition:O&&O.viewTransition,flushSync:ve})}function ga(){if(Xi(),ct({revalidation:"loading"}),k.navigation.state!=="submitting"){if(k.navigation.state==="idle"){Nn(k.historyAction,k.location,{startUninterruptedRevalidation:!0});return}Nn(A||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation,enableViewTransition:P===!0})}}async function Nn(M,O,U){b&&b.abort(),b=null,A=M,N=(U&&U.startUninterruptedRevalidation)===!0,Ea(k.location,k.matches),_=(U&&U.preventScrollReset)===!0,P=(U&&U.enableViewTransition)===!0;let H=a||o,Q=U&&U.overrideNavigation,se=ds(H,O,l),fe=(U&&U.flushSync)===!0,Y=ts(se,H,O.pathname);if(Y.active&&Y.matches&&(se=Y.matches),!se){let{error:be,notFoundMatches:Ie,route:$e}=Ws(O.pathname);Hn(O,{matches:Ie,loaderData:{},errors:{[$e.id]:be}},{flushSync:fe});return}if(k.initialized&&!le&&tR(k.location,O)&&!(U&&U.submission&&Vn(U.submission.formMethod))){Hn(O,{matches:se},{flushSync:fe});return}b=new AbortController;let te=Zs(t.history,O,b.signal,U&&U.submission),J;if(U&&U.pendingError)J=[hs(se).route.id,{type:Le.error,error:U.pendingError}];else if(U&&U.submission&&Vn(U.submission.formMethod)){let be=await Tc(te,O,U.submission,se,Y.active,{replace:U.replace,flushSync:fe});if(be.shortCircuited)return;if(be.pendingActionResult){let[Ie,$e]=be.pendingActionResult;if(hn($e)&&ch($e.error)&&$e.error.status===404){b=null,Hn(O,{matches:be.matches,loaderData:{},errors:{[Ie]:$e.error}});return}}se=be.matches||se,J=be.pendingActionResult,Q=Sf(O,U.submission),fe=!1,Y.active=!1,te=Zs(t.history,te.url,te.signal)}let{shortCircuited:ne,matches:ve,loaderData:_e,errors:nt}=await xc(te,O,se,Y.active,Q,U&&U.submission,U&&U.fetcherSubmission,U&&U.replace,U&&U.initialHydration===!0,fe,J);ne||(b=null,Hn(O,Ge({matches:ve||se},t1(J),{loaderData:_e,errors:nt})))}async function Tc(M,O,U,H,Q,se){se===void 0&&(se={}),Xi();let fe=aR(O,U);if(ct({navigation:fe},{flushSync:se.flushSync===!0}),Q){let J=await pr(H,O.pathname,M.signal);if(J.type==="aborted")return{shortCircuited:!0};if(J.type==="error"){let ne=hs(J.partialMatches).route.id;return{matches:J.partialMatches,pendingActionResult:[ne,{type:Le.error,error:J.error}]}}else if(J.matches)H=J.matches;else{let{notFoundMatches:ne,error:ve,route:_e}=Ws(O.pathname);return{matches:ne,pendingActionResult:[_e.id,{type:Le.error,error:ve}]}}}let Y,te=Ya(H,O);if(!te.route.action&&!te.route.lazy)Y={type:Le.error,error:Zt(405,{method:M.method,pathname:O.pathname,routeId:te.route.id})};else if(Y=(await mr("action",k,M,[te],H,null))[te.route.id],M.signal.aborted)return{shortCircuited:!0};if(gs(Y)){let J;return se&&se.replace!=null?J=se.replace:J=Xv(Y.response.headers.get("Location"),new URL(M.url),l)===k.location.pathname+k.location.search,await fr(M,Y,!0,{submission:U,replace:J}),{shortCircuited:!0}}if(yi(Y))throw Zt(400,{type:"defer-action"});if(hn(Y)){let J=hs(H,te.route.id);return(se&&se.replace)!==!0&&(A=ot.Push),{matches:H,pendingActionResult:[J.route.id,Y]}}return{matches:H,pendingActionResult:[te.route.id,Y]}}async function xc(M,O,U,H,Q,se,fe,Y,te,J,ne){let ve=Q||Sf(O,se),_e=se||fe||i1(ve),nt=!N&&(!h.v7_partialHydration||!te);if(H){if(nt){let Fe=bc(ne);ct(Ge({navigation:ve},Fe!==void 0?{actionData:Fe}:{}),{flushSync:J})}let ge=await pr(U,O.pathname,M.signal);if(ge.type==="aborted")return{shortCircuited:!0};if(ge.type==="error"){let Fe=hs(ge.partialMatches).route.id;return{matches:ge.partialMatches,loaderData:{},errors:{[Fe]:ge.error}}}else if(ge.matches)U=ge.matches;else{let{error:Fe,notFoundMatches:Zr,route:ei}=Ws(O.pathname);return{matches:Zr,loaderData:{},errors:{[ei.id]:Fe}}}}let be=a||o,[Ie,$e]=Gv(t.history,k,U,_e,O,h.v7_partialHydration&&te===!0,h.v7_skipActionErrorRevalidation,le,K,we,ft,Se,Ae,be,l,ne);if(qs(ge=>!(U&&U.some(Fe=>Fe.route.id===ge))||Ie&&Ie.some(Fe=>Fe.route.id===ge)),ie=++W,Ie.length===0&&$e.length===0){let ge=va();return Hn(O,Ge({matches:U,loaderData:{},errors:ne&&hn(ne[1])?{[ne[0]]:ne[1].error}:null},t1(ne),ge?{fetchers:new Map(k.fetchers)}:{}),{flushSync:J}),{shortCircuited:!0}}if(nt){let ge={};if(!H){ge.navigation=ve;let Fe=bc(ne);Fe!==void 0&&(ge.actionData=Fe)}$e.length>0&&(ge.fetchers=Sc($e)),ct(ge,{flushSync:J})}$e.forEach(ge=>{Wn(ge.key),ge.controller&&re.set(ge.key,ge.controller)});let Kn=()=>$e.forEach(ge=>Wn(ge.key));b&&b.signal.addEventListener("abort",Kn);let{loaderResults:gr,fetcherResults:En}=await zs(k,U,Ie,$e,M);if(M.signal.aborted)return{shortCircuited:!0};b&&b.signal.removeEventListener("abort",Kn),$e.forEach(ge=>re.delete(ge.key));let cn=su(gr);if(cn)return await fr(M,cn.result,!0,{replace:Y}),{shortCircuited:!0};if(cn=su(En),cn)return Ae.add(cn.key),await fr(M,cn.result,!0,{replace:Y}),{shortCircuited:!0};let{loaderData:Ta,errors:Gn}=Zv(k,U,gr,ne,$e,En,Tt);Tt.forEach((ge,Fe)=>{ge.subscribe(Zr=>{(Zr||ge.done)&&Tt.delete(Fe)})}),h.v7_partialHydration&&te&&k.errors&&(Gn=Ge({},k.errors,Gn));let Qn=va(),Jr=wa(ie),Yn=Qn||Jr||$e.length>0;return Ge({matches:U,loaderData:Ta,errors:Gn},Yn?{fetchers:new Map(k.fetchers)}:{})}function bc(M){if(M&&!hn(M[1]))return{[M[0]]:M[1].data};if(k.actionData)return Object.keys(k.actionData).length===0?null:k.actionData}function Sc(M){return M.forEach(O=>{let U=k.fetchers.get(O.key),H=ja(void 0,U?U.data:void 0);k.fetchers.set(O.key,H)}),new Map(k.fetchers)}function Ic(M,O,U,H){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Wn(M);let Q=(H&&H.flushSync)===!0,se=a||o,fe=zm(k.location,k.matches,l,h.v7_prependBasename,U,h.v7_relativeSplatPath,O,H==null?void 0:H.relative),Y=ds(se,fe,l),te=ts(Y,se,fe);if(te.active&&te.matches&&(Y=te.matches),!Y){ze(M,O,Zt(404,{pathname:fe}),{flushSync:Q});return}let{path:J,submission:ne,error:ve}=qv(h.v7_normalizeFormMethod,!0,fe,H);if(ve){ze(M,O,ve,{flushSync:Q});return}let _e=Ya(Y,J),nt=(H&&H.preventScrollReset)===!0;if(ne&&Vn(ne.formMethod)){ya(M,O,J,_e,Y,te.active,Q,nt,ne);return}Se.set(M,{routeId:O,path:J}),Cc(M,O,J,_e,Y,te.active,Q,nt,ne)}async function ya(M,O,U,H,Q,se,fe,Y,te){Xi(),Se.delete(M);function J(Ye){if(!Ye.route.action&&!Ye.route.lazy){let yr=Zt(405,{method:te.formMethod,pathname:U,routeId:O});return ze(M,O,yr,{flushSync:fe}),!0}return!1}if(!se&&J(H))return;let ne=k.fetchers.get(M);Be(M,lR(te,ne),{flushSync:fe});let ve=new AbortController,_e=Zs(t.history,U,ve.signal,te);if(se){let Ye=await pr(Q,U,_e.signal);if(Ye.type==="aborted")return;if(Ye.type==="error"){ze(M,O,Ye.error,{flushSync:fe});return}else if(Ye.matches){if(Q=Ye.matches,H=Ya(Q,U),J(H))return}else{ze(M,O,Zt(404,{pathname:U}),{flushSync:fe});return}}re.set(M,ve);let nt=W,Ie=(await mr("action",k,_e,[H],Q,M))[H.route.id];if(_e.signal.aborted){re.get(M)===ve&&re.delete(M);return}if(h.v7_fetcherPersist&&ft.has(M)){if(gs(Ie)||hn(Ie)){Be(M,si(void 0));return}}else{if(gs(Ie))if(re.delete(M),ie>nt){Be(M,si(void 0));return}else return Ae.add(M),Be(M,ja(te)),fr(_e,Ie,!1,{fetcherSubmission:te,preventScrollReset:Y});if(hn(Ie)){ze(M,O,Ie.error);return}}if(yi(Ie))throw Zt(400,{type:"defer-action"});let $e=k.navigation.location||k.location,Kn=Zs(t.history,$e,ve.signal),gr=a||o,En=k.navigation.state!=="idle"?ds(gr,k.navigation.location,l):k.matches;ye(En,"Didn't find any matches after fetcher action");let cn=++W;ce.set(M,cn);let Ta=ja(te,Ie.data);k.fetchers.set(M,Ta);let[Gn,Qn]=Gv(t.history,k,En,te,$e,!1,h.v7_skipActionErrorRevalidation,le,K,we,ft,Se,Ae,gr,l,[H.route.id,Ie]);Qn.filter(Ye=>Ye.key!==M).forEach(Ye=>{let yr=Ye.key,Gs=k.fetchers.get(yr),xa=ja(void 0,Gs?Gs.data:void 0);k.fetchers.set(yr,xa),Wn(yr),Ye.controller&&re.set(yr,Ye.controller)}),ct({fetchers:new Map(k.fetchers)});let Jr=()=>Qn.forEach(Ye=>Wn(Ye.key));ve.signal.addEventListener("abort",Jr);let{loaderResults:Yn,fetcherResults:ge}=await zs(k,En,Gn,Qn,Kn);if(ve.signal.aborted)return;ve.signal.removeEventListener("abort",Jr),ce.delete(M),re.delete(M),Qn.forEach(Ye=>re.delete(Ye.key));let Fe=su(Yn);if(Fe)return fr(Kn,Fe.result,!1,{preventScrollReset:Y});if(Fe=su(ge),Fe)return Ae.add(Fe.key),fr(Kn,Fe.result,!1,{preventScrollReset:Y});let{loaderData:Zr,errors:ei}=Zv(k,En,Yn,void 0,Qn,ge,Tt);if(k.fetchers.has(M)){let Ye=si(Ie.data);k.fetchers.set(M,Ye)}wa(cn),k.navigation.state==="loading"&&cn>ie?(ye(A,"Expected pending action"),b&&b.abort(),Hn(k.navigation.location,{matches:En,loaderData:Zr,errors:ei,fetchers:new Map(k.fetchers)})):(ct({errors:ei,loaderData:e1(k.loaderData,Zr,En,ei),fetchers:new Map(k.fetchers)}),le=!1)}async function Cc(M,O,U,H,Q,se,fe,Y,te){let J=k.fetchers.get(M);Be(M,ja(te,J?J.data:void 0),{flushSync:fe});let ne=new AbortController,ve=Zs(t.history,U,ne.signal);if(se){let Ie=await pr(Q,U,ve.signal);if(Ie.type==="aborted")return;if(Ie.type==="error"){ze(M,O,Ie.error,{flushSync:fe});return}else if(Ie.matches)Q=Ie.matches,H=Ya(Q,U);else{ze(M,O,Zt(404,{pathname:U}),{flushSync:fe});return}}re.set(M,ne);let _e=W,be=(await mr("loader",k,ve,[H],Q,M))[H.route.id];if(yi(be)&&(be=await Rg(be,ve.signal,!0)||be),re.get(M)===ne&&re.delete(M),!ve.signal.aborted){if(ft.has(M)){Be(M,si(void 0));return}if(gs(be))if(ie>_e){Be(M,si(void 0));return}else{Ae.add(M),await fr(ve,be,!1,{preventScrollReset:Y});return}if(hn(be)){ze(M,O,be.error);return}ye(!yi(be),"Unhandled fetcher deferred data"),Be(M,si(be.data))}}async function fr(M,O,U,H){let{submission:Q,fetcherSubmission:se,preventScrollReset:fe,replace:Y}=H===void 0?{}:H;O.response.headers.has("X-Remix-Revalidate")&&(le=!0);let te=O.response.headers.get("Location");ye(te,"Expected a Location header on the redirect Response"),te=Xv(te,new URL(M.url),l);let J=Ul(k.location,te,{_isRedirect:!0});if(n){let Ie=!1;if(O.response.headers.has("X-Remix-Reload-Document"))Ie=!0;else if(Ag.test(te)){const $e=t.history.createURL(te);Ie=$e.origin!==e.location.origin||jr($e.pathname,l)==null}if(Ie){Y?e.location.replace(te):e.location.assign(te);return}}b=null;let ne=Y===!0||O.response.headers.has("X-Remix-Replace")?ot.Replace:ot.Push,{formMethod:ve,formAction:_e,formEncType:nt}=k.navigation;!Q&&!se&&ve&&_e&&nt&&(Q=i1(k.navigation));let be=Q||se;if(zA.has(O.response.status)&&be&&Vn(be.formMethod))await Nn(ne,J,{submission:Ge({},be,{formAction:te}),preventScrollReset:fe||_,enableViewTransition:U?P:void 0});else{let Ie=Sf(J,Q);await Nn(ne,J,{overrideNavigation:Ie,fetcherSubmission:se,preventScrollReset:fe||_,enableViewTransition:U?P:void 0})}}async function mr(M,O,U,H,Q,se){let fe,Y={};try{fe=await YA(u,M,O,U,H,Q,se,s,i)}catch(te){return H.forEach(J=>{Y[J.route.id]={type:Le.error,error:te}}),Y}for(let[te,J]of Object.entries(fe))if(nR(J)){let ne=J.result;Y[te]={type:Le.redirect,response:ZA(ne,U,te,Q,l,h.v7_relativeSplatPath)}}else Y[te]=await JA(J);return Y}async function zs(M,O,U,H,Q){let se=M.matches,fe=mr("loader",M,Q,U,O,null),Y=Promise.all(H.map(async ne=>{if(ne.matches&&ne.match&&ne.controller){let _e=(await mr("loader",M,Zs(t.history,ne.path,ne.controller.signal),[ne.match],ne.matches,ne.key))[ne.match.route.id];return{[ne.key]:_e}}else return Promise.resolve({[ne.key]:{type:Le.error,error:Zt(404,{pathname:ne.path})}})})),te=await fe,J=(await Y).reduce((ne,ve)=>Object.assign(ne,ve),{});return await Promise.all([sR(O,te,Q.signal,se,M.loaderData),oR(O,J,H)]),{loaderResults:te,fetcherResults:J}}function Xi(){le=!0,K.push(...qs()),Se.forEach((M,O)=>{re.has(O)&&we.add(O),Wn(O)})}function Be(M,O,U){U===void 0&&(U={}),k.fetchers.set(M,O),ct({fetchers:new Map(k.fetchers)},{flushSync:(U&&U.flushSync)===!0})}function ze(M,O,U,H){H===void 0&&(H={});let Q=hs(k.matches,O);Zi(M),ct({errors:{[Q.route.id]:U},fetchers:new Map(k.fetchers)},{flushSync:(H&&H.flushSync)===!0})}function Ji(M){return h.v7_fetcherPersist&&(Ve.set(M,(Ve.get(M)||0)+1),ft.has(M)&&ft.delete(M)),k.fetchers.get(M)||$A}function Zi(M){let O=k.fetchers.get(M);re.has(M)&&!(O&&O.state==="loading"&&ce.has(M))&&Wn(M),Se.delete(M),ce.delete(M),Ae.delete(M),ft.delete(M),we.delete(M),k.fetchers.delete(M)}function Pc(M){if(h.v7_fetcherPersist){let O=(Ve.get(M)||0)-1;O<=0?(Ve.delete(M),ft.add(M)):Ve.set(M,O)}else Zi(M);ct({fetchers:new Map(k.fetchers)})}function Wn(M){let O=re.get(M);O&&(O.abort(),re.delete(M))}function Xr(M){for(let O of M){let U=Ji(O),H=si(U.data);k.fetchers.set(O,H)}}function va(){let M=[],O=!1;for(let U of Ae){let H=k.fetchers.get(U);ye(H,"Expected fetcher: "+U),H.state==="loading"&&(Ae.delete(U),M.push(U),O=!0)}return Xr(M),O}function wa(M){let O=[];for(let[U,H]of ce)if(H<M){let Q=k.fetchers.get(U);ye(Q,"Expected fetcher: "+U),Q.state==="loading"&&(Wn(U),ce.delete(U),O.push(U))}return Xr(O),O.length>0}function _a(M,O){let U=k.blockers.get(M)||Ua;return xt.get(M)!==O&&xt.set(M,O),U}function Ac(M){k.blockers.delete(M),xt.delete(M)}function $s(M,O){let U=k.blockers.get(M)||Ua;ye(U.state==="unblocked"&&O.state==="blocked"||U.state==="blocked"&&O.state==="blocked"||U.state==="blocked"&&O.state==="proceeding"||U.state==="blocked"&&O.state==="unblocked"||U.state==="proceeding"&&O.state==="unblocked","Invalid blocker state transition: "+U.state+" -> "+O.state);let H=new Map(k.blockers);H.set(M,O),ct({blockers:H})}function Hs(M){let{currentLocation:O,nextLocation:U,historyAction:H}=M;if(xt.size===0)return;xt.size>1&&$o(!1,"A router only supports one blocker at a time");let Q=Array.from(xt.entries()),[se,fe]=Q[Q.length-1],Y=k.blockers.get(se);if(!(Y&&Y.state==="proceeding")&&fe({currentLocation:O,nextLocation:U,historyAction:H}))return se}function Ws(M){let O=Zt(404,{pathname:M}),U=a||o,{matches:H,route:Q}=n1(U);return qs(),{notFoundMatches:H,route:Q,error:O}}function qs(M){let O=[];return Tt.forEach((U,H)=>{(!M||M(H))&&(U.cancel(),O.push(H),Tt.delete(H))}),O}function es(M,O,U){if(E=M,R=O,S=U||null,!T&&k.navigation===bf){T=!0;let H=qn(k.location,k.matches);H!=null&&ct({restoreScrollPosition:H})}return()=>{E=null,R=null,S=null}}function Ks(M,O){return S&&S(M,O.map(H=>_A(H,k.loaderData)))||M.key}function Ea(M,O){if(E&&R){let U=Ks(M,O);E[U]=R()}}function qn(M,O){if(E){let U=Ks(M,O),H=E[U];if(typeof H=="number")return H}return null}function ts(M,O,U){if(d)if(M){if(Object.keys(M[0].params).length>0)return{active:!0,matches:Pu(O,U,l,!0)}}else return{active:!0,matches:Pu(O,U,l,!0)||[]};return{active:!1,matches:null}}async function pr(M,O,U){if(!d)return{type:"success",matches:M};let H=M;for(;;){let Q=a==null,se=a||o,fe=s;try{await d({path:O,matches:H,patch:(J,ne)=>{U.aborted||Yv(J,ne,se,fe,i)}})}catch(J){return{type:"error",error:J,partialMatches:H}}finally{Q&&!U.aborted&&(o=[...o])}if(U.aborted)return{type:"aborted"};let Y=ds(se,O,l);if(Y)return{type:"success",matches:Y};let te=Pu(se,O,l,!0);if(!te||H.length===te.length&&H.every((J,ne)=>J.route.id===te[ne].route.id))return{type:"success",matches:null};H=te}}function Rc(M){s={},a=fd(M,i,void 0,s)}function ns(M,O){let U=a==null;Yv(M,O,a||o,s,i),U&&(o=[...o],ct({}))}return j={get basename(){return l},get future(){return h},get state(){return k},get routes(){return o},get window(){return e},initialize:$h,subscribe:js,enableScrollRestoration:es,navigate:Bs,fetch:Ic,revalidate:ga,createHref:M=>t.history.createHref(M),encodeLocation:M=>t.history.encodeLocation(M),getFetcher:Ji,deleteFetcher:Pc,dispose:Hh,getBlocker:_a,deleteBlocker:Ac,patchRoutes:ns,_internalFetchControllers:re,_internalActiveDeferreds:Tt,_internalSetRoutes:Rc},j}function qA(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function zm(t,e,n,r,i,s,o,a){let l,u;if(o){l=[];for(let h of e)if(l.push(h),h.route.id===o){u=h;break}}else l=e,u=e[e.length-1];let d=lh(i||".",ah(l,s),jr(t.pathname,n)||t.pathname,a==="path");if(i==null&&(d.search=t.search,d.hash=t.hash),(i==null||i===""||i===".")&&u){let h=Ng(d.search);if(u.route.index&&!h)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&h){let p=new URLSearchParams(d.search),y=p.getAll("index");p.delete("index"),y.filter(S=>S).forEach(S=>p.append("index",S));let E=p.toString();d.search=E?"?"+E:""}}return r&&n!=="/"&&(d.pathname=d.pathname==="/"?n:Ar([n,d.pathname])),As(d)}function qv(t,e,n,r){if(!r||!qA(r))return{path:n};if(r.formMethod&&!iR(r.formMethod))return{path:n,error:Zt(405,{method:r.formMethod})};let i=()=>({path:n,error:Zt(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=dx(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Vn(o))return i();let p=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((y,E)=>{let[S,R]=E;return""+y+S+"="+R+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:p}}}else if(r.formEncType==="application/json"){if(!Vn(o))return i();try{let p=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:p,text:void 0}}}catch{return i()}}}ye(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=Hm(r.formData),u=r.formData;else if(r.body instanceof FormData)l=Hm(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=Jv(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=Jv(l)}catch{return i()}let d={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Vn(d.formMethod))return{path:n,submission:d};let h=qr(n);return e&&h.search&&Ng(h.search)&&l.append("index",""),h.search="?"+l,{path:As(h),submission:d}}function Kv(t,e,n){n===void 0&&(n=!1);let r=t.findIndex(i=>i.route.id===e);return r>=0?t.slice(0,n?r+1:r):t}function Gv(t,e,n,r,i,s,o,a,l,u,d,h,p,y,E,S){let R=S?hn(S[1])?S[1].error:S[1].data:void 0,T=t.createURL(e.location),w=t.createURL(i),x=n;s&&e.errors?x=Kv(n,Object.keys(e.errors)[0],!0):S&&hn(S[1])&&(x=Kv(n,S[0]));let L=S?S[1].statusCode:void 0,j=o&&L&&L>=400,k=x.filter((_,b)=>{let{route:P}=_;if(P.lazy)return!0;if(P.loader==null)return!1;if(s)return $m(P,e.loaderData,e.errors);if(KA(e.loaderData,e.matches[b],_)||l.some(N=>N===_.route.id))return!0;let D=e.matches[b],V=_;return Qv(_,Ge({currentUrl:T,currentParams:D.params,nextUrl:w,nextParams:V.params},r,{actionResult:R,actionStatus:L,defaultShouldRevalidate:j?!1:a||T.pathname+T.search===w.pathname+w.search||T.search!==w.search||cx(D,V)}))}),A=[];return h.forEach((_,b)=>{if(s||!n.some(le=>le.route.id===_.routeId)||d.has(b))return;let P=ds(y,_.path,E);if(!P){A.push({key:b,routeId:_.routeId,path:_.path,matches:null,match:null,controller:null});return}let D=e.fetchers.get(b),V=Ya(P,_.path),N=!1;p.has(b)?N=!1:u.has(b)?(u.delete(b),N=!0):D&&D.state!=="idle"&&D.data===void 0?N=a:N=Qv(V,Ge({currentUrl:T,currentParams:e.matches[e.matches.length-1].params,nextUrl:w,nextParams:n[n.length-1].params},r,{actionResult:R,actionStatus:L,defaultShouldRevalidate:j?!1:a})),N&&A.push({key:b,routeId:_.routeId,path:_.path,matches:P,match:V,controller:new AbortController})}),[k,A]}function $m(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function KA(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function cx(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Qv(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function Yv(t,e,n,r,i){var s;let o;if(t){let u=r[t];ye(u,"No route found to patch children into: routeId = "+t),u.children||(u.children=[]),o=u.children}else o=n;let a=e.filter(u=>!o.some(d=>ux(u,d))),l=fd(a,i,[t||"_","patch",String(((s=o)==null?void 0:s.length)||"0")],r);o.push(...l)}function ux(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var i;return(i=e.children)==null?void 0:i.some(s=>ux(n,s))}):!1}async function GA(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];ye(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";$o(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!vA.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,Ge({},e(i),{lazy:void 0}))}async function QA(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,s,o)=>Object.assign(i,{[n[o].route.id]:s}),{})}async function YA(t,e,n,r,i,s,o,a,l,u){let d=s.map(y=>y.route.lazy?GA(y.route,l,a):void 0),h=s.map((y,E)=>{let S=d[E],R=i.some(w=>w.route.id===y.route.id);return Ge({},y,{shouldLoad:R,resolve:async w=>(w&&r.method==="GET"&&(y.route.lazy||y.route.loader)&&(R=!0),R?XA(e,r,y,S,w,u):Promise.resolve({type:Le.data,result:void 0}))})}),p=await t({matches:h,request:r,params:s[0].params,fetcherKey:o,context:u});try{await Promise.all(d)}catch{}return p}async function XA(t,e,n,r,i,s){let o,a,l=u=>{let d,h=new Promise((E,S)=>d=S);a=()=>d(),e.signal.addEventListener("abort",a);let p=E=>typeof u!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):u({request:e,params:n.params,context:s},...E!==void 0?[E]:[]),y=(async()=>{try{return{type:"data",result:await(i?i(S=>p(S)):p())}}catch(E){return{type:"error",result:E}}})();return Promise.race([y,h])};try{let u=n.route[t];if(r)if(u){let d,[h]=await Promise.all([l(u).catch(p=>{d=p}),r]);if(d!==void 0)throw d;o=h}else if(await r,u=n.route[t],u)o=await l(u);else if(t==="action"){let d=new URL(e.url),h=d.pathname+d.search;throw Zt(405,{method:e.method,pathname:h,routeId:n.route.id})}else return{type:Le.data,result:void 0};else if(u)o=await l(u);else{let d=new URL(e.url),h=d.pathname+d.search;throw Zt(404,{pathname:h})}ye(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(u){return{type:Le.error,result:u}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function JA(t){let{result:e,type:n}=t;if(hx(e)){let u;try{let d=e.headers.get("Content-Type");d&&/\bapplication\/json\b/.test(d)?e.body==null?u=null:u=await e.json():u=await e.text()}catch(d){return{type:Le.error,error:d}}return n===Le.error?{type:Le.error,error:new pd(e.status,e.statusText,u),statusCode:e.status,headers:e.headers}:{type:Le.data,data:u,statusCode:e.status,headers:e.headers}}if(n===Le.error){if(r1(e)){var r;if(e.data instanceof Error){var i;return{type:Le.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status}}e=new pd(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:Le.error,error:e,statusCode:ch(e)?e.status:void 0}}if(rR(e)){var s,o;return{type:Le.deferred,deferredData:e,statusCode:(s=e.init)==null?void 0:s.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(r1(e)){var a,l;return{type:Le.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:Le.data,data:e}}function ZA(t,e,n,r,i,s){let o=t.headers.get("Location");if(ye(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Ag.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=zm(new URL(e.url),a,i,!0,o,s),t.headers.set("Location",o)}return t}function Xv(t,e,n){if(Ag.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=jr(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function Zs(t,e,n,r){let i=t.createURL(dx(e)).toString(),s={signal:n};if(r&&Vn(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=Hm(r.formData):s.body=r.formData}return new Request(i,s)}function Hm(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Jv(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function eR(t,e,n,r,i){let s={},o=null,a,l=!1,u={},d=n&&hn(n[1])?n[1].error:void 0;return t.forEach(h=>{if(!(h.route.id in e))return;let p=h.route.id,y=e[p];if(ye(!gs(y),"Cannot handle redirect results in processLoaderData"),hn(y)){let E=y.error;if(d!==void 0&&(E=d,d=void 0),o=o||{},i)o[p]=E;else{let S=hs(t,p);o[S.route.id]==null&&(o[S.route.id]=E)}s[p]=void 0,l||(l=!0,a=ch(y.error)?y.error.status:500),y.headers&&(u[p]=y.headers)}else yi(y)?(r.set(p,y.deferredData),s[p]=y.deferredData.data,y.statusCode!=null&&y.statusCode!==200&&!l&&(a=y.statusCode),y.headers&&(u[p]=y.headers)):(s[p]=y.data,y.statusCode&&y.statusCode!==200&&!l&&(a=y.statusCode),y.headers&&(u[p]=y.headers))}),d!==void 0&&n&&(o={[n[0]]:d},s[n[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:u}}function Zv(t,e,n,r,i,s,o){let{loaderData:a,errors:l}=eR(e,n,r,o,!1);return i.forEach(u=>{let{key:d,match:h,controller:p}=u,y=s[d];if(ye(y,"Did not find corresponding fetcher result"),!(p&&p.signal.aborted))if(hn(y)){let E=hs(t.matches,h==null?void 0:h.route.id);l&&l[E.route.id]||(l=Ge({},l,{[E.route.id]:y.error})),t.fetchers.delete(d)}else if(gs(y))ye(!1,"Unhandled fetcher revalidation redirect");else if(yi(y))ye(!1,"Unhandled fetcher deferred data");else{let E=si(y.data);t.fetchers.set(d,E)}}),{loaderData:a,errors:l}}function e1(t,e,n,r){let i=Ge({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function t1(t){return t?hn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function hs(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function n1(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Zt(t,e){let{pathname:n,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new pd(t||500,a,new Error(l),!0)}function su(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(gs(i))return{key:r,result:i}}}function dx(t){let e=typeof t=="string"?qr(t):t;return As(Ge({},e,{hash:""}))}function tR(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function nR(t){return hx(t.result)&&BA.has(t.result.status)}function yi(t){return t.type===Le.deferred}function hn(t){return t.type===Le.error}function gs(t){return(t&&t.type)===Le.redirect}function r1(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function rR(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function hx(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function iR(t){return jA.has(t.toLowerCase())}function Vn(t){return FA.has(t.toLowerCase())}async function sR(t,e,n,r,i){let s=Object.entries(e);for(let o=0;o<s.length;o++){let[a,l]=s[o],u=t.find(p=>(p==null?void 0:p.route.id)===a);if(!u)continue;let d=r.find(p=>p.route.id===u.route.id),h=d!=null&&!cx(d,u)&&(i&&i[u.route.id])!==void 0;yi(l)&&h&&await Rg(l,n,!1).then(p=>{p&&(e[a]=p)})}}async function oR(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:s,controller:o}=n[r],a=e[i];t.find(u=>(u==null?void 0:u.route.id)===s)&&yi(a)&&(ye(o,"Expected an AbortController for revalidating fetcher deferred result"),await Rg(a,o.signal,!0).then(u=>{u&&(e[i]=u)}))}}async function Rg(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Le.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Le.error,error:i}}return{type:Le.data,data:t.deferredData.data}}}function Ng(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Ya(t,e){let n=typeof e=="string"?qr(e).search:e.search;if(t[t.length-1].route.index&&Ng(n||""))return t[t.length-1];let r=ox(t);return r[r.length-1]}function i1(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Sf(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function aR(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function ja(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function lR(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function si(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function cR(t,e){try{let n=t.sessionStorage.getItem(lx);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function uR(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(lx,JSON.stringify(n))}catch(r){$o(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jl(){return jl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jl.apply(this,arguments)}const oc=v.createContext(null),kg=v.createContext(null),Kr=v.createContext(null),uh=v.createContext(null),Gr=v.createContext({outlet:null,matches:[],isDataRoute:!1}),fx=v.createContext(null);function dR(t,e){let{relative:n}=e===void 0?{}:e;oa()||ye(!1);let{basename:r,navigator:i}=v.useContext(Kr),{hash:s,pathname:o,search:a}=dh(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Ar([r,o])),i.createHref({pathname:l,search:a,hash:s})}function oa(){return v.useContext(uh)!=null}function Qr(){return oa()||ye(!1),v.useContext(uh).location}function mx(t){v.useContext(Kr).static||v.useLayoutEffect(t)}function Rn(){let{isDataRoute:t}=v.useContext(Gr);return t?SR():hR()}function hR(){oa()||ye(!1);let t=v.useContext(oc),{basename:e,future:n,navigator:r}=v.useContext(Kr),{matches:i}=v.useContext(Gr),{pathname:s}=Qr(),o=JSON.stringify(ah(i,n.v7_relativeSplatPath)),a=v.useRef(!1);return mx(()=>{a.current=!0}),v.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=lh(u,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ar([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,s,t])}const fR=v.createContext(null);function mR(t){let e=v.useContext(Gr).outlet;return e&&v.createElement(fR.Provider,{value:t},e)}function dh(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=v.useContext(Kr),{matches:i}=v.useContext(Gr),{pathname:s}=Qr(),o=JSON.stringify(ah(i,r.v7_relativeSplatPath));return v.useMemo(()=>lh(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function pR(t,e,n,r){oa()||ye(!1);let{navigator:i}=v.useContext(Kr),{matches:s}=v.useContext(Gr),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Qr(),d;if(e){var h;let R=typeof e=="string"?qr(e):e;l==="/"||(h=R.pathname)!=null&&h.startsWith(l)||ye(!1),d=R}else d=u;let p=d.pathname||"/",y=p;if(l!=="/"){let R=l.replace(/^\//,"").split("/");y="/"+p.replace(/^\//,"").split("/").slice(R.length).join("/")}let E=ds(t,{pathname:y}),S=_R(E&&E.map(R=>Object.assign({},R,{params:Object.assign({},a,R.params),pathname:Ar([l,i.encodeLocation?i.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?l:Ar([l,i.encodeLocation?i.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),s,n,r);return e&&S?v.createElement(uh.Provider,{value:{location:jl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ot.Pop}},S):S}function gR(){let t=bR(),e=ch(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),n?v.createElement("pre",{style:i},n):null,s)}const yR=v.createElement(gR,null);class vR extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?v.createElement(Gr.Provider,{value:this.props.routeContext},v.createElement(fx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function wR(t){let{routeContext:e,match:n,children:r}=t,i=v.useContext(oc);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(Gr.Provider,{value:e},r)}function _R(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||ye(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:p,errors:y}=n,E=h.route.loader&&p[h.route.id]===void 0&&(!y||y[h.route.id]===void 0);if(h.route.lazy||E){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let y,E=!1,S=null,R=null;n&&(y=a&&h.route.id?a[h.route.id]:void 0,S=h.route.errorElement||yR,l&&(u<0&&p===0?(IR("route-fallback",!1),E=!0,R=null):u===p&&(E=!0,R=h.route.hydrateFallbackElement||null)));let T=e.concat(o.slice(0,p+1)),w=()=>{let x;return y?x=S:E?x=R:h.route.Component?x=v.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=d,v.createElement(wR,{match:h,routeContext:{outlet:d,matches:T,isDataRoute:n!=null},children:x})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?v.createElement(vR,{location:n.location,revalidation:n.revalidation,component:S,error:y,children:w(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):w()},null)}var px=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(px||{}),gd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(gd||{});function ER(t){let e=v.useContext(oc);return e||ye(!1),e}function TR(t){let e=v.useContext(kg);return e||ye(!1),e}function xR(t){let e=v.useContext(Gr);return e||ye(!1),e}function gx(t){let e=xR(),n=e.matches[e.matches.length-1];return n.route.id||ye(!1),n.route.id}function bR(){var t;let e=v.useContext(fx),n=TR(gd.UseRouteError),r=gx(gd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function SR(){let{router:t}=ER(px.UseNavigateStable),e=gx(gd.UseNavigateStable),n=v.useRef(!1);return mx(()=>{n.current=!0}),v.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,jl({fromRouteId:e},s)))},[t,e])}const s1={};function IR(t,e,n){!e&&!s1[t]&&(s1[t]=!0)}function yx(t){let{to:e,replace:n,state:r,relative:i}=t;oa()||ye(!1);let{future:s,static:o}=v.useContext(Kr),{matches:a}=v.useContext(Gr),{pathname:l}=Qr(),u=Rn(),d=lh(e,ah(a,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(d);return v.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:i}),[u,h,i,n,r]),null}function CR(t){return mR(t.context)}function PR(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ot.Pop,navigator:s,static:o=!1,future:a}=t;oa()&&ye(!1);let l=e.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:l,navigator:s,static:o,future:jl({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=qr(r));let{pathname:d="/",search:h="",hash:p="",state:y=null,key:E="default"}=r,S=v.useMemo(()=>{let R=jr(d,l);return R==null?null:{location:{pathname:R,search:h,hash:p,state:y,key:E},navigationType:i}},[l,d,h,p,y,E,i]);return S==null?null:v.createElement(Kr.Provider,{value:u},v.createElement(uh.Provider,{children:n,value:S}))}new Promise(()=>{});function AR(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:v.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:v.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:v.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ho(){return Ho=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ho.apply(this,arguments)}function vx(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function RR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function NR(t,e){return t.button===0&&(!e||e==="_self")&&!RR(t)}const kR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],DR=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],LR="6";try{window.__reactRouterVersion=LR}catch{}function MR(t,e){return WA({basename:e==null?void 0:e.basename,future:Ho({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:pA({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||VR(),routes:t,mapRouteProperties:AR,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function VR(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Ho({},e,{errors:OR(e.errors)})),e}function OR(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new pd(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const wx=v.createContext({isTransitioning:!1}),FR=v.createContext(new Map),UR="startTransition",o1=nC[UR],jR="flushSync",a1=mA[jR];function BR(t){o1?o1(t):t()}function Ba(t){a1?a1(t):t()}let zR=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function $R(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=v.useState(n.state),[o,a]=v.useState(),[l,u]=v.useState({isTransitioning:!1}),[d,h]=v.useState(),[p,y]=v.useState(),[E,S]=v.useState(),R=v.useRef(new Map),{v7_startTransition:T}=r||{},w=v.useCallback(_=>{T?BR(_):_()},[T]),x=v.useCallback((_,b)=>{let{deletedFetchers:P,flushSync:D,viewTransitionOpts:V}=b;P.forEach(le=>R.current.delete(le)),_.fetchers.forEach((le,K)=>{le.data!==void 0&&R.current.set(K,le.data)});let N=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!V||N){D?Ba(()=>s(_)):w(()=>s(_));return}if(D){Ba(()=>{p&&(d&&d.resolve(),p.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:V.currentLocation,nextLocation:V.nextLocation})});let le=n.window.document.startViewTransition(()=>{Ba(()=>s(_))});le.finished.finally(()=>{Ba(()=>{h(void 0),y(void 0),a(void 0),u({isTransitioning:!1})})}),Ba(()=>y(le));return}p?(d&&d.resolve(),p.skipTransition(),S({state:_,currentLocation:V.currentLocation,nextLocation:V.nextLocation})):(a(_),u({isTransitioning:!0,flushSync:!1,currentLocation:V.currentLocation,nextLocation:V.nextLocation}))},[n.window,p,d,R,w]);v.useLayoutEffect(()=>n.subscribe(x),[n,x]),v.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new zR)},[l]),v.useEffect(()=>{if(d&&o&&n.window){let _=o,b=d.promise,P=n.window.document.startViewTransition(async()=>{w(()=>s(_)),await b});P.finished.finally(()=>{h(void 0),y(void 0),a(void 0),u({isTransitioning:!1})}),y(P)}},[w,o,d,n.window]),v.useEffect(()=>{d&&o&&i.location.key===o.location.key&&d.resolve()},[d,p,i.location,o]),v.useEffect(()=>{!l.isTransitioning&&E&&(a(E.state),u({isTransitioning:!0,flushSync:!1,currentLocation:E.currentLocation,nextLocation:E.nextLocation}),S(void 0))},[l.isTransitioning,E]),v.useEffect(()=>{},[]);let L=v.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:_=>n.navigate(_),push:(_,b,P)=>n.navigate(_,{state:b,preventScrollReset:P==null?void 0:P.preventScrollReset}),replace:(_,b,P)=>n.navigate(_,{replace:!0,state:b,preventScrollReset:P==null?void 0:P.preventScrollReset})}),[n]),j=n.basename||"/",k=v.useMemo(()=>({router:n,navigator:L,static:!1,basename:j}),[n,L,j]),A=v.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return v.createElement(v.Fragment,null,v.createElement(oc.Provider,{value:k},v.createElement(kg.Provider,{value:i},v.createElement(FR.Provider,{value:R.current},v.createElement(wx.Provider,{value:l},v.createElement(PR,{basename:j,location:i.location,navigationType:i.historyAction,navigator:L,future:A},i.initialized||n.future.v7_partialHydration?v.createElement(HR,{routes:n.routes,future:n.future,state:i}):e))))),null)}const HR=v.memo(WR);function WR(t){let{routes:e,future:n,state:r}=t;return pR(e,void 0,r,n)}const qR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",KR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gt=v.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:h}=e,p=vx(e,kR),{basename:y}=v.useContext(Kr),E,S=!1;if(typeof u=="string"&&KR.test(u)&&(E=u,qR))try{let x=new URL(window.location.href),L=u.startsWith("//")?new URL(x.protocol+u):new URL(u),j=jr(L.pathname,y);L.origin===x.origin&&j!=null?u=j+L.search+L.hash:S=!0}catch{}let R=dR(u,{relative:i}),T=QR(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:h});function w(x){r&&r(x),x.defaultPrevented||T(x)}return v.createElement("a",Ho({},p,{href:E||R,onClick:S||s?r:w,ref:n,target:l}))}),_x=v.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,viewTransition:u,children:d}=e,h=vx(e,DR),p=dh(l,{relative:h.relative}),y=Qr(),E=v.useContext(kg),{navigator:S,basename:R}=v.useContext(Kr),T=E!=null&&YR(p)&&u===!0,w=S.encodeLocation?S.encodeLocation(p).pathname:p.pathname,x=y.pathname,L=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;i||(x=x.toLowerCase(),L=L?L.toLowerCase():null,w=w.toLowerCase()),L&&R&&(L=jr(L,R)||L);const j=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let k=x===w||!o&&x.startsWith(w)&&x.charAt(j)==="/",A=L!=null&&(L===w||!o&&L.startsWith(w)&&L.charAt(w.length)==="/"),_={isActive:k,isPending:A,isTransitioning:T},b=k?r:void 0,P;typeof s=="function"?P=s(_):P=[s,k?"active":null,A?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let D=typeof a=="function"?a(_):a;return v.createElement(Gt,Ho({},h,{"aria-current":b,className:P,ref:n,style:D,to:l,viewTransition:u}),typeof d=="function"?d(_):d)});var Wm;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Wm||(Wm={}));var l1;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(l1||(l1={}));function GR(t){let e=v.useContext(oc);return e||ye(!1),e}function QR(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=Rn(),u=Qr(),d=dh(t,{relative:o});return v.useCallback(h=>{if(NR(h,n)){h.preventDefault();let p=r!==void 0?r:As(u)===As(d);l(t,{replace:p,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[u,l,d,r,i,n,t,s,o,a])}function YR(t,e){e===void 0&&(e={});let n=v.useContext(wx);n==null&&ye(!1);let{basename:r}=GR(Wm.useViewTransitionState),i=dh(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=jr(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=jr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return md(i.pathname,o)!=null||md(i.pathname,s)!=null}function XR(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}function hh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const qm=t=>Array.isArray(t);function Ex(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Bl(t){return typeof t=="string"||Array.isArray(t)}function c1(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Dg(t,e,n,r){if(typeof e=="function"){const[i,s]=c1(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=c1(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function fh(t,e,n){const r=t.getProps();return Dg(r,e,n!==void 0?n:r.custom,t)}const Lg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Mg=["initial",...Lg],ac=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Vs=new Set(ac),ir=t=>t*1e3,Rr=t=>t/1e3,JR={type:"spring",stiffness:500,damping:25,restSpeed:10},ZR=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),eN={type:"keyframes",duration:.8},tN={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},nN=(t,{keyframes:e})=>e.length>2?eN:Vs.has(t)?t.startsWith("scale")?ZR(e[1]):JR:tN;function Vg(t,e){return t?t[e]||t.default||t:void 0}const rN={skipAnimations:!1,useManualTiming:!1},iN=t=>t!==null;function mh(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(iN),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const Nt=t=>t;function sN(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(u){s.has(u)&&(l.schedule(u),t()),u(o)}const l={schedule:(u,d=!1,h=!1)=>{const y=h&&r?e:n;return d&&s.add(u),y.has(u)||y.add(u),u},cancel:u=>{n.delete(u),s.delete(u)},process:u=>{if(o=u,r){i=!0;return}r=!0,[e,n]=[n,e],n.clear(),e.forEach(a),r=!1,i&&(i=!1,l.process(u))}};return l}const ou=["read","resolveKeyframes","update","preRender","render","postRender"],oN=40;function Tx(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=ou.reduce((T,w)=>(T[w]=sN(s),T),{}),{read:a,resolveKeyframes:l,update:u,preRender:d,render:h,postRender:p}=o,y=()=>{const T=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(T-i.timestamp,oN),1),i.timestamp=T,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),d.process(i),h.process(i),p.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(y))},E=()=>{n=!0,r=!0,i.isProcessing||t(y)};return{schedule:ou.reduce((T,w)=>{const x=o[w];return T[w]=(L,j=!1,k=!1)=>(n||E(),x.schedule(L,j,k)),T},{}),cancel:T=>{for(let w=0;w<ou.length;w++)o[ou[w]].cancel(T)},state:i,steps:o}}const{schedule:Me,cancel:Mi,state:It,steps:If}=Tx(typeof requestAnimationFrame<"u"?requestAnimationFrame:Nt,!0),xx=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,aN=1e-7,lN=12;function cN(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=xx(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>aN&&++a<lN);return o}function lc(t,e,n,r){if(t===e&&n===r)return Nt;const i=s=>cN(s,0,1,t,n);return s=>s===0||s===1?s:xx(i(s),e,r)}const bx=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Sx=t=>e=>1-t(1-e),Ix=lc(.33,1.53,.69,.99),Og=Sx(Ix),Cx=bx(Og),Px=t=>(t*=2)<1?.5*Og(t):.5*(2-Math.pow(2,-10*(t-1))),Fg=t=>1-Math.sin(Math.acos(t)),Ax=Sx(Fg),Rx=bx(Fg),Nx=t=>/^0[^.\s]+$/u.test(t);function uN(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Nx(t):!0}let dN=Nt,kx=Nt;const Dx=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),Lx=t=>e=>typeof e=="string"&&e.startsWith(t),Mx=Lx("--"),hN=Lx("var(--"),Ug=t=>hN(t)?fN.test(t.split("/*")[0].trim()):!1,fN=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,mN=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function pN(t){const e=mN.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function Vx(t,e,n=1){const[r,i]=pN(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return Dx(o)?parseFloat(o):o}return Ug(i)?Vx(i,e,n+1):i}const Vi=(t,e,n)=>n>e?e:n<t?t:n,aa={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},zl={...aa,transform:t=>Vi(0,1,t)},au={...aa,default:1},cc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),oi=cc("deg"),sr=cc("%"),ue=cc("px"),gN=cc("vh"),yN=cc("vw"),u1={...sr,parse:t=>sr.parse(t)/100,transform:t=>sr.transform(t*100)},vN=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),d1=t=>t===aa||t===ue,h1=(t,e)=>parseFloat(t.split(", ")[e]),f1=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return h1(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?h1(s[1],t):0}},wN=new Set(["x","y","z"]),_N=ac.filter(t=>!wN.has(t));function EN(t){const e=[];return _N.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Wo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:f1(4,13),y:f1(5,14)};Wo.translateX=Wo.x;Wo.translateY=Wo.y;const Ox=t=>e=>e.test(t),TN={test:t=>t==="auto",parse:t=>t},Fx=[aa,ue,sr,oi,yN,gN,TN],m1=t=>Fx.find(Ox(t)),Ts=new Set;let Km=!1,Gm=!1;function Ux(){if(Gm){const t=Array.from(Ts).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=EN(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Gm=!1,Km=!1,Ts.forEach(t=>t.complete()),Ts.clear()}function jx(){Ts.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Gm=!0)})}function xN(){jx(),Ux()}class jg{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ts.add(this),Km||(Km=!0,Me.read(jx),Me.resolveKeyframes(Ux))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ts.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ts.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const ml=t=>Math.round(t*1e5)/1e5,Bg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function bN(t){return t==null}const SN=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,zg=(t,e)=>n=>!!(typeof n=="string"&&SN.test(n)&&n.startsWith(t)||e&&!bN(n)&&Object.prototype.hasOwnProperty.call(n,e)),Bx=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(Bg);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},IN=t=>Vi(0,255,t),Cf={...aa,transform:t=>Math.round(IN(t))},ys={test:zg("rgb","red"),parse:Bx("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Cf.transform(t)+", "+Cf.transform(e)+", "+Cf.transform(n)+", "+ml(zl.transform(r))+")"};function CN(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Qm={test:zg("#"),parse:CN,transform:ys.transform},vo={test:zg("hsl","hue"),parse:Bx("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+sr.transform(ml(e))+", "+sr.transform(ml(n))+", "+ml(zl.transform(r))+")"},Ut={test:t=>ys.test(t)||Qm.test(t)||vo.test(t),parse:t=>ys.test(t)?ys.parse(t):vo.test(t)?vo.parse(t):Qm.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ys.transform(t):vo.transform(t)},PN=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function AN(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Bg))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(PN))===null||n===void 0?void 0:n.length)||0)>0}const zx="number",$x="color",RN="var",NN="var(",p1="${}",kN=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function $l(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(kN,l=>(Ut.test(l)?(r.color.push(s),i.push($x),n.push(Ut.parse(l))):l.startsWith(NN)?(r.var.push(s),i.push(RN),n.push(l)):(r.number.push(s),i.push(zx),n.push(parseFloat(l))),++s,p1)).split(p1);return{values:n,split:a,indexes:r,types:i}}function Hx(t){return $l(t).values}function Wx(t){const{split:e,types:n}=$l(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===zx?s+=ml(i[o]):a===$x?s+=Ut.transform(i[o]):s+=i[o]}return s}}const DN=t=>typeof t=="number"?0:t;function LN(t){const e=Hx(t);return Wx(t)(e.map(DN))}const Oi={test:AN,parse:Hx,createTransformer:Wx,getAnimatableNone:LN},MN=new Set(["brightness","contrast","saturate","opacity"]);function VN(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Bg)||[];if(!r)return t;const i=n.replace(r,"");let s=MN.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const ON=/\b([a-z-]*)\(.*?\)/gu,Ym={...Oi,getAnimatableNone:t=>{const e=t.match(ON);return e?e.map(VN).join(" "):t}},FN={borderWidth:ue,borderTopWidth:ue,borderRightWidth:ue,borderBottomWidth:ue,borderLeftWidth:ue,borderRadius:ue,radius:ue,borderTopLeftRadius:ue,borderTopRightRadius:ue,borderBottomRightRadius:ue,borderBottomLeftRadius:ue,width:ue,maxWidth:ue,height:ue,maxHeight:ue,top:ue,right:ue,bottom:ue,left:ue,padding:ue,paddingTop:ue,paddingRight:ue,paddingBottom:ue,paddingLeft:ue,margin:ue,marginTop:ue,marginRight:ue,marginBottom:ue,marginLeft:ue,backgroundPositionX:ue,backgroundPositionY:ue},UN={rotate:oi,rotateX:oi,rotateY:oi,rotateZ:oi,scale:au,scaleX:au,scaleY:au,scaleZ:au,skew:oi,skewX:oi,skewY:oi,distance:ue,translateX:ue,translateY:ue,translateZ:ue,x:ue,y:ue,z:ue,perspective:ue,transformPerspective:ue,opacity:zl,originX:u1,originY:u1,originZ:ue},g1={...aa,transform:Math.round},$g={...FN,...UN,zIndex:g1,size:ue,fillOpacity:zl,strokeOpacity:zl,numOctaves:g1},jN={...$g,color:Ut,backgroundColor:Ut,outlineColor:Ut,fill:Ut,stroke:Ut,borderColor:Ut,borderTopColor:Ut,borderRightColor:Ut,borderBottomColor:Ut,borderLeftColor:Ut,filter:Ym,WebkitFilter:Ym},Hg=t=>jN[t];function qx(t,e){let n=Hg(t);return n!==Ym&&(n=Oi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const BN=new Set(["auto","none","0"]);function zN(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!BN.has(s)&&$l(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=qx(n,i)}class Kx extends jg{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),Ug(u))){const d=Vx(u,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!vN.has(r)||e.length!==2)return;const[i,s]=e,o=m1(i),a=m1(s);if(o!==a)if(d1(o)&&d1(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)uN(e[i])&&r.push(i);r.length&&zN(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Wo[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=Wo[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function Wg(t){return typeof t=="function"}let Au;function $N(){Au=void 0}const or={now:()=>(Au===void 0&&or.set(It.isProcessing||rN.useManualTiming?It.timestamp:performance.now()),Au),set:t=>{Au=t,queueMicrotask($N)}},y1=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Oi.test(t)||t==="0")&&!t.startsWith("url("));function HN(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function WN(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=y1(i,e),a=y1(s,e);return!o||!a?!1:HN(t)||(n==="spring"||Wg(n))&&r}const qN=40;class Gx{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=or.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>qN?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&xN(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=or.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!WN(e,r,i,s))if(o)this.options.duration=0;else{l==null||l(mh(e,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function Qx(t,e){return e?t*(1e3/e):0}const KN=5;function Yx(t,e,n){const r=Math.max(e-KN,0);return Qx(n-t(r),e-r)}const Pf=.001,GN=.01,v1=10,QN=.05,YN=1;function XN({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s;dN(t<=ir(v1));let o=1-e;o=Vi(QN,YN,o),t=Vi(GN,v1,Rr(t)),o<1?(i=u=>{const d=u*o,h=d*t,p=d-n,y=Xm(u,o),E=Math.exp(-h);return Pf-p/y*E},s=u=>{const h=u*o*t,p=h*n+n,y=Math.pow(o,2)*Math.pow(u,2)*t,E=Math.exp(-h),S=Xm(Math.pow(u,2),o);return(-i(u)+Pf>0?-1:1)*((p-y)*E)/S}):(i=u=>{const d=Math.exp(-u*t),h=(u-n)*t+1;return-Pf+d*h},s=u=>{const d=Math.exp(-u*t),h=(n-u)*(t*t);return d*h});const a=5/t,l=ZN(i,s,a);if(t=ir(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const JN=12;function ZN(t,e,n){let r=n;for(let i=1;i<JN;i++)r=r-t(r)/e(r);return r}function Xm(t,e){return t*Math.sqrt(1-e*e)}const ek=["duration","bounce"],tk=["stiffness","damping","mass"];function w1(t,e){return e.some(n=>t[n]!==void 0)}function nk(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!w1(t,tk)&&w1(t,ek)){const n=XN(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function Xx({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:u,duration:d,velocity:h,isResolvedFromDuration:p}=nk({...r,velocity:-Rr(r.velocity||0)}),y=h||0,E=l/(2*Math.sqrt(a*u)),S=s-i,R=Rr(Math.sqrt(a/u)),T=Math.abs(S)<5;n||(n=T?.01:2),e||(e=T?.005:.5);let w;if(E<1){const x=Xm(R,E);w=L=>{const j=Math.exp(-E*R*L);return s-j*((y+E*R*S)/x*Math.sin(x*L)+S*Math.cos(x*L))}}else if(E===1)w=x=>s-Math.exp(-R*x)*(S+(y+R*S)*x);else{const x=R*Math.sqrt(E*E-1);w=L=>{const j=Math.exp(-E*R*L),k=Math.min(x*L,300);return s-j*((y+E*R*S)*Math.sinh(k)+x*S*Math.cosh(k))/x}}return{calculatedDuration:p&&d||null,next:x=>{const L=w(x);if(p)o.done=x>=d;else{let j=0;E<1&&(j=x===0?ir(y):Yx(w,x,L));const k=Math.abs(j)<=n,A=Math.abs(s-L)<=e;o.done=k&&A}return o.value=o.done?s:L,o}}}function _1({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:d}){const h=t[0],p={done:!1,value:h},y=_=>a!==void 0&&_<a||l!==void 0&&_>l,E=_=>a===void 0?l:l===void 0||Math.abs(a-_)<Math.abs(l-_)?a:l;let S=n*e;const R=h+S,T=o===void 0?R:o(R);T!==R&&(S=T-h);const w=_=>-S*Math.exp(-_/r),x=_=>T+w(_),L=_=>{const b=w(_),P=x(_);p.done=Math.abs(b)<=u,p.value=p.done?T:P};let j,k;const A=_=>{y(p.value)&&(j=_,k=Xx({keyframes:[p.value,E(p.value)],velocity:Yx(x,_,p.value),damping:i,stiffness:s,restDelta:u,restSpeed:d}))};return A(0),{calculatedDuration:null,next:_=>{let b=!1;return!k&&j===void 0&&(b=!0,L(_),A(_)),j!==void 0&&_>=j?k.next(_-j):(!b&&L(_),p)}}}const rk=lc(.42,0,1,1),ik=lc(0,0,.58,1),Jx=lc(.42,0,.58,1),sk=t=>Array.isArray(t)&&typeof t[0]!="number",qg=t=>Array.isArray(t)&&typeof t[0]=="number",ok={linear:Nt,easeIn:rk,easeInOut:Jx,easeOut:ik,circIn:Fg,circInOut:Rx,circOut:Ax,backIn:Og,backInOut:Cx,backOut:Ix,anticipate:Px},E1=t=>{if(qg(t)){kx(t.length===4);const[e,n,r,i]=t;return lc(e,n,r,i)}else if(typeof t=="string")return ok[t];return t},ak=(t,e)=>n=>e(t(n)),Nr=(...t)=>t.reduce(ak),qo=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Je=(t,e,n)=>t+(e-t)*n;function Af(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function lk({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=Af(l,a,t+1/3),s=Af(l,a,t),o=Af(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function yd(t,e){return n=>n>0?e:t}const Rf=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},ck=[Qm,ys,vo],uk=t=>ck.find(e=>e.test(t));function T1(t){const e=uk(t);if(!e)return!1;let n=e.parse(t);return e===vo&&(n=lk(n)),n}const x1=(t,e)=>{const n=T1(t),r=T1(e);if(!n||!r)return yd(t,e);const i={...n};return s=>(i.red=Rf(n.red,r.red,s),i.green=Rf(n.green,r.green,s),i.blue=Rf(n.blue,r.blue,s),i.alpha=Je(n.alpha,r.alpha,s),ys.transform(i))},Jm=new Set(["none","hidden"]);function dk(t,e){return Jm.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function hk(t,e){return n=>Je(t,e,n)}function Kg(t){return typeof t=="number"?hk:typeof t=="string"?Ug(t)?yd:Ut.test(t)?x1:pk:Array.isArray(t)?Zx:typeof t=="object"?Ut.test(t)?x1:fk:yd}function Zx(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>Kg(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function fk(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Kg(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function mk(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const pk=(t,e)=>{const n=Oi.createTransformer(e),r=$l(t),i=$l(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Jm.has(t)&&!i.values.length||Jm.has(e)&&!r.values.length?dk(t,e):Nr(Zx(mk(r,i),i.values),n):yd(t,e)};function e2(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Je(t,e,n):Kg(t)(t,e)}function gk(t,e,n){const r=[],i=n||e2,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Nt:e;a=Nr(l,a)}r.push(a)}return r}function yk(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(kx(s===e.length),s===1)return()=>e[0];if(s===2&&t[0]===t[1])return()=>e[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=gk(e,r,i),a=o.length,l=u=>{let d=0;if(a>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const h=qo(t[d],t[d+1],u);return o[d](h)};return n?u=>l(Vi(t[0],t[s-1],u)):l}function vk(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=qo(0,e,r);t.push(Je(n,1,i))}}function wk(t){const e=[0];return vk(e,t.length-1),e}function _k(t,e){return t.map(n=>n*e)}function Ek(t,e){return t.map(()=>e||Jx).splice(0,t.length-1)}function vd({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=sk(r)?r.map(E1):E1(r),s={done:!1,value:e[0]},o=_k(n&&n.length===e.length?n:wk(e),t),a=yk(o,e,{ease:Array.isArray(i)?i:Ek(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const b1=2e4;function Tk(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<b1;)e+=n,r=t.next(e);return e>=b1?1/0:e}const xk=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Me.update(e,!0),stop:()=>Mi(e),now:()=>It.isProcessing?It.timestamp:or.now()}},bk={decay:_1,inertia:_1,tween:vd,keyframes:vd,spring:Xx},Sk=t=>t/100;class Gg extends Gx{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||jg,a=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=Wg(n)?n:bk[n]||vd;let l,u;a!==vd&&typeof e[0]!="number"&&(l=Nr(Sk,e2(e[0],e[1])),e=[0,100]);const d=a({...this.options,keyframes:e});s==="mirror"&&(u=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=Tk(d));const{calculatedDuration:h}=d,p=h+i,y=p*(r+1)-i;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:p,totalDuration:y}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:_}=this.options;return{done:!0,value:_[_.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=r;if(this.startTime===null)return s.next(0);const{delay:p,repeat:y,repeatType:E,repeatDelay:S,onUpdate:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const T=this.currentTime-p*(this.speed>=0?1:-1),w=this.speed>=0?T<0:T>d;this.currentTime=Math.max(T,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let x=this.currentTime,L=s;if(y){const _=Math.min(this.currentTime,d)/h;let b=Math.floor(_),P=_%1;!P&&_>=1&&(P=1),P===1&&b--,b=Math.min(b,y+1),!!(b%2)&&(E==="reverse"?(P=1-P,S&&(P-=S/h)):E==="mirror"&&(L=o)),x=Vi(0,1,P)*h}const j=w?{done:!1,value:l[0]}:L.next(x);a&&(j.value=a(j.value));let{done:k}=j;!w&&u!==null&&(k=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return A&&i!==void 0&&(j.value=mh(l,this.options,i)),R&&R(j.value),A&&this.finish(),j}get duration(){const{resolved:e}=this;return e?Rr(e.calculatedDuration):0}get time(){return Rr(this.currentTime)}set time(e){e=ir(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Rr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=xk,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Ik=new Set(["opacity","clipPath","filter","transform"]),Ck=10,Pk=(t,e)=>{let n="";const r=Math.max(Math.round(e/Ck),2);for(let i=0;i<r;i++)n+=t(qo(0,r-1,i))+", ";return`linear(${n.substring(0,n.length-2)})`};function Qg(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ak={linearEasing:void 0};function Rk(t,e){const n=Qg(t);return()=>{var r;return(r=Ak[e])!==null&&r!==void 0?r:n()}}const wd=Rk(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function t2(t){return!!(typeof t=="function"&&wd()||!t||typeof t=="string"&&(t in Zm||wd())||qg(t)||Array.isArray(t)&&t.every(t2))}const Xa=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Zm={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Xa([0,.65,.55,1]),circOut:Xa([.55,0,1,.45]),backIn:Xa([.31,.01,.66,-.59]),backOut:Xa([.33,1.53,.69,.99])};function n2(t,e){if(t)return typeof t=="function"&&wd()?Pk(t,e):qg(t)?Xa(t):Array.isArray(t)?t.map(n=>n2(n,e)||Zm.easeOut):Zm[t]}function Nk(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const u={[e]:n};l&&(u.offset=l);const d=n2(a,i);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function S1(t,e){t.timeline=e,t.onfinish=null}const kk=Qg(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),_d=10,Dk=2e4;function Lk(t){return Wg(t.type)||t.type==="spring"||!t2(t.ease)}function Mk(t,e){const n=new Gg({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<Dk;)r=n.sample(s),i.push(r.value),s+=_d;return{times:void 0,keyframes:i,duration:s-_d,ease:"linear"}}const r2={anticipate:Px,backInOut:Cx,circInOut:Rx};function Vk(t){return t in r2}class I1 extends Gx{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new Kx(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:i=300,times:s,ease:o,type:a,motionValue:l,name:u,startTime:d}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(typeof o=="string"&&wd()&&Vk(o)&&(o=r2[o]),Lk(this.options)){const{onComplete:p,onUpdate:y,motionValue:E,element:S,...R}=this.options,T=Mk(e,R);e=T.keyframes,e.length===1&&(e[1]=e[0]),i=T.duration,s=T.times,o=T.ease,a="keyframes"}const h=Nk(l.owner.current,u,e,{...this.options,duration:i,times:s,ease:o});return h.startTime=d??this.calcStartTime(),this.pendingTimeline?(S1(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:p}=this.options;l.set(mh(e,this.options,n)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:i,times:s,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Rr(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Rr(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=ir(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Nt;const{animation:r}=n;S1(r,e)}return Nt}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:h,element:p,...y}=this.options,E=new Gg({...y,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),S=ir(this.time);u.setWithVelocity(E.sample(S-_d).value,E.sample(S).value,_d)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;return kk()&&r&&Ik.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const Ok=Qg(()=>window.ScrollTimeline!==void 0);class Fk{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>Ok()&&i.attachTimeline?i.attachTimeline(e):n(i));return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function Uk({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...d}){return!!Object.keys(d).length}const Yg=(t,e,n,r={},i,s)=>o=>{const a=Vg(r,t)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-ir(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};Uk(a)||(d={...d,...nN(t,d)}),d.duration&&(d.duration=ir(d.duration)),d.repeatDelay&&(d.repeatDelay=ir(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!s&&e.get()!==void 0){const p=mh(d.keyframes,a);if(p!==void 0)return Me.update(()=>{d.onUpdate(p),d.onComplete()}),new Fk([])}return!s&&I1.supports(d)?new I1(d):new Gg(d)},jk=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Bk=t=>qm(t)?t[t.length-1]||0:t;function Xg(t,e){t.indexOf(e)===-1&&t.push(e)}function Jg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Zg{constructor(){this.subscriptions=[]}add(e){return Xg(this.subscriptions,e),()=>Jg(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const C1=30,zk=t=>!isNaN(parseFloat(t));class $k{constructor(e,n={}){this.version="11.11.10",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=or.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=or.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=zk(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Zg);const r=this.events[e].add(n);return e==="change"?()=>{r(),Me.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=or.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>C1)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,C1);return Qx(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Hl(t,e){return new $k(t,e)}function Hk(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Hl(n))}function Wk(t,e){const n=fh(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=Bk(s[o]);Hk(t,o,a)}}const e0=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),qk="framerAppearId",i2="data-"+e0(qk);function s2(t){return t.props[i2]}const $t=t=>!!(t&&t.getVelocity);function Kk(t){return!!($t(t)&&t.add)}function ep(t,e){const n=t.getValue("willChange");if(Kk(n))return n.add(e)}function Gk({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function o2(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const u=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const h in l){const p=t.getValue(h,(s=t.latestValues[h])!==null&&s!==void 0?s:null),y=l[h];if(y===void 0||d&&Gk(d,h))continue;const E={delay:n,...Vg(o||{},h)};let S=!1;if(window.MotionHandoffAnimation){const T=s2(t);if(T){const w=window.MotionHandoffAnimation(T,h,Me);w!==null&&(E.startTime=w,S=!0)}}ep(t,h),p.start(Yg(h,p,y,t.shouldReduceMotion&&Vs.has(h)?{type:!1}:E,t,S));const R=p.animation;R&&u.push(R)}return a&&Promise.all(u).then(()=>{Me.update(()=>{a&&Wk(t,a)})}),u}function tp(t,e,n={}){var r;const i=fh(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(o2(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:p}=s;return Qk(t,e,d+u,h,p,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,d]=l==="beforeChildren"?[o,a]:[a,o];return u().then(()=>d())}else return Promise.all([o(),a(n.delay)])}function Qk(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(Yk).forEach((u,d)=>{u.notify("AnimationStart",e),o.push(tp(u,e,{...s,delay:n+l(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function Yk(t,e){return t.sortNodePosition(e)}function Xk(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>tp(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=tp(t,e,n);else{const i=typeof e=="function"?fh(t,e,n.custom):e;r=Promise.all(o2(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const Jk=Mg.length;function a2(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?a2(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Jk;n++){const r=Mg[n],i=t.props[r];(Bl(i)||i===!1)&&(e[r]=i)}return e}const Zk=[...Lg].reverse(),e5=Lg.length;function t5(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Xk(t,n,r)))}function n5(t){let e=t5(t),n=P1(),r=!0;const i=l=>(u,d)=>{var h;const p=fh(t,d,l==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(p){const{transition:y,transitionEnd:E,...S}=p;u={...u,...S,...E}}return u};function s(l){e=l(t)}function o(l){const{props:u}=t,d=a2(t.parent)||{},h=[],p=new Set;let y={},E=1/0;for(let R=0;R<e5;R++){const T=Zk[R],w=n[T],x=u[T]!==void 0?u[T]:d[T],L=Bl(x),j=T===l?w.isActive:null;j===!1&&(E=R);let k=x===d[T]&&x!==u[T]&&L;if(k&&r&&t.manuallyAnimateOnMount&&(k=!1),w.protectedKeys={...y},!w.isActive&&j===null||!x&&!w.prevProp||hh(x)||typeof x=="boolean")continue;const A=r5(w.prevProp,x);let _=A||T===l&&w.isActive&&!k&&L||R>E&&L,b=!1;const P=Array.isArray(x)?x:[x];let D=P.reduce(i(T),{});j===!1&&(D={});const{prevResolvedValues:V={}}=w,N={...V,...D},le=re=>{_=!0,p.has(re)&&(b=!0,p.delete(re)),w.needsAnimating[re]=!0;const W=t.getValue(re);W&&(W.liveStyle=!1)};for(const re in N){const W=D[re],ie=V[re];if(y.hasOwnProperty(re))continue;let ce=!1;qm(W)&&qm(ie)?ce=!Ex(W,ie):ce=W!==ie,ce?W!=null?le(re):p.add(re):W!==void 0&&p.has(re)?le(re):w.protectedKeys[re]=!0}w.prevProp=x,w.prevResolvedValues=D,w.isActive&&(y={...y,...D}),r&&t.blockInitialAnimation&&(_=!1),_&&(!(k&&A)||b)&&h.push(...P.map(re=>({animation:re,options:{type:T}})))}if(p.size){const R={};p.forEach(T=>{const w=t.getBaseTarget(T),x=t.getValue(T);x&&(x.liveStyle=!0),R[T]=w??null}),h.push({animation:R})}let S=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(h):Promise.resolve()}function a(l,u){var d;if(n[l].isActive===u)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(p=>{var y;return(y=p.animationState)===null||y===void 0?void 0:y.setActive(l,u)}),n[l].isActive=u;const h=o(l);for(const p in n)n[p].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=P1(),r=!0}}}function r5(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Ex(e,t):!1}function ss(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function P1(){return{animate:ss(!0),whileInView:ss(),whileHover:ss(),whileTap:ss(),whileDrag:ss(),whileFocus:ss(),exit:ss()}}class qi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class i5 extends qi{constructor(e){super(e),e.animationState||(e.animationState=n5(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();hh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let s5=0;class o5 extends qi{constructor(){super(...arguments),this.id=s5++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const a5={animation:{Feature:i5},exit:{Feature:o5}},l2=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function ph(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const l5=t=>e=>l2(e)&&t(e,ph(e));function br(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function kr(t,e,n,r){return br(t,e,l5(n),r)}const A1=(t,e)=>Math.abs(t-e);function c5(t,e){const n=A1(t.x,e.x),r=A1(t.y,e.y);return Math.sqrt(n**2+r**2)}class c2{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=kf(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,y=c5(h.offset,{x:0,y:0})>=3;if(!p&&!y)return;const{point:E}=h,{timestamp:S}=It;this.history.push({...E,timestamp:S});const{onStart:R,onMove:T}=this.handlers;p||(R&&R(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Nf(p,this.transformPagePoint),Me.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:y,onSessionEnd:E,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=kf(h.type==="pointercancel"?this.lastMoveEventInfo:Nf(p,this.transformPagePoint),this.history);this.startEvent&&y&&y(h,R),E&&E(h,R)},!l2(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=ph(e),a=Nf(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=It;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,kf(a,this.history)),this.removeListeners=Nr(kr(this.contextWindow,"pointermove",this.handlePointerMove),kr(this.contextWindow,"pointerup",this.handlePointerUp),kr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Mi(this.updatePoint)}}function Nf(t,e){return e?{point:e(t.point)}:t}function R1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function kf({point:t},e){return{point:t,delta:R1(t,u2(e)),offset:R1(t,u5(e)),velocity:d5(e,.1)}}function u5(t){return t[0]}function u2(t){return t[t.length-1]}function d5(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=u2(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>ir(e)));)n--;if(!r)return{x:0,y:0};const s=Rr(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function d2(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const N1=d2("dragHorizontal"),k1=d2("dragVertical");function h2(t){let e=!1;if(t==="y")e=k1();else if(t==="x")e=N1();else{const n=N1(),r=k1();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function f2(){const t=h2(!0);return t?(t(),!1):!0}function wo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const m2=1e-4,h5=1-m2,f5=1+m2,p2=.01,m5=0-p2,p5=0+p2;function yn(t){return t.max-t.min}function g5(t,e,n){return Math.abs(t-e)<=n}function D1(t,e,n,r=.5){t.origin=r,t.originPoint=Je(e.min,e.max,t.origin),t.scale=yn(n)/yn(e),t.translate=Je(n.min,n.max,t.origin)-t.originPoint,(t.scale>=h5&&t.scale<=f5||isNaN(t.scale))&&(t.scale=1),(t.translate>=m5&&t.translate<=p5||isNaN(t.translate))&&(t.translate=0)}function pl(t,e,n,r){D1(t.x,e.x,n.x,r?r.originX:void 0),D1(t.y,e.y,n.y,r?r.originY:void 0)}function L1(t,e,n){t.min=n.min+e.min,t.max=t.min+yn(e)}function y5(t,e,n){L1(t.x,e.x,n.x),L1(t.y,e.y,n.y)}function M1(t,e,n){t.min=e.min-n.min,t.max=t.min+yn(e)}function gl(t,e,n){M1(t.x,e.x,n.x),M1(t.y,e.y,n.y)}function v5(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Je(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Je(n,t,r.max):Math.min(t,n)),t}function V1(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function w5(t,{top:e,left:n,bottom:r,right:i}){return{x:V1(t.x,n,i),y:V1(t.y,e,r)}}function O1(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function _5(t,e){return{x:O1(t.x,e.x),y:O1(t.y,e.y)}}function E5(t,e){let n=.5;const r=yn(t),i=yn(e);return i>r?n=qo(e.min,e.max-r,t.min):r>i&&(n=qo(t.min,t.max-i,e.min)),Vi(0,1,n)}function T5(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const np=.35;function x5(t=np){return t===!1?t=0:t===!0&&(t=np),{x:F1(t,"left","right"),y:F1(t,"top","bottom")}}function F1(t,e,n){return{min:U1(t,e),max:U1(t,n)}}function U1(t,e){return typeof t=="number"?t:t[e]||0}const j1=()=>({translate:0,scale:1,origin:0,originPoint:0}),_o=()=>({x:j1(),y:j1()}),B1=()=>({min:0,max:0}),st=()=>({x:B1(),y:B1()});function xn(t){return[t("x"),t("y")]}function g2({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function b5({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function S5(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Df(t){return t===void 0||t===1}function rp({scale:t,scaleX:e,scaleY:n}){return!Df(t)||!Df(e)||!Df(n)}function ls(t){return rp(t)||y2(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function y2(t){return z1(t.x)||z1(t.y)}function z1(t){return t&&t!=="0%"}function Ed(t,e,n){const r=t-n,i=e*r;return n+i}function $1(t,e,n,r,i){return i!==void 0&&(t=Ed(t,i,r)),Ed(t,n,r)+e}function ip(t,e=0,n=1,r,i){t.min=$1(t.min,e,n,r,i),t.max=$1(t.max,e,n,r,i)}function v2(t,{x:e,y:n}){ip(t.x,e.translate,e.scale,e.originPoint),ip(t.y,n.translate,n.scale,n.originPoint)}const H1=.999999999999,W1=1.0000000000001;function I5(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&To(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,v2(t,o)),r&&ls(s.latestValues)&&To(t,s.latestValues))}e.x<W1&&e.x>H1&&(e.x=1),e.y<W1&&e.y>H1&&(e.y=1)}function Eo(t,e){t.min=t.min+e,t.max=t.max+e}function q1(t,e,n,r,i=.5){const s=Je(t.min,t.max,i);ip(t,e,n,s,r)}function To(t,e){q1(t.x,e.x,e.scaleX,e.scale,e.originX),q1(t.y,e.y,e.scaleY,e.scale,e.originY)}function w2(t,e){return g2(S5(t.getBoundingClientRect(),e))}function C5(t,e,n){const r=w2(t,n),{scroll:i}=e;return i&&(Eo(r.x,i.offset.x),Eo(r.y,i.offset.y)),r}const _2=({current:t})=>t?t.ownerDocument.defaultView:null,P5=new WeakMap;class A5{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=st(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ph(d,"page").point)},s=(d,h)=>{const{drag:p,dragPropagation:y,onDragStart:E}=this.getProps();if(p&&!y&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=h2(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),xn(R=>{let T=this.getAxisMotionValue(R).get()||0;if(sr.test(T)){const{projection:w}=this.visualElement;if(w&&w.layout){const x=w.layout.layoutBox[R];x&&(T=yn(x)*(parseFloat(T)/100))}}this.originPoint[R]=T}),E&&Me.postRender(()=>E(d,h)),ep(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:p,dragDirectionLock:y,onDirectionLock:E,onDrag:S}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:R}=h;if(y&&this.currentDirection===null){this.currentDirection=R5(R),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",h.point,R),this.updateAxis("y",h.point,R),this.visualElement.render(),S&&S(d,h)},a=(d,h)=>this.stop(d,h),l=()=>xn(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new c2(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:_2(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Me.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!lu(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=v5(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&wo(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=w5(i.layoutBox,n):this.constraints=!1,this.elastic=x5(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&xn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=T5(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!wo(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=C5(r,i.root,this.visualElement.getTransformPagePoint());let o=_5(i.layout.layoutBox,s);if(n){const a=n(b5(o));this.hasMutatedConstraints=!!a,a&&(o=g2(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=xn(d=>{if(!lu(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const p=i?200:1e6,y=i?40:1e7,E={type:"inertia",velocity:r?e[d]:0,bounceStiffness:p,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,E)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return ep(this.visualElement,e),r.start(Yg(e,r,0,n,this.visualElement,!1))}stopAnimation(){xn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){xn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){xn(n=>{const{drag:r}=this.getProps();if(!lu(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Je(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!wo(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};xn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=E5({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),xn(o=>{if(!lu(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(Je(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;P5.set(this.visualElement,this);const e=this.visualElement.current,n=kr(e,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();wo(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Me.read(r);const o=br(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(xn(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=np,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function lu(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function R5(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class N5 extends qi{constructor(e){super(e),this.removeGroupControls=Nt,this.removeListeners=Nt,this.controls=new A5(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Nt}unmount(){this.removeGroupControls(),this.removeListeners()}}const K1=t=>(e,n)=>{t&&Me.postRender(()=>t(e,n))};class k5 extends qi{constructor(){super(...arguments),this.removePointerDownListener=Nt}onPointerDown(e){this.session=new c2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:_2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:K1(e),onStart:K1(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Me.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=kr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const gh=v.createContext(null);function D5(){const t=v.useContext(gh);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=v.useId();v.useEffect(()=>r(i),[]);const s=v.useCallback(()=>n&&n(i),[i,n]);return!e&&n?[!1,s]:[!0]}const t0=v.createContext({}),E2=v.createContext({}),Ru={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function G1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const za={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ue.test(t))t=parseFloat(t);else return t;const n=G1(t,e.target.x),r=G1(t,e.target.y);return`${n}% ${r}%`}},L5={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Oi.parse(t);if(i.length>5)return r;const s=Oi.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=Je(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}},Td={};function M5(t){Object.assign(Td,t)}const{schedule:n0,cancel:UF}=Tx(queueMicrotask,!1);class V5 extends v.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;M5(O5),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Ru.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Me.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),n0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function T2(t){const[e,n]=D5(),r=v.useContext(t0);return f(V5,{...t,layoutGroup:r,switchLayoutGroup:v.useContext(E2),isPresent:e,safeToRemove:n})}const O5={borderRadius:{...za,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:za,borderTopRightRadius:za,borderBottomLeftRadius:za,borderBottomRightRadius:za,boxShadow:L5},x2=["TopLeft","TopRight","BottomLeft","BottomRight"],F5=x2.length,Q1=t=>typeof t=="string"?parseFloat(t):t,Y1=t=>typeof t=="number"||ue.test(t);function U5(t,e,n,r,i,s){i?(t.opacity=Je(0,n.opacity!==void 0?n.opacity:1,j5(r)),t.opacityExit=Je(e.opacity!==void 0?e.opacity:1,0,B5(r))):s&&(t.opacity=Je(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<F5;o++){const a=`border${x2[o]}Radius`;let l=X1(e,a),u=X1(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||Y1(l)===Y1(u)?(t[a]=Math.max(Je(Q1(l),Q1(u),r),0),(sr.test(u)||sr.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=Je(e.rotate||0,n.rotate||0,r))}function X1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const j5=b2(0,.5,Ax),B5=b2(.5,.95,Nt);function b2(t,e,n){return r=>r<t?0:r>e?1:n(qo(t,e,r))}function J1(t,e){t.min=e.min,t.max=e.max}function Tn(t,e){J1(t.x,e.x),J1(t.y,e.y)}function Z1(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function ew(t,e,n,r,i){return t-=e,t=Ed(t,1/n,r),i!==void 0&&(t=Ed(t,1/i,r)),t}function z5(t,e=0,n=1,r=.5,i,s=t,o=t){if(sr.test(e)&&(e=parseFloat(e),e=Je(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Je(s.min,s.max,r);t===s&&(a-=e),t.min=ew(t.min,e,n,a,i),t.max=ew(t.max,e,n,a,i)}function tw(t,e,[n,r,i],s,o){z5(t,e[n],e[r],e[i],e.scale,s,o)}const $5=["x","scaleX","originX"],H5=["y","scaleY","originY"];function nw(t,e,n,r){tw(t.x,e,$5,n?n.x:void 0,r?r.x:void 0),tw(t.y,e,H5,n?n.y:void 0,r?r.y:void 0)}function rw(t){return t.translate===0&&t.scale===1}function S2(t){return rw(t.x)&&rw(t.y)}function iw(t,e){return t.min===e.min&&t.max===e.max}function W5(t,e){return iw(t.x,e.x)&&iw(t.y,e.y)}function sw(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function I2(t,e){return sw(t.x,e.x)&&sw(t.y,e.y)}function ow(t){return yn(t.x)/yn(t.y)}function aw(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class q5{constructor(){this.members=[]}add(e){Xg(this.members,e),e.scheduleRender()}remove(e){if(Jg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function K5(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:p,skewX:y,skewY:E}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),p&&(r+=`rotateY(${p}deg) `),y&&(r+=`skewX(${y}deg) `),E&&(r+=`skewY(${E}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const G5=(t,e)=>t.depth-e.depth;class Q5{constructor(){this.children=[],this.isDirty=!1}add(e){Xg(this.children,e),this.isDirty=!0}remove(e){Jg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(G5),this.isDirty=!1,this.children.forEach(e)}}function Nu(t){const e=$t(t)?t.get():t;return jk(e)?e.toValue():e}function Y5(t,e){const n=or.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Mi(r),t(s-e))};return Me.read(r,!0),()=>Mi(r)}function X5(t){return t instanceof SVGElement&&t.tagName!=="svg"}function J5(t,e,n){const r=$t(t)?t:Hl(t);return r.start(Yg("",r,e,n)),r.animation}const cs={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Ja=typeof window<"u"&&window.MotionDebug!==void 0,Lf=["","X","Y","Z"],Z5={visibility:"hidden"},lw=1e3;let e4=0;function Mf(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function C2(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=s2(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Me,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&C2(r)}function P2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=e4++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ja&&(cs.totalNodes=cs.resolvedTargetDeltas=cs.recalculatedProjection=0),this.nodes.forEach(r4),this.nodes.forEach(l4),this.nodes.forEach(c4),this.nodes.forEach(i4),Ja&&window.MotionDebug.record(cs)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Q5)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Zg),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=X5(o),this.instance=o;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let h;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=Y5(p,250),Ru.hasAnimatedSinceResize&&(Ru.hasAnimatedSinceResize=!1,this.nodes.forEach(uw))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeTargetChanged:y,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||d.getDefaultTransition()||m4,{onLayoutAnimationStart:R,onLayoutAnimationComplete:T}=d.getProps(),w=!this.targetLayout||!I2(this.targetLayout,E)||y,x=!p&&y;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||p&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,x);const L={...Vg(S,"layout"),onPlay:R,onComplete:T};(d.shouldReduceMotion||this.options.layoutRoot)&&(L.delay=0,L.type=!1),this.startAnimation(L)}else p||uw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Mi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(u4),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&C2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(cw);return}this.isUpdating||this.nodes.forEach(o4),this.isUpdating=!1,this.nodes.forEach(a4),this.nodes.forEach(t4),this.nodes.forEach(n4),this.clearAllSnapshots();const a=or.now();It.delta=Vi(0,1e3/60,a-It.timestamp),It.timestamp=a,It.isProcessing=!0,If.update.process(It),If.preRender.process(It),If.render.process(It),It.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,n0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(s4),this.sharedNodes.forEach(d4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Me.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Me.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=st(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!S2(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(a||ls(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),p4(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return st();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(g4))){const{scroll:d}=this.root;d&&(Eo(l.x,d.offset.x),Eo(l.y,d.offset.y))}return l}removeElementScroll(o){var a;const l=st();if(Tn(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:p}=d;d!==this.root&&h&&p.layoutScroll&&(h.wasRoot&&Tn(l,o),Eo(l.x,h.offset.x),Eo(l.y,h.offset.y))}return l}applyTransform(o,a=!1){const l=st();Tn(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&To(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ls(d.latestValues)&&To(l,d.latestValues)}return ls(this.latestValues)&&To(l,this.latestValues),l}removeTransform(o){const a=st();Tn(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!ls(u.latestValues))continue;rp(u.latestValues)&&u.updateSnapshot();const d=st(),h=u.measurePageBox();Tn(d,h),nw(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return ls(this.latestValues)&&nw(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==It.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=It.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=st(),this.relativeTargetOrigin=st(),gl(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),Tn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=st(),this.targetWithTransforms=st()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),y5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Tn(this.target,this.layout.layoutBox),v2(this.target,this.targetDelta)):Tn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=st(),this.relativeTargetOrigin=st(),gl(this.relativeTargetOrigin,this.target,y.target),Tn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ja&&cs.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||rp(this.parent.latestValues)||y2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===It.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;Tn(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,y=this.treeScale.y;I5(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=st());const{target:E}=a;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Z1(this.prevProjectionDelta.x,this.projectionDelta.x),Z1(this.prevProjectionDelta.y,this.projectionDelta.y)),pl(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==y||!aw(this.projectionDelta.x,this.prevProjectionDelta.x)||!aw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E)),Ja&&cs.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=_o(),this.projectionDelta=_o(),this.projectionDeltaWithTransform=_o()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},h=_o();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=st(),y=l?l.source:void 0,E=this.layout?this.layout.source:void 0,S=y!==E,R=this.getStack(),T=!R||R.members.length<=1,w=!!(S&&!T&&this.options.crossfade===!0&&!this.path.some(f4));this.animationProgress=0;let x;this.mixTargetDelta=L=>{const j=L/1e3;dw(h.x,o.x,j),dw(h.y,o.y,j),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(gl(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),h4(this.relativeTarget,this.relativeTargetOrigin,p,j),x&&W5(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=st()),Tn(x,this.relativeTarget)),S&&(this.animationValues=d,U5(d,u,this.latestValues,j,w,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Mi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Me.update(()=>{Ru.hasAnimatedSinceResize=!0,this.currentAnimation=J5(0,lw,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(lw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:d}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&A2(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||st();const h=yn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const p=yn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}Tn(a,l),To(a,d),pl(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new q5),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&Mf("z",o,u,this.animationValues);for(let d=0;d<Lf.length;d++)Mf(`rotate${Lf[d]}`,o,u,this.animationValues),Mf(`skew${Lf[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Z5;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Nu(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=Nu(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ls(this.latestValues)&&(S.transform=d?d({},""):"none",this.hasProjected=!1),S}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=K5(this.projectionDeltaWithTransform,this.treeScale,p),d&&(u.transform=d(p,u.transform));const{x:y,y:E}=this.projectionDelta;u.transformOrigin=`${y.origin*100}% ${E.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const S in Td){if(p[S]===void 0)continue;const{correct:R,applyTo:T}=Td[S],w=u.transform==="none"?p[S]:R(p[S],h);if(T){const x=T.length;for(let L=0;L<x;L++)u[T[L]]=w}else u[S]=w}return this.options.layoutId&&(u.pointerEvents=h===this?Nu(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(cw),this.root.sharedNodes.clear()}}}function t4(t){t.updateLayout()}function n4(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?xn(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],y=yn(p);p.min=r[h].min,p.max=p.min+y}):A2(s,n.layoutBox,r)&&xn(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],y=yn(r[h]);p.max=p.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+y)});const a=_o();pl(a,r,n.layoutBox);const l=_o();o?pl(l,t.applyTransform(i,!0),n.measuredBox):pl(l,r,n.layoutBox);const u=!S2(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:y}=h;if(p&&y){const E=st();gl(E,n.layoutBox,p.layoutBox);const S=st();gl(S,r,y.layoutBox),I2(E,S)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=E,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function r4(t){Ja&&cs.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function i4(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function s4(t){t.clearSnapshot()}function cw(t){t.clearMeasurements()}function o4(t){t.isLayoutDirty=!1}function a4(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function uw(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function l4(t){t.resolveTargetDelta()}function c4(t){t.calcProjection()}function u4(t){t.resetSkewAndRotation()}function d4(t){t.removeLeadSnapshot()}function dw(t,e,n){t.translate=Je(e.translate,0,n),t.scale=Je(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function hw(t,e,n,r){t.min=Je(e.min,n.min,r),t.max=Je(e.max,n.max,r)}function h4(t,e,n,r){hw(t.x,e.x,n.x,r),hw(t.y,e.y,n.y,r)}function f4(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const m4={duration:.45,ease:[.4,0,.1,1]},fw=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),mw=fw("applewebkit/")&&!fw("chrome/")?Math.round:Nt;function pw(t){t.min=mw(t.min),t.max=mw(t.max)}function p4(t){pw(t.x),pw(t.y)}function A2(t,e,n){return t==="position"||t==="preserve-aspect"&&!g5(ow(e),ow(n),.2)}function g4(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const y4=P2({attachResizeListener:(t,e)=>br(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Vf={current:void 0},R2=P2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Vf.current){const t=new y4({});t.mount(window),t.setOptions({layoutScroll:!0}),Vf.current=t}return Vf.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),v4={pan:{Feature:k5},drag:{Feature:N5,ProjectionNode:R2,MeasureLayout:T2}};function gw(t,e){const n=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd",i=(s,o)=>{if(s.pointerType==="touch"||f2())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e);const l=a[r];l&&Me.postRender(()=>l(s,o))};return kr(t.current,n,i,{passive:!t.getProps()[r]})}class w4 extends qi{mount(){this.unmount=Nr(gw(this.node,!0),gw(this.node,!1))}unmount(){}}class _4 extends qi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Nr(br(this.node.current,"focus",()=>this.onFocus()),br(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const N2=(t,e)=>e?t===e?!0:N2(t,e.parentElement):!1;function Of(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,ph(n))}class E4 extends qi{constructor(){super(...arguments),this.removeStartListeners=Nt,this.removeEndListeners=Nt,this.removeAccessibleListeners=Nt,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=kr(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:h}=this.node.getProps(),p=!h&&!N2(this.node.current,a.target)?d:u;p&&Me.update(()=>p(a,l))},{passive:!(r.onTap||r.onPointerUp)}),o=kr(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Nr(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Of("up",(l,u)=>{const{onTap:d}=this.node.getProps();d&&Me.postRender(()=>d(l,u))})};this.removeEndListeners(),this.removeEndListeners=br(this.node.current,"keyup",o),Of("down",(a,l)=>{this.startPress(a,l)})},n=br(this.node.current,"keydown",e),r=()=>{this.isPressing&&Of("cancel",(s,o)=>this.cancelPress(s,o))},i=br(this.node.current,"blur",r);this.removeAccessibleListeners=Nr(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Me.postRender(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!f2()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Me.postRender(()=>r(e,n))}mount(){const e=this.node.getProps(),n=kr(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=br(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Nr(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const sp=new WeakMap,Ff=new WeakMap,T4=t=>{const e=sp.get(t.target);e&&e(t)},x4=t=>{t.forEach(T4)};function b4({root:t,...e}){const n=t||document;Ff.has(n)||Ff.set(n,{});const r=Ff.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(x4,{root:t,...e})),r[i]}function S4(t,e,n){const r=b4(e);return sp.set(t,n),r.observe(t),()=>{sp.delete(t),r.unobserve(t)}}const I4={some:0,all:1};class C4 extends qi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:I4[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),p=u?d:h;p&&p(l)};return S4(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(P4(e,n))&&this.startObserver()}unmount(){}}function P4({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const A4={inView:{Feature:C4},tap:{Feature:E4},focus:{Feature:_4},hover:{Feature:w4}},R4={layout:{ProjectionNode:R2,MeasureLayout:T2}},r0=v.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),yh=v.createContext({}),i0=typeof window<"u",k2=i0?v.useLayoutEffect:v.useEffect,D2=v.createContext({strict:!1});function N4(t,e,n,r,i){var s,o;const{visualElement:a}=v.useContext(yh),l=v.useContext(D2),u=v.useContext(gh),d=v.useContext(r0).reducedMotion,h=v.useRef();r=r||l.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const p=h.current,y=v.useContext(E2);p&&!p.projection&&i&&(p.type==="html"||p.type==="svg")&&k4(h.current,n,i,y),v.useInsertionEffect(()=>{p&&p.update(n,u)});const E=n[i2],S=v.useRef(!!E&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,E))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,E)));return k2(()=>{p&&(window.MotionIsMounted=!0,p.updateFeatures(),n0.render(p.render),S.current&&p.animationState&&p.animationState.animateChanges())}),v.useEffect(()=>{p&&(!S.current&&p.animationState&&p.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var R;(R=window.MotionHandoffMarkAsComplete)===null||R===void 0||R.call(window,E)}),S.current=!1))}),p}function k4(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:L2(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&wo(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function L2(t){if(t)return t.options.allowProjection!==!1?t.projection:L2(t.parent)}function D4(t,e,n){return v.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):wo(n)&&(n.current=r))},[e])}function vh(t){return hh(t.animate)||Mg.some(e=>Bl(t[e]))}function M2(t){return!!(vh(t)||t.variants)}function L4(t,e){if(vh(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Bl(n)?n:void 0,animate:Bl(r)?r:void 0}}return t.inherit!==!1?e:{}}function M4(t){const{initial:e,animate:n}=L4(t,v.useContext(yh));return v.useMemo(()=>({initial:e,animate:n}),[yw(e),yw(n)])}function yw(t){return Array.isArray(t)?t.join(" "):t}const vw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ko={};for(const t in vw)Ko[t]={isEnabled:e=>vw[t].some(n=>!!e[n])};function V4(t){for(const e in t)Ko[e]={...Ko[e],...t[e]}}const O4=Symbol.for("motionComponentSymbol");function F4({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&V4(t);function s(a,l){let u;const d={...v.useContext(r0),...a,layoutId:U4(a)},{isStatic:h}=d,p=M4(a),y=r(a,h);if(!h&&i0){j4();const E=B4(d);u=E.MeasureLayout,p.visualElement=N4(i,y,d,e,E.ProjectionNode)}return C(yh.Provider,{value:p,children:[u&&p.visualElement?f(u,{visualElement:p.visualElement,...d}):null,n(i,a,D4(y,p.visualElement,l),y,h,p.visualElement)]})}const o=v.forwardRef(s);return o[O4]=i,o}function U4({layoutId:t}){const e=v.useContext(t0).id;return e&&t!==void 0?e+"-"+t:t}function j4(t,e){v.useContext(D2).strict}function B4(t){const{drag:e,layout:n}=Ko;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const z4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function s0(t){return typeof t!="string"||t.includes("-")?!1:!!(z4.indexOf(t)>-1||/[A-Z]/u.test(t))}function V2(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const O2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function F2(t,e,n,r){V2(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(O2.has(i)?i:e0(i),e.attrs[i])}function U2(t,{layout:e,layoutId:n}){return Vs.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Td[t]||t==="opacity")}function o0(t,e,n){var r;const{style:i}=t,s={};for(const o in i)($t(i[o])||e.style&&$t(e.style[o])||U2(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function j2(t,e,n){const r=o0(t,e,n);for(const i in t)if($t(t[i])||$t(e[i])){const s=ac.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function a0(t){const e=v.useRef(null);return e.current===null&&(e.current=t()),e.current}function $4({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:H4(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const B2=t=>(e,n)=>{const r=v.useContext(yh),i=v.useContext(gh),s=()=>$4(t,e,r,i);return n?s():a0(s)};function H4(t,e,n,r){const i={},s=r(t,{});for(const p in s)i[p]=Nu(s[p]);let{initial:o,animate:a}=t;const l=vh(t),u=M2(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!hh(h)){const p=Array.isArray(h)?h:[h];for(let y=0;y<p.length;y++){const E=Dg(t,p[y]);if(E){const{transitionEnd:S,transition:R,...T}=E;for(const w in T){let x=T[w];if(Array.isArray(x)){const L=d?x.length-1:0;x=x[L]}x!==null&&(i[w]=x)}for(const w in S)i[w]=S[w]}}}return i}const l0=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),z2=()=>({...l0(),attrs:{}}),$2=(t,e)=>e&&typeof t=="number"?e.transform(t):t,W4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},q4=ac.length;function K4(t,e,n){let r="",i=!0;for(let s=0;s<q4;s++){const o=ac[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=$2(a,$g[o]);if(!l){i=!1;const d=W4[o]||o;r+=`${d}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function c0(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const u=e[l];if(Vs.has(l)){o=!0;continue}else if(Mx(l)){i[l]=u;continue}else{const d=$2(u,$g[l]);l.startsWith("origin")?(a=!0,s[l]=d):r[l]=d}}if(e.transform||(o||n?r.transform=K4(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:d=0}=s;r.transformOrigin=`${l} ${u} ${d}`}}function ww(t,e,n){return typeof t=="string"?t:ue.transform(e+n*t)}function G4(t,e,n){const r=ww(e,t.x,t.width),i=ww(n,t.y,t.height);return`${r} ${i}`}const Q4={offset:"stroke-dashoffset",array:"stroke-dasharray"},Y4={offset:"strokeDashoffset",array:"strokeDasharray"};function X4(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?Q4:Y4;t[s.offset]=ue.transform(-r);const o=ue.transform(e),a=ue.transform(n);t[s.array]=`${o} ${a}`}function u0(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},d,h){if(c0(t,u,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:y,dimensions:E}=t;p.transform&&(E&&(y.transform=p.transform),delete p.transform),E&&(i!==void 0||s!==void 0||y.transform)&&(y.transformOrigin=G4(E,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&X4(p,o,a,l,!1)}const d0=t=>typeof t=="string"&&t.toLowerCase()==="svg",J4={useVisualState:B2({scrapeMotionValuesFromProps:j2,createRenderState:z2,onMount:(t,e,{renderState:n,latestValues:r})=>{Me.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Me.render(()=>{u0(n,r,d0(e.tagName),t.transformTemplate),F2(e,n)})}})},Z4={useVisualState:B2({scrapeMotionValuesFromProps:o0,createRenderState:l0})};function H2(t,e,n){for(const r in e)!$t(e[r])&&!U2(r,n)&&(t[r]=e[r])}function eD({transformTemplate:t},e){return v.useMemo(()=>{const n=l0();return c0(n,e,t),Object.assign({},n.vars,n.style)},[e])}function tD(t,e){const n=t.style||{},r={};return H2(r,n,t),Object.assign(r,eD(t,e)),r}function nD(t,e){const n={},r=tD(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const rD=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function xd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||rD.has(t)}let W2=t=>!xd(t);function iD(t){t&&(W2=e=>e.startsWith("on")?!xd(e):t(e))}try{iD(require("@emotion/is-prop-valid").default)}catch{}function sD(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(W2(i)||n===!0&&xd(i)||!e&&!xd(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function oD(t,e,n,r){const i=v.useMemo(()=>{const s=z2();return u0(s,e,d0(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};H2(s,t.style,t),i.style={...s,...i.style}}return i}function aD(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(s0(n)?oD:nD)(r,s,o,n),u=sD(r,typeof n=="string",t),d=n!==v.Fragment?{...u,...l,ref:i}:{},{children:h}=r,p=v.useMemo(()=>$t(h)?h.get():h,[h]);return v.createElement(n,{...d,children:p})}}function lD(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...s0(r)?J4:Z4,preloadedFeatures:t,useRender:aD(i),createVisualElement:e,Component:r};return F4(o)}}const op={current:null},q2={current:!1};function cD(){if(q2.current=!0,!!i0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>op.current=t.matches;t.addListener(e),e()}else op.current=!1}function uD(t,e,n){for(const r in e){const i=e[r],s=n[r];if($t(i))t.addValue(r,i);else if($t(s))t.addValue(r,Hl(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Hl(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const _w=new WeakMap,dD=[...Fx,Ut,Oi],hD=t=>dD.find(Ox(t)),Ew=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class fD{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=jg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=or.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Me.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=vh(n),this.isVariantNode=M2(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in h){const y=h[p];l[p]!==void 0&&$t(y)&&y.set(l[p],!1)}}mount(e){this.current=e,_w.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),q2.current||cD(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:op.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){_w.delete(this.current),this.projection&&this.projection.unmount(),Mi(this.notifyUpdate),Mi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Vs.has(e),i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Me.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ko){const n=Ko[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):st()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Ew.length;r++){const i=Ew[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=uD(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Hl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(Dx(i)||Nx(i))?i=parseFloat(i):!hD(i)&&Oi.test(n)&&(i=qx(e,n)),this.setBaseTarget(e,$t(i)?i.get():i)),$t(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=Dg(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!$t(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Zg),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class K2 extends fD{constructor(){super(...arguments),this.KeyframeResolver=Kx}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}}function mD(t){return window.getComputedStyle(t)}class pD extends K2{constructor(){super(...arguments),this.type="html",this.renderInstance=V2}readValueFromInstance(e,n){if(Vs.has(n)){const r=Hg(n);return r&&r.default||0}else{const r=mD(e),i=(Mx(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return w2(e,n)}build(e,n,r){c0(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return o0(e,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;$t(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class gD extends K2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=st}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Vs.has(n)){const r=Hg(n);return r&&r.default||0}return n=O2.has(n)?n:e0(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return j2(e,n,r)}build(e,n,r){u0(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){F2(e,n,r,i)}mount(e){this.isSVGTag=d0(e.tagName),super.mount(e)}}const yD=(t,e)=>s0(t)?new gD(e):new pD(e,{allowProjection:t!==v.Fragment}),vD=lD({...a5,...A4,...v4,...R4},yD),ae=XR(vD);class wD extends v.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function _D({children:t,isPresent:e}){const n=v.useId(),r=v.useRef(null),i=v.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=v.useContext(r0);return v.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:u}=i.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return s&&(d.nonce=s),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),f(wD,{isPresent:e,childRef:r,sizeRef:i,children:v.cloneElement(t,{ref:r})})}const ED=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=a0(TD),l=v.useId(),u=v.useCallback(h=>{a.set(h,!0);for(const p of a.values())if(!p)return;r&&r()},[a,r]),d=v.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:u,register:h=>(a.set(h,!1),()=>a.delete(h))}),s?[Math.random(),u]:[n,u]);return v.useMemo(()=>{a.forEach((h,p)=>a.set(p,!1))},[n]),v.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=f(_D,{isPresent:n,children:t})),f(gh.Provider,{value:d,children:t})};function TD(){return new Map}const cu=t=>t.key||"";function Tw(t){const e=[];return v.Children.forEach(t,n=>{v.isValidElement(n)&&e.push(n)}),e}const wh=({children:t,exitBeforeEnter:e,custom:n,initial:r=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=v.useMemo(()=>Tw(t),[t]),l=a.map(cu),u=v.useRef(!0),d=v.useRef(a),h=a0(()=>new Map),[p,y]=v.useState(a),[E,S]=v.useState(a);k2(()=>{u.current=!1,d.current=a;for(let w=0;w<E.length;w++){const x=cu(E[w]);l.includes(x)?h.delete(x):h.get(x)!==!0&&h.set(x,!1)}},[E,l.length,l.join("-")]);const R=[];if(a!==p){let w=[...a];for(let x=0;x<E.length;x++){const L=E[x],j=cu(L);l.includes(j)||(w.splice(x,0,L),R.push(L))}o==="wait"&&R.length&&(w=R),S(Tw(w)),y(a);return}const{forceRender:T}=v.useContext(t0);return f(ws,{children:E.map(w=>{const x=cu(w),L=a===E||l.includes(x),j=()=>{if(h.has(x))h.set(x,!0);else return;let k=!0;h.forEach(A=>{A||(k=!1)}),k&&(T==null||T(),S(d.current),i&&i())};return f(ED,{isPresent:L,initial:!u.current||r?void 0:!1,custom:L?void 0:n,presenceAffectsLayout:s,mode:o,onExitComplete:L?void 0:j,children:w},x)})})};function xD({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"}))}const bD=v.forwardRef(xD),SD=bD;function ID({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-9.75 0h9.75"}))}const CD=v.forwardRef(ID),PD=CD;function AD({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const RD=v.forwardRef(AD),ND=RD;function kD({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const DD=v.forwardRef(kD),LD=DD;function MD({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const VD=v.forwardRef(MD),OD=VD;function FD({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 3.104v5.714a2.25 2.25 0 0 1-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 0 1 4.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0 1 12 15a9.065 9.065 0 0 0-6.23-.693L5 14.5m14.8.8 1.402 1.402c1.232 1.232.65 3.318-1.067 3.611A48.309 48.309 0 0 1 12 21c-2.773 0-5.491-.235-8.135-.687-1.718-.293-2.3-2.379-1.067-3.61L5 14.5"}))}const UD=v.forwardRef(FD),G2=UD;function jD({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const BD=v.forwardRef(jD),zD=BD;function $D({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 0 0 .75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 0 0-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0 1 12 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 0 1-.673-.38m0 0A2.18 2.18 0 0 1 3 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 0 1 3.413-.387m7.5 0V5.25A2.25 2.25 0 0 0 13.5 3h-3a2.25 2.25 0 0 0-2.25 2.25v.894m7.5 0a48.667 48.667 0 0 0-7.5 0M12 12.75h.008v.008H12v-.008Z"}))}const HD=v.forwardRef($D),WD=HD;function qD({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 21h19.5m-18-18v18m10.5-18v18m6-13.5V21M6.75 6.75h.75m-.75 3h.75m-.75 3h.75m3-6h.75m-.75 3h.75m-.75 3h.75M6.75 21v-3.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21M3 3h12m-.75 4.5H21m-3.75 3.75h.008v.008h-.008v-.008Zm0 3h.008v.008h-.008v-.008Zm0 3h.008v.008h-.008v-.008Z"}))}const KD=v.forwardRef(qD),GD=KD;function QD({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const YD=v.forwardRef(QD),XD=YD;function JD({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const ZD=v.forwardRef(JD),Dr=ZD;function eL({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const tL=v.forwardRef(eL),nL=tL;function rL({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const iL=v.forwardRef(rL),h0=iL;function sL({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.076-4.076a1.526 1.526 0 0 1 1.037-.443 48.282 48.282 0 0 0 5.68-.494c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"}))}const oL=v.forwardRef(sL),xw=oL;function aL({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"}))}const lL=v.forwardRef(aL),cL=lL;function uL({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"}))}const dL=v.forwardRef(uL),hL=dL;function fL({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const mL=v.forwardRef(fL),ap=mL;function pL({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0 0 15 0m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077 1.41-.513m14.095-5.13 1.41-.513M5.106 17.785l1.15-.964m11.49-9.642 1.149-.964M7.501 19.795l.75-1.3m7.5-12.99.75-1.3m-6.063 16.658.26-1.477m2.605-14.772.26-1.477m0 17.726-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205 12 12m6.894 5.785-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"}))}const gL=v.forwardRef(pL),yL=gL;function vL({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const wL=v.forwardRef(vL),Q2=wL;function _L({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const EL=v.forwardRef(_L),Y2=EL;function TL({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const xL=v.forwardRef(TL),bL=xL;function SL({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))}const IL=v.forwardRef(SL),bd=IL;function CL({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const PL=v.forwardRef(CL),bw=PL;function AL({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const RL=v.forwardRef(AL),NL=RL;function kL({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const DL=v.forwardRef(kL),LL=DL;function ML({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const VL=v.forwardRef(ML),X2=VL;function OL({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const FL=v.forwardRef(OL),Sd=FL;function UL({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.97A48.416 48.416 0 0 0 12 4.5c-2.291 0-4.545.16-6.75.47m13.5 0c1.01.143 2.01.317 3 .52m-3-.52 2.62 10.726c.122.499-.106 1.028-.589 1.202a5.988 5.988 0 0 1-2.031.352 5.988 5.988 0 0 1-2.031-.352c-.483-.174-.711-.703-.59-1.202L18.75 4.971Zm-16.5.52c.99-.203 1.99-.377 3-.52m0 0 2.62 10.726c.122.499-.106 1.028-.589 1.202a5.989 5.989 0 0 1-2.031.352 5.989 5.989 0 0 1-2.031-.352c-.483-.174-.711-.703-.59-1.202L5.25 4.971Z"}))}const jL=v.forwardRef(UL),Sw=jL;function BL({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const zL=v.forwardRef(BL),$L=zL;function HL({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const WL=v.forwardRef(HL),Iw=WL;function qL({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"}))}const KL=v.forwardRef(qL),J2=KL;function GL({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}const QL=v.forwardRef(GL),YL=QL;function XL({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const JL=v.forwardRef(XL),ZL=JL;function eM({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const tM=v.forwardRef(eM),nM=tM;function rM({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const iM=v.forwardRef(rM),Id=iM;function sM({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const oM=v.forwardRef(sM),Cd=oM;function aM({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const lM=v.forwardRef(aM),Z2=lM;function cM({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const uM=v.forwardRef(cM),_h=uM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},dM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},tb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let p=(a&15)<<2|u>>6,y=u&63;l||(y=64,o||(p=64)),r.push(n[d],n[h],n[p],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(eb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):dM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new hM;const p=s<<2|a>>4;if(r.push(p),u!==64){const y=a<<4&240|u>>2;if(r.push(y),h!==64){const E=u<<6&192|h;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class hM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fM=function(t){const e=eb(t);return tb.encodeByteArray(e,!0)},Pd=function(t){return fM(t).replace(/\./g,"")},nb=function(t){try{return tb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM=()=>mM().__FIREBASE_DEFAULTS__,gM=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},yM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&nb(t[1]);return e&&JSON.parse(e)},Eh=()=>{try{return pM()||gM()||yM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},rb=t=>{var e,n;return(n=(e=Eh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},vM=t=>{const e=rb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ib=()=>{var t;return(t=Eh())===null||t===void 0?void 0:t.config},sb=t=>{var e;return(e=Eh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Pd(JSON.stringify(n)),Pd(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function EM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function TM(){var t;const e=(t=Eh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function SM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function IM(){const t=Wt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function CM(){return!TM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PM(){try{return typeof indexedDB=="object"}catch{return!1}}function AM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM="FirebaseError";class Yr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=RM,Object.setPrototypeOf(this,Yr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uc.prototype.create)}}class uc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?NM(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Yr(i,a,r)}}function NM(t,e){return t.replace(kM,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const kM=/\{\$([^}]+)}/g;function DM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ad(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Cw(s)&&Cw(o)){if(!Ad(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Cw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Za(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function el(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function LM(t,e){const n=new MM(t,e);return n.subscribe.bind(n)}class MM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");VM(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Uf),i.error===void 0&&(i.error=Uf),i.complete===void 0&&(i.complete=Uf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function VM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Uf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(t){return t&&t._delegate?t._delegate:t}class Rs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new wM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(UM(e))try{this.getOrInitializeService({instanceIdentifier:us})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=us){return this.instances.has(e)}getOptions(e=us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:FM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=us){return this.component?this.component.multipleInstances?e:us:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FM(t){return t===us?void 0:t}function UM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new OM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Te||(Te={}));const BM={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},zM=Te.INFO,$M={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},HM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=$M[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class f0{constructor(e){this.name=e,this._logLevel=zM,this._logHandler=HM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...e),this._logHandler(this,Te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...e),this._logHandler(this,Te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...e),this._logHandler(this,Te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...e),this._logHandler(this,Te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...e),this._logHandler(this,Te.ERROR,...e)}}const WM=(t,e)=>e.some(n=>t instanceof n);let Pw,Aw;function qM(){return Pw||(Pw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KM(){return Aw||(Aw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ob=new WeakMap,lp=new WeakMap,ab=new WeakMap,jf=new WeakMap,m0=new WeakMap;function GM(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Pi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ob.set(n,t)}).catch(()=>{}),m0.set(e,t),e}function QM(t){if(lp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});lp.set(t,e)}let cp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return lp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ab.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function YM(t){cp=t(cp)}function XM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Bf(this),e,...n);return ab.set(r,e.sort?e.sort():[e]),Pi(r)}:KM().includes(t)?function(...e){return t.apply(Bf(this),e),Pi(ob.get(this))}:function(...e){return Pi(t.apply(Bf(this),e))}}function JM(t){return typeof t=="function"?XM(t):(t instanceof IDBTransaction&&QM(t),WM(t,qM())?new Proxy(t,cp):t)}function Pi(t){if(t instanceof IDBRequest)return GM(t);if(jf.has(t))return jf.get(t);const e=JM(t);return e!==t&&(jf.set(t,e),m0.set(e,t)),e}const Bf=t=>m0.get(t);function ZM(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Pi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Pi(o.result),l.oldVersion,l.newVersion,Pi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const eV=["get","getKey","getAll","getAllKeys","count"],tV=["put","add","delete","clear"],zf=new Map;function Rw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(zf.get(e))return zf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=tV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||eV.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return zf.set(e,s),s}YM(t=>({...t,get:(e,n,r)=>Rw(e,n)||t.get(e,n,r),has:(e,n)=>!!Rw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(rV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function rV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const up="@firebase/app",Nw="0.10.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br=new f0("@firebase/app"),iV="@firebase/app-compat",sV="@firebase/analytics-compat",oV="@firebase/analytics",aV="@firebase/app-check-compat",lV="@firebase/app-check",cV="@firebase/auth",uV="@firebase/auth-compat",dV="@firebase/database",hV="@firebase/data-connect",fV="@firebase/database-compat",mV="@firebase/functions",pV="@firebase/functions-compat",gV="@firebase/installations",yV="@firebase/installations-compat",vV="@firebase/messaging",wV="@firebase/messaging-compat",_V="@firebase/performance",EV="@firebase/performance-compat",TV="@firebase/remote-config",xV="@firebase/remote-config-compat",bV="@firebase/storage",SV="@firebase/storage-compat",IV="@firebase/firestore",CV="@firebase/vertexai",PV="@firebase/firestore-compat",AV="firebase",RV="11.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dp="[DEFAULT]",NV={[up]:"fire-core",[iV]:"fire-core-compat",[oV]:"fire-analytics",[sV]:"fire-analytics-compat",[lV]:"fire-app-check",[aV]:"fire-app-check-compat",[cV]:"fire-auth",[uV]:"fire-auth-compat",[dV]:"fire-rtdb",[hV]:"fire-data-connect",[fV]:"fire-rtdb-compat",[mV]:"fire-fn",[pV]:"fire-fn-compat",[gV]:"fire-iid",[yV]:"fire-iid-compat",[vV]:"fire-fcm",[wV]:"fire-fcm-compat",[_V]:"fire-perf",[EV]:"fire-perf-compat",[TV]:"fire-rc",[xV]:"fire-rc-compat",[bV]:"fire-gcs",[SV]:"fire-gcs-compat",[IV]:"fire-fst",[PV]:"fire-fst-compat",[CV]:"fire-vertex","fire-js":"fire-js",[AV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rd=new Map,kV=new Map,hp=new Map;function kw(t,e){try{t.container.addComponent(e)}catch(n){Br.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Go(t){const e=t.name;if(hp.has(e))return Br.debug(`There were multiple attempts to register component ${e}.`),!1;hp.set(e,t);for(const n of Rd.values())kw(n,t);for(const n of kV.values())kw(n,t);return!0}function p0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function er(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ai=new uc("app","Firebase",DV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Rs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ai.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=RV;function lb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:dp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ai.create("bad-app-name",{appName:String(i)});if(n||(n=ib()),!n)throw Ai.create("no-options");const s=Rd.get(i);if(s){if(Ad(n,s.options)&&Ad(r,s.config))return s;throw Ai.create("duplicate-app",{appName:i})}const o=new jM(i);for(const l of hp.values())o.addComponent(l);const a=new LV(n,r,o);return Rd.set(i,a),a}function cb(t=dp){const e=Rd.get(t);if(!e&&t===dp&&ib())return lb();if(!e)throw Ai.create("no-app",{appName:t});return e}function Ri(t,e,n){var r;let i=(r=NV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Br.warn(a.join(" "));return}Go(new Rs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV="firebase-heartbeat-database",VV=1,Wl="firebase-heartbeat-store";let $f=null;function ub(){return $f||($f=ZM(MV,VV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ai.create("idb-open",{originalErrorMessage:t.message})})),$f}async function OV(t){try{const n=(await ub()).transaction(Wl),r=await n.objectStore(Wl).get(db(t));return await n.done,r}catch(e){if(e instanceof Yr)Br.warn(e.message);else{const n=Ai.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Br.warn(n.message)}}}async function Dw(t,e){try{const r=(await ub()).transaction(Wl,"readwrite");await r.objectStore(Wl).put(e,db(t)),await r.done}catch(n){if(n instanceof Yr)Br.warn(n.message);else{const r=Ai.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Br.warn(r.message)}}}function db(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV=1024,UV=30*24*60*60*1e3;class jV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new zV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Lw();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=UV}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Br.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Lw(),{heartbeatsToSend:r,unsentEntries:i}=BV(this._heartbeatsCache.heartbeats),s=Pd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Br.warn(n),""}}}function Lw(){return new Date().toISOString().substring(0,10)}function BV(t,e=FV){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Mw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Mw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class zV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PM()?AM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await OV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Dw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Dw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Mw(t){return Pd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $V(t){Go(new Rs("platform-logger",e=>new nV(e),"PRIVATE")),Go(new Rs("heartbeat",e=>new jV(e),"PRIVATE")),Ri(up,Nw,t),Ri(up,Nw,"esm2017"),Ri("fire-js","")}$V("");var HV="firebase",WV="11.0.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ri(HV,WV,"app");function g0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function hb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qV=hb,fb=new uc("auth","Firebase",hb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd=new f0("@firebase/auth");function KV(t,...e){Nd.logLevel<=Te.WARN&&Nd.warn(`Auth (${la}): ${t}`,...e)}function ku(t,...e){Nd.logLevel<=Te.ERROR&&Nd.error(`Auth (${la}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(t,...e){throw y0(t,...e)}function ar(t,...e){return y0(t,...e)}function mb(t,e,n){const r=Object.assign(Object.assign({},qV()),{[e]:n});return new uc("auth","Firebase",r).create(e,{appName:t.name})}function Lr(t){return mb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function y0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return fb.create(t,...e)}function de(t,e,...n){if(!t)throw y0(e,...n)}function Sr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ku(e),new Error(e)}function zr(t,e){t||Sr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function GV(){return Vw()==="http:"||Vw()==="https:"}function Vw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GV()||bM()||"connection"in navigator)?navigator.onLine:!0}function YV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,n){this.shortDelay=e,this.longDelay=n,zr(n>e,"Short delay should be less than long delay!"),this.isMobile=EM()||SM()}get(){return QV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(t,e){zr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JV=new hc(3e4,6e4);function Ki(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Gi(t,e,n,r,i={}){return gb(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=dc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return xM()||(u.referrerPolicy="no-referrer"),pb.fetch()(yb(t,t.config.apiHost,n,a),u)})}async function gb(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},XV),e);try{const i=new e3(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw uu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw uu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw uu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw uu(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw mb(t,d,u);zn(t,d)}}catch(i){if(i instanceof Yr)throw i;zn(t,"network-request-failed",{message:String(i)})}}async function fc(t,e,n,r,i={}){const s=await Gi(t,e,n,r,i);return"mfaPendingCredential"in s&&zn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function yb(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?v0(t.config,i):`${t.config.apiScheme}://${i}`}function ZV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class e3{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ar(this.auth,"network-request-failed")),JV.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function uu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ar(t,e,r);return i.customData._tokenResponse=n,i}function Ow(t){return t!==void 0&&t.enterprise!==void 0}class t3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return ZV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function n3(t,e){return Gi(t,"GET","/v2/recaptchaConfig",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r3(t,e){return Gi(t,"POST","/v1/accounts:delete",e)}async function vb(t,e){return Gi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function i3(t,e=!1){const n=Et(t),r=await n.getIdToken(e),i=w0(r);de(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:yl(Hf(i.auth_time)),issuedAtTime:yl(Hf(i.iat)),expirationTime:yl(Hf(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Hf(t){return Number(t)*1e3}function w0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ku("JWT malformed, contained fewer than 3 sections"),null;try{const i=nb(n);return i?JSON.parse(i):(ku("Failed to decode base64 JWT payload"),null)}catch(i){return ku("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Fw(t){const e=w0(t);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ql(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Yr&&s3(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function s3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=yl(this.lastLoginAt),this.creationTime=yl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ql(t,vb(n,{idToken:r}));de(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?wb(s.providerUserInfo):[],a=l3(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new mp(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function a3(t){const e=Et(t);await kd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function l3(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function wb(t){return t.map(e=>{var{providerId:n}=e,r=g0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c3(t,e){const n=await gb(t,{},async()=>{const r=dc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=yb(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",pb.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function u3(t,e){return Gi(t,"POST","/v2/accounts:revokeToken",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Fw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){de(e.length!==0,"internal-error");const n=Fw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await c3(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ro;return r&&(de(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(de(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(de(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ro,this.toJSON())}_performRefresh(){return Sr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(t,e){de(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ir{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=g0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new o3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new mp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ql(this,this.stsTokenManager.getToken(this.auth,e));return de(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return i3(this,e)}reload(){return a3(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ir(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await kd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(er(this.auth.app))return Promise.reject(Lr(this.auth));const e=await this.getIdToken();return await ql(this,r3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,E=(o=n.photoURL)!==null&&o!==void 0?o:void 0,S=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,T=(u=n.createdAt)!==null&&u!==void 0?u:void 0,w=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:x,emailVerified:L,isAnonymous:j,providerData:k,stsTokenManager:A}=n;de(x&&A,e,"internal-error");const _=Ro.fromJSON(this.name,A);de(typeof x=="string",e,"internal-error"),ii(h,e.name),ii(p,e.name),de(typeof L=="boolean",e,"internal-error"),de(typeof j=="boolean",e,"internal-error"),ii(y,e.name),ii(E,e.name),ii(S,e.name),ii(R,e.name),ii(T,e.name),ii(w,e.name);const b=new Ir({uid:x,auth:e,email:p,emailVerified:L,displayName:h,isAnonymous:j,photoURL:E,phoneNumber:y,tenantId:S,stsTokenManager:_,createdAt:T,lastLoginAt:w});return k&&Array.isArray(k)&&(b.providerData=k.map(P=>Object.assign({},P))),R&&(b._redirectEventId=R),b}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ro;i.updateFromServerResponse(n);const s=new Ir({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await kd(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];de(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?wb(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Ro;a.updateFromIdToken(r);const l=new Ir({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new mp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw=new Map;function Cr(t){zr(t instanceof Function,"Expected a class definition");let e=Uw.get(t);return e?(zr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Uw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}_b.type="NONE";const jw=_b;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Du(t,e,n){return`firebase:${t}:${e}:${n}`}class No{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Du(this.userKey,i.apiKey,s),this.fullPersistenceKey=Du("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ir._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new No(Cr(jw),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Cr(jw);const o=Du(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){const h=Ir._fromJSON(e,d);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new No(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new No(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Eb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ib(e))return"Blackberry";if(Cb(e))return"Webos";if(Tb(e))return"Safari";if((e.includes("chrome/")||xb(e))&&!e.includes("edge/"))return"Chrome";if(Sb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Eb(t=Wt()){return/firefox\//i.test(t)}function Tb(t=Wt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xb(t=Wt()){return/crios\//i.test(t)}function bb(t=Wt()){return/iemobile/i.test(t)}function Sb(t=Wt()){return/android/i.test(t)}function Ib(t=Wt()){return/blackberry/i.test(t)}function Cb(t=Wt()){return/webos/i.test(t)}function _0(t=Wt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function d3(t=Wt()){var e;return _0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function h3(){return IM()&&document.documentMode===10}function Pb(t=Wt()){return _0(t)||Sb(t)||Cb(t)||Ib(t)||/windows phone/i.test(t)||bb(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(t,e=[]){let n;switch(t){case"Browser":n=Bw(Wt());break;case"Worker":n=`${Bw(Wt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${la}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m3(t,e={}){return Gi(t,"GET","/v2/passwordPolicy",Ki(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3=6;class g3{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:p3,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zw(this),this.idTokenSubscription=new zw(this),this.beforeStateQueue=new f3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Cr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await No.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await vb(this,{idToken:e}),r=await Ir._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(er(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await kd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=YV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(er(this.app))return Promise.reject(Lr(this));const n=e?Et(e):null;return n&&de(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return er(this.app)?Promise.reject(Lr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return er(this.app)?Promise.reject(Lr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Cr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await m3(this),n=new g3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new uc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await u3(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Cr(e)||this._popupRedirectResolver;de(n,this,"argument-error"),this.redirectPersistenceManager=await No.create(this,[Cr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ab(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&KV(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Os(t){return Et(t)}class zw{constructor(e){this.auth=e,this.observer=null,this.addObserver=LM(n=>this.observer=n)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Th={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function v3(t){Th=t}function Rb(t){return Th.loadJS(t)}function w3(){return Th.recaptchaEnterpriseScript}function _3(){return Th.gapiScript}function E3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class T3{constructor(){this.enterprise=new x3}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class x3{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const b3="recaptcha-enterprise",Nb="NO_RECAPTCHA";class S3{constructor(e){this.type=b3,this.auth=Os(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{n3(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new t3(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;Ow(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(Nb)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new T3().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&Ow(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=w3();l.length!==0&&(l+=a),Rb(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function $a(t,e,n,r=!1,i=!1){const s=new S3(t);let o;if(i)o=Nb;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function pp(t,e,n,r,i){var s,o;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await $a(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await $a(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)});else if(i==="PHONE_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("PHONE_PROVIDER")){const a=await $a(t,e,n);return r(t,a).catch(async l=>{var u;if(((u=t._getRecaptchaConfig())===null||u===void 0?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const d=await $a(t,e,n,!1,!0);return r(t,d)}return Promise.reject(l)})}else{const a=await $a(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I3(t,e){const n=p0(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Ad(s,e??{}))return i;zn(i,"already-initialized")}return n.initialize({options:e})}function C3(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Cr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function P3(t,e,n){const r=Os(t);de(r._canInitEmulator,r,"emulator-config-failed"),de(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=kb(e),{host:o,port:a}=A3(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||R3()}function kb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function A3(t){const e=kb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:$w(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:$w(o)}}}function $w(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function R3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Sr("not implemented")}_getIdTokenResponse(e){return Sr("not implemented")}_linkToIdToken(e,n){return Sr("not implemented")}_getReauthenticationResolver(e){return Sr("not implemented")}}async function N3(t,e){return Gi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k3(t,e){return fc(t,"POST","/v1/accounts:signInWithPassword",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D3(t,e){return fc(t,"POST","/v1/accounts:signInWithEmailLink",Ki(t,e))}async function L3(t,e){return fc(t,"POST","/v1/accounts:signInWithEmailLink",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl extends E0{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Kl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Kl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pp(e,n,"signInWithPassword",k3,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return D3(e,{email:this._email,oobCode:this._password});default:zn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pp(e,r,"signUpPassword",N3,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return L3(e,{idToken:n,email:this._email,oobCode:this._password});default:zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ko(t,e){return fc(t,"POST","/v1/accounts:signInWithIdp",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3="http://localhost";class Ns extends E0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ns(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):zn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=g0(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ns(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ko(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ko(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ko(e,n)}buildRequest(){const e={requestUri:M3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=dc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function O3(t){const e=Za(el(t)).link,n=e?Za(el(e)).deep_link_id:null,r=Za(el(t)).deep_link_id;return(r?Za(el(r)).link:null)||r||n||e||t}class T0{constructor(e){var n,r,i,s,o,a;const l=Za(el(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=V3((i=l.mode)!==null&&i!==void 0?i:null);de(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=O3(e);try{return new T0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(){this.providerId=ca.PROVIDER_ID}static credential(e,n){return Kl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=T0.parseLink(n);return de(r,"argument-error"),Kl._fromEmailAndCode(e,r.code,r.tenantId)}}ca.PROVIDER_ID="password";ca.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ca.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc extends Db{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends mc{constructor(){super("facebook.com")}static credential(e){return Ns._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return di.credential(e.oauthAccessToken)}catch{return null}}}di.FACEBOOK_SIGN_IN_METHOD="facebook.com";di.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends mc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ns._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return hi.credential(n,r)}catch{return null}}}hi.GOOGLE_SIGN_IN_METHOD="google.com";hi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends mc{constructor(){super("github.com")}static credential(e){return Ns._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fi.credential(e.oauthAccessToken)}catch{return null}}}fi.GITHUB_SIGN_IN_METHOD="github.com";fi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi extends mc{constructor(){super("twitter.com")}static credential(e,n){return Ns._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return mi.credentialFromTaggedObject(e)}static credentialFromError(e){return mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return mi.credential(n,r)}catch{return null}}}mi.TWITTER_SIGN_IN_METHOD="twitter.com";mi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F3(t,e){return fc(t,"POST","/v1/accounts:signUp",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ir._fromIdTokenResponse(e,r,i),o=Hw(r);return new ks({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Hw(r);return new ks({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Hw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd extends Yr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Dd.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Dd(e,n,r,i)}}function Lb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Dd._fromErrorAndOperation(t,s,e,r):s})}async function U3(t,e,n=!1){const r=await ql(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ks._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j3(t,e,n=!1){const{auth:r}=t;if(er(r.app))return Promise.reject(Lr(r));const i="reauthenticate";try{const s=await ql(t,Lb(r,i,e,t),n);de(s.idToken,r,"internal-error");const o=w0(s.idToken);de(o,r,"internal-error");const{sub:a}=o;return de(t.uid===a,r,"user-mismatch"),ks._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&zn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mb(t,e,n=!1){if(er(t.app))return Promise.reject(Lr(t));const r="signIn",i=await Lb(t,r,e),s=await ks._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function B3(t,e){return Mb(Os(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vb(t){const e=Os(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function z3(t,e,n){if(er(t.app))return Promise.reject(Lr(t));const r=Os(t),o=await pp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",F3,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Vb(t),l}),a=await ks._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function $3(t,e,n){return er(t.app)?Promise.reject(Lr(t)):B3(Et(t),ca.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Vb(t),r})}function H3(t,e,n,r){return Et(t).onIdTokenChanged(e,n,r)}function W3(t,e,n){return Et(t).beforeAuthStateChanged(e,n)}function q3(t,e,n,r){return Et(t).onAuthStateChanged(e,n,r)}function K3(t){return Et(t).signOut()}const Ld="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ld,"1"),this.storage.removeItem(Ld),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3=1e3,Q3=10;class Fb extends Ob{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Pb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);h3()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Q3):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},G3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Fb.type="LOCAL";const Y3=Fb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub extends Ob{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Ub.type="SESSION";const jb=Ub;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new xh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await X3(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=x0("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const p=h;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(){return window}function Z3(t){lr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(){return typeof lr().WorkerGlobalScope<"u"&&typeof lr().importScripts=="function"}async function e6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function t6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function n6(){return Bb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="firebaseLocalStorageDb",r6=1,Md="firebaseLocalStorage",$b="fbase_key";class pc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function bh(t,e){return t.transaction([Md],e?"readwrite":"readonly").objectStore(Md)}function i6(){const t=indexedDB.deleteDatabase(zb);return new pc(t).toPromise()}function gp(){const t=indexedDB.open(zb,r6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Md,{keyPath:$b})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Md)?e(r):(r.close(),await i6(),e(await gp()))})})}async function Ww(t,e,n){const r=bh(t,!0).put({[$b]:e,value:n});return new pc(r).toPromise()}async function s6(t,e){const n=bh(t,!1).get(e),r=await new pc(n).toPromise();return r===void 0?null:r.value}function qw(t,e){const n=bh(t,!0).delete(e);return new pc(n).toPromise()}const o6=800,a6=3;class Hb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>a6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Bb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xh._getInstance(n6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await e6(),!this.activeServiceWorker)return;this.sender=new J3(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||t6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await gp();return await Ww(e,Ld,"1"),await qw(e,Ld),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ww(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>s6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>qw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=bh(i,!1).getAll();return new pc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),o6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Hb.type="LOCAL";const l6=Hb;new hc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c6(t,e){return e?Cr(e):(de(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0 extends E0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ko(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ko(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ko(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function u6(t){return Mb(t.auth,new b0(t),t.bypassAuthState)}function d6(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),j3(n,new b0(t),t.bypassAuthState)}async function h6(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),U3(n,new b0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return u6;case"linkViaPopup":case"linkViaRedirect":return h6;case"reauthViaPopup":case"reauthViaRedirect":return d6;default:zn(this.auth,"internal-error")}}resolve(e){zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6=new hc(2e3,1e4);class xo extends Wb{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,xo.currentPopupAction&&xo.currentPopupAction.cancel(),xo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return de(e,this.auth,"internal-error"),e}async onExecution(){zr(this.filter.length===1,"Popup operations only handle one event");const e=x0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ar(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ar(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ar(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,f6.get())};e()}}xo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m6="pendingRedirect",Lu=new Map;class p6 extends Wb{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Lu.get(this.auth._key());if(!e){try{const r=await g6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Lu.set(this.auth._key(),e)}return this.bypassAuthState||Lu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function g6(t,e){const n=w6(e),r=v6(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function y6(t,e){Lu.set(t._key(),e)}function v6(t){return Cr(t._redirectPersistence)}function w6(t){return Du(m6,t.config.apiKey,t.name)}async function _6(t,e,n=!1){if(er(t.app))return Promise.reject(Lr(t));const r=Os(t),i=c6(r,e),o=await new p6(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E6=10*60*1e3;class T6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!x6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!qb(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ar(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=E6&&this.cachedEventUids.clear(),this.cachedEventUids.has(Kw(e))}saveEventToCache(e){this.cachedEventUids.add(Kw(e)),this.lastProcessedEventTime=Date.now()}}function Kw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function qb({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function x6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qb(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b6(t,e={}){return Gi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,I6=/^https?/;async function C6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await b6(t);for(const n of e)try{if(P6(n))return}catch{}zn(t,"unauthorized-domain")}function P6(t){const e=fp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!I6.test(n))return!1;if(S6.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6=new hc(3e4,6e4);function Gw(){const t=lr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function R6(t){return new Promise((e,n)=>{var r,i,s;function o(){Gw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Gw(),n(ar(t,"network-request-failed"))},timeout:A6.get()})}if(!((i=(r=lr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=lr().gapi)===null||s===void 0)&&s.load)o();else{const a=E3("iframefcb");return lr()[a]=()=>{gapi.load?o():n(ar(t,"network-request-failed"))},Rb(`${_3()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Mu=null,e})}let Mu=null;function N6(t){return Mu=Mu||R6(t),Mu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k6=new hc(5e3,15e3),D6="__/auth/iframe",L6="emulator/auth/iframe",M6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},V6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function O6(t){const e=t.config;de(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?v0(e,L6):`https://${t.config.authDomain}/${D6}`,r={apiKey:e.apiKey,appName:t.name,v:la},i=V6.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${dc(r).slice(1)}`}async function F6(t){const e=await N6(t),n=lr().gapi;return de(n,t,"internal-error"),e.open({where:document.body,url:O6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:M6,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=ar(t,"network-request-failed"),a=lr().setTimeout(()=>{s(o)},k6.get());function l(){lr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},j6=500,B6=600,z6="_blank",$6="http://localhost";class Qw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function H6(t,e,n,r=j6,i=B6){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},U6),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Wt().toLowerCase();n&&(a=xb(u)?z6:n),Eb(u)&&(e=e||$6,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[y,E])=>`${p}${y}=${E},`,"");if(d3(u)&&a!=="_self")return W6(e||"",a),new Qw(null);const h=window.open(e||"",a,d);de(h,t,"popup-blocked");try{h.focus()}catch{}return new Qw(h)}function W6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q6="__/auth/handler",K6="emulator/auth/handler",G6=encodeURIComponent("fac");async function Yw(t,e,n,r,i,s){de(t.config.authDomain,t,"auth-domain-config-required"),de(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:la,eventId:i};if(e instanceof Db){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",DM(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(s||{}))o[d]=h}if(e instanceof mc){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${G6}=${encodeURIComponent(l)}`:"";return`${Q6(t)}?${dc(a).slice(1)}${u}`}function Q6({config:t}){return t.emulator?v0(t,K6):`https://${t.authDomain}/${q6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wf="webStorageSupport";class Y6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jb,this._completeRedirectFn=_6,this._overrideRedirectResult=y6}async _openPopup(e,n,r,i){var s;zr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Yw(e,n,r,fp(),i);return H6(e,o,x0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Yw(e,n,r,fp(),i);return Z3(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(zr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await F6(e),r=new T6(e);return n.register("authEvent",i=>(de(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Wf,{type:Wf},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Wf];o!==void 0&&n(!!o),zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=C6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Pb()||Tb()||_0()}}const X6=Y6;var Xw="@firebase/auth",Jw="1.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eO(t){Go(new Rs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;de(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ab(t)},u=new y3(r,i,s,l);return C3(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Go(new Rs("auth-internal",e=>{const n=Os(e.getProvider("auth").getImmediate());return(r=>new J6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ri(Xw,Jw,Z6(t)),Ri(Xw,Jw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO=5*60,nO=sb("authIdTokenMaxAge")||tO;let Zw=null;const rO=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>nO)return;const i=n==null?void 0:n.token;Zw!==i&&(Zw=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function iO(t=cb()){const e=p0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=I3(t,{popupRedirectResolver:X6,persistence:[l6,Y3,jb]}),r=sb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=rO(s.toString());W3(n,o,()=>o(n.currentUser)),H3(n,a=>o(a))}}const i=rb("auth");return i&&P3(n,`http://${i}`),n}function sO(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}v3({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ar("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",sO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eO("Browser");var e_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xs,Kb;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,_){function b(){}b.prototype=_.prototype,A.D=_.prototype,A.prototype=new b,A.prototype.constructor=A,A.C=function(P,D,V){for(var N=Array(arguments.length-2),le=2;le<arguments.length;le++)N[le-2]=arguments[le];return _.prototype[D].apply(P,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,_,b){b||(b=0);var P=Array(16);if(typeof _=="string")for(var D=0;16>D;++D)P[D]=_.charCodeAt(b++)|_.charCodeAt(b++)<<8|_.charCodeAt(b++)<<16|_.charCodeAt(b++)<<24;else for(D=0;16>D;++D)P[D]=_[b++]|_[b++]<<8|_[b++]<<16|_[b++]<<24;_=A.g[0],b=A.g[1],D=A.g[2];var V=A.g[3],N=_+(V^b&(D^V))+P[0]+3614090360&4294967295;_=b+(N<<7&4294967295|N>>>25),N=V+(D^_&(b^D))+P[1]+3905402710&4294967295,V=_+(N<<12&4294967295|N>>>20),N=D+(b^V&(_^b))+P[2]+606105819&4294967295,D=V+(N<<17&4294967295|N>>>15),N=b+(_^D&(V^_))+P[3]+3250441966&4294967295,b=D+(N<<22&4294967295|N>>>10),N=_+(V^b&(D^V))+P[4]+4118548399&4294967295,_=b+(N<<7&4294967295|N>>>25),N=V+(D^_&(b^D))+P[5]+1200080426&4294967295,V=_+(N<<12&4294967295|N>>>20),N=D+(b^V&(_^b))+P[6]+2821735955&4294967295,D=V+(N<<17&4294967295|N>>>15),N=b+(_^D&(V^_))+P[7]+4249261313&4294967295,b=D+(N<<22&4294967295|N>>>10),N=_+(V^b&(D^V))+P[8]+1770035416&4294967295,_=b+(N<<7&4294967295|N>>>25),N=V+(D^_&(b^D))+P[9]+2336552879&4294967295,V=_+(N<<12&4294967295|N>>>20),N=D+(b^V&(_^b))+P[10]+4294925233&4294967295,D=V+(N<<17&4294967295|N>>>15),N=b+(_^D&(V^_))+P[11]+2304563134&4294967295,b=D+(N<<22&4294967295|N>>>10),N=_+(V^b&(D^V))+P[12]+1804603682&4294967295,_=b+(N<<7&4294967295|N>>>25),N=V+(D^_&(b^D))+P[13]+4254626195&4294967295,V=_+(N<<12&4294967295|N>>>20),N=D+(b^V&(_^b))+P[14]+2792965006&4294967295,D=V+(N<<17&4294967295|N>>>15),N=b+(_^D&(V^_))+P[15]+1236535329&4294967295,b=D+(N<<22&4294967295|N>>>10),N=_+(D^V&(b^D))+P[1]+4129170786&4294967295,_=b+(N<<5&4294967295|N>>>27),N=V+(b^D&(_^b))+P[6]+3225465664&4294967295,V=_+(N<<9&4294967295|N>>>23),N=D+(_^b&(V^_))+P[11]+643717713&4294967295,D=V+(N<<14&4294967295|N>>>18),N=b+(V^_&(D^V))+P[0]+3921069994&4294967295,b=D+(N<<20&4294967295|N>>>12),N=_+(D^V&(b^D))+P[5]+3593408605&4294967295,_=b+(N<<5&4294967295|N>>>27),N=V+(b^D&(_^b))+P[10]+38016083&4294967295,V=_+(N<<9&4294967295|N>>>23),N=D+(_^b&(V^_))+P[15]+3634488961&4294967295,D=V+(N<<14&4294967295|N>>>18),N=b+(V^_&(D^V))+P[4]+3889429448&4294967295,b=D+(N<<20&4294967295|N>>>12),N=_+(D^V&(b^D))+P[9]+568446438&4294967295,_=b+(N<<5&4294967295|N>>>27),N=V+(b^D&(_^b))+P[14]+3275163606&4294967295,V=_+(N<<9&4294967295|N>>>23),N=D+(_^b&(V^_))+P[3]+4107603335&4294967295,D=V+(N<<14&4294967295|N>>>18),N=b+(V^_&(D^V))+P[8]+1163531501&4294967295,b=D+(N<<20&4294967295|N>>>12),N=_+(D^V&(b^D))+P[13]+2850285829&4294967295,_=b+(N<<5&4294967295|N>>>27),N=V+(b^D&(_^b))+P[2]+4243563512&4294967295,V=_+(N<<9&4294967295|N>>>23),N=D+(_^b&(V^_))+P[7]+1735328473&4294967295,D=V+(N<<14&4294967295|N>>>18),N=b+(V^_&(D^V))+P[12]+2368359562&4294967295,b=D+(N<<20&4294967295|N>>>12),N=_+(b^D^V)+P[5]+4294588738&4294967295,_=b+(N<<4&4294967295|N>>>28),N=V+(_^b^D)+P[8]+2272392833&4294967295,V=_+(N<<11&4294967295|N>>>21),N=D+(V^_^b)+P[11]+1839030562&4294967295,D=V+(N<<16&4294967295|N>>>16),N=b+(D^V^_)+P[14]+4259657740&4294967295,b=D+(N<<23&4294967295|N>>>9),N=_+(b^D^V)+P[1]+2763975236&4294967295,_=b+(N<<4&4294967295|N>>>28),N=V+(_^b^D)+P[4]+1272893353&4294967295,V=_+(N<<11&4294967295|N>>>21),N=D+(V^_^b)+P[7]+4139469664&4294967295,D=V+(N<<16&4294967295|N>>>16),N=b+(D^V^_)+P[10]+3200236656&4294967295,b=D+(N<<23&4294967295|N>>>9),N=_+(b^D^V)+P[13]+681279174&4294967295,_=b+(N<<4&4294967295|N>>>28),N=V+(_^b^D)+P[0]+3936430074&4294967295,V=_+(N<<11&4294967295|N>>>21),N=D+(V^_^b)+P[3]+3572445317&4294967295,D=V+(N<<16&4294967295|N>>>16),N=b+(D^V^_)+P[6]+76029189&4294967295,b=D+(N<<23&4294967295|N>>>9),N=_+(b^D^V)+P[9]+3654602809&4294967295,_=b+(N<<4&4294967295|N>>>28),N=V+(_^b^D)+P[12]+3873151461&4294967295,V=_+(N<<11&4294967295|N>>>21),N=D+(V^_^b)+P[15]+530742520&4294967295,D=V+(N<<16&4294967295|N>>>16),N=b+(D^V^_)+P[2]+3299628645&4294967295,b=D+(N<<23&4294967295|N>>>9),N=_+(D^(b|~V))+P[0]+4096336452&4294967295,_=b+(N<<6&4294967295|N>>>26),N=V+(b^(_|~D))+P[7]+1126891415&4294967295,V=_+(N<<10&4294967295|N>>>22),N=D+(_^(V|~b))+P[14]+2878612391&4294967295,D=V+(N<<15&4294967295|N>>>17),N=b+(V^(D|~_))+P[5]+4237533241&4294967295,b=D+(N<<21&4294967295|N>>>11),N=_+(D^(b|~V))+P[12]+1700485571&4294967295,_=b+(N<<6&4294967295|N>>>26),N=V+(b^(_|~D))+P[3]+2399980690&4294967295,V=_+(N<<10&4294967295|N>>>22),N=D+(_^(V|~b))+P[10]+4293915773&4294967295,D=V+(N<<15&4294967295|N>>>17),N=b+(V^(D|~_))+P[1]+2240044497&4294967295,b=D+(N<<21&4294967295|N>>>11),N=_+(D^(b|~V))+P[8]+1873313359&4294967295,_=b+(N<<6&4294967295|N>>>26),N=V+(b^(_|~D))+P[15]+4264355552&4294967295,V=_+(N<<10&4294967295|N>>>22),N=D+(_^(V|~b))+P[6]+2734768916&4294967295,D=V+(N<<15&4294967295|N>>>17),N=b+(V^(D|~_))+P[13]+1309151649&4294967295,b=D+(N<<21&4294967295|N>>>11),N=_+(D^(b|~V))+P[4]+4149444226&4294967295,_=b+(N<<6&4294967295|N>>>26),N=V+(b^(_|~D))+P[11]+3174756917&4294967295,V=_+(N<<10&4294967295|N>>>22),N=D+(_^(V|~b))+P[2]+718787259&4294967295,D=V+(N<<15&4294967295|N>>>17),N=b+(V^(D|~_))+P[9]+3951481745&4294967295,A.g[0]=A.g[0]+_&4294967295,A.g[1]=A.g[1]+(D+(N<<21&4294967295|N>>>11))&4294967295,A.g[2]=A.g[2]+D&4294967295,A.g[3]=A.g[3]+V&4294967295}r.prototype.u=function(A,_){_===void 0&&(_=A.length);for(var b=_-this.blockSize,P=this.B,D=this.h,V=0;V<_;){if(D==0)for(;V<=b;)i(this,A,V),V+=this.blockSize;if(typeof A=="string"){for(;V<_;)if(P[D++]=A.charCodeAt(V++),D==this.blockSize){i(this,P),D=0;break}}else for(;V<_;)if(P[D++]=A[V++],D==this.blockSize){i(this,P),D=0;break}}this.h=D,this.o+=_},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var _=1;_<A.length-8;++_)A[_]=0;var b=8*this.o;for(_=A.length-8;_<A.length;++_)A[_]=b&255,b/=256;for(this.u(A),A=Array(16),_=b=0;4>_;++_)for(var P=0;32>P;P+=8)A[b++]=this.g[_]>>>P&255;return A};function s(A,_){var b=a;return Object.prototype.hasOwnProperty.call(b,A)?b[A]:b[A]=_(A)}function o(A,_){this.h=_;for(var b=[],P=!0,D=A.length-1;0<=D;D--){var V=A[D]|0;P&&V==_||(b[D]=V,P=!1)}this.g=b}var a={};function l(A){return-128<=A&&128>A?s(A,function(_){return new o([_|0],0>_?-1:0)}):new o([A|0],0>A?-1:0)}function u(A){if(isNaN(A)||!isFinite(A))return h;if(0>A)return R(u(-A));for(var _=[],b=1,P=0;A>=b;P++)_[P]=A/b|0,b*=4294967296;return new o(_,0)}function d(A,_){if(A.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(A.charAt(0)=="-")return R(d(A.substring(1),_));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=u(Math.pow(_,8)),P=h,D=0;D<A.length;D+=8){var V=Math.min(8,A.length-D),N=parseInt(A.substring(D,D+V),_);8>V?(V=u(Math.pow(_,V)),P=P.j(V).add(u(N))):(P=P.j(b),P=P.add(u(N)))}return P}var h=l(0),p=l(1),y=l(16777216);t=o.prototype,t.m=function(){if(S(this))return-R(this).m();for(var A=0,_=1,b=0;b<this.g.length;b++){var P=this.i(b);A+=(0<=P?P:4294967296+P)*_,_*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(E(this))return"0";if(S(this))return"-"+R(this).toString(A);for(var _=u(Math.pow(A,6)),b=this,P="";;){var D=L(b,_).g;b=T(b,D.j(_));var V=((0<b.g.length?b.g[0]:b.h)>>>0).toString(A);if(b=D,E(b))return V+P;for(;6>V.length;)V="0"+V;P=V+P}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function E(A){if(A.h!=0)return!1;for(var _=0;_<A.g.length;_++)if(A.g[_]!=0)return!1;return!0}function S(A){return A.h==-1}t.l=function(A){return A=T(this,A),S(A)?-1:E(A)?0:1};function R(A){for(var _=A.g.length,b=[],P=0;P<_;P++)b[P]=~A.g[P];return new o(b,~A.h).add(p)}t.abs=function(){return S(this)?R(this):this},t.add=function(A){for(var _=Math.max(this.g.length,A.g.length),b=[],P=0,D=0;D<=_;D++){var V=P+(this.i(D)&65535)+(A.i(D)&65535),N=(V>>>16)+(this.i(D)>>>16)+(A.i(D)>>>16);P=N>>>16,V&=65535,N&=65535,b[D]=N<<16|V}return new o(b,b[b.length-1]&-2147483648?-1:0)};function T(A,_){return A.add(R(_))}t.j=function(A){if(E(this)||E(A))return h;if(S(this))return S(A)?R(this).j(R(A)):R(R(this).j(A));if(S(A))return R(this.j(R(A)));if(0>this.l(y)&&0>A.l(y))return u(this.m()*A.m());for(var _=this.g.length+A.g.length,b=[],P=0;P<2*_;P++)b[P]=0;for(P=0;P<this.g.length;P++)for(var D=0;D<A.g.length;D++){var V=this.i(P)>>>16,N=this.i(P)&65535,le=A.i(D)>>>16,K=A.i(D)&65535;b[2*P+2*D]+=N*K,w(b,2*P+2*D),b[2*P+2*D+1]+=V*K,w(b,2*P+2*D+1),b[2*P+2*D+1]+=N*le,w(b,2*P+2*D+1),b[2*P+2*D+2]+=V*le,w(b,2*P+2*D+2)}for(P=0;P<_;P++)b[P]=b[2*P+1]<<16|b[2*P];for(P=_;P<2*_;P++)b[P]=0;return new o(b,0)};function w(A,_){for(;(A[_]&65535)!=A[_];)A[_+1]+=A[_]>>>16,A[_]&=65535,_++}function x(A,_){this.g=A,this.h=_}function L(A,_){if(E(_))throw Error("division by zero");if(E(A))return new x(h,h);if(S(A))return _=L(R(A),_),new x(R(_.g),R(_.h));if(S(_))return _=L(A,R(_)),new x(R(_.g),_.h);if(30<A.g.length){if(S(A)||S(_))throw Error("slowDivide_ only works with positive integers.");for(var b=p,P=_;0>=P.l(A);)b=j(b),P=j(P);var D=k(b,1),V=k(P,1);for(P=k(P,2),b=k(b,2);!E(P);){var N=V.add(P);0>=N.l(A)&&(D=D.add(b),V=N),P=k(P,1),b=k(b,1)}return _=T(A,D.j(_)),new x(D,_)}for(D=h;0<=A.l(_);){for(b=Math.max(1,Math.floor(A.m()/_.m())),P=Math.ceil(Math.log(b)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),V=u(b),N=V.j(_);S(N)||0<N.l(A);)b-=P,V=u(b),N=V.j(_);E(V)&&(V=p),D=D.add(V),A=T(A,N)}return new x(D,A)}t.A=function(A){return L(this,A).h},t.and=function(A){for(var _=Math.max(this.g.length,A.g.length),b=[],P=0;P<_;P++)b[P]=this.i(P)&A.i(P);return new o(b,this.h&A.h)},t.or=function(A){for(var _=Math.max(this.g.length,A.g.length),b=[],P=0;P<_;P++)b[P]=this.i(P)|A.i(P);return new o(b,this.h|A.h)},t.xor=function(A){for(var _=Math.max(this.g.length,A.g.length),b=[],P=0;P<_;P++)b[P]=this.i(P)^A.i(P);return new o(b,this.h^A.h)};function j(A){for(var _=A.g.length+1,b=[],P=0;P<_;P++)b[P]=A.i(P)<<1|A.i(P-1)>>>31;return new o(b,A.h)}function k(A,_){var b=_>>5;_%=32;for(var P=A.g.length-b,D=[],V=0;V<P;V++)D[V]=0<_?A.i(V+b)>>>_|A.i(V+b+1)<<32-_:A.i(V+b);return new o(D,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Kb=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,xs=o}).apply(typeof e_<"u"?e_:typeof self<"u"?self:typeof window<"u"?window:{});var du=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gb,tl,Qb,Vu,yp,Yb,Xb,Jb;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,g){return c==Array.prototype||c==Object.prototype||(c[m]=g.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof du=="object"&&du];for(var m=0;m<c.length;++m){var g=c[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(c,m){if(m)e:{var g=r;c=c.split(".");for(var I=0;I<c.length-1;I++){var F=c[I];if(!(F in g))break e;g=g[F]}c=c[c.length-1],I=g[c],m=m(I),m!=I&&m!=null&&e(g,c,{configurable:!0,writable:!0,value:m})}}function s(c,m){c instanceof String&&(c+="");var g=0,I=!1,F={next:function(){if(!I&&g<c.length){var B=g++;return{value:m(B,c[B]),done:!1}}return I=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}i("Array.prototype.values",function(c){return c||function(){return s(this,function(m,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function u(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function d(c,m,g){return c.call.apply(c.bind,arguments)}function h(c,m,g){if(!c)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,I),c.apply(m,F)}}return function(){return c.apply(m,arguments)}}function p(c,m,g){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,p.apply(null,arguments)}function y(c,m){var g=Array.prototype.slice.call(arguments,1);return function(){var I=g.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function E(c,m){function g(){}g.prototype=m.prototype,c.aa=m.prototype,c.prototype=new g,c.prototype.constructor=c,c.Qb=function(I,F,B){for(var G=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)G[Oe-2]=arguments[Oe];return m.prototype[F].apply(I,G)}}function S(c){const m=c.length;if(0<m){const g=Array(m);for(let I=0;I<m;I++)g[I]=c[I];return g}return[]}function R(c,m){for(let g=1;g<arguments.length;g++){const I=arguments[g];if(l(I)){const F=c.length||0,B=I.length||0;c.length=F+B;for(let G=0;G<B;G++)c[F+G]=I[G]}else c.push(I)}}class T{constructor(m,g){this.i=m,this.j=g,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function w(c){return/^[\s\xa0]*$/.test(c)}function x(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function L(c){return L[" "](c),c}L[" "]=function(){};var j=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function k(c,m,g){for(const I in c)m.call(g,c[I],I,c)}function A(c,m){for(const g in c)m.call(void 0,c[g],g,c)}function _(c){const m={};for(const g in c)m[g]=c[g];return m}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(c,m){let g,I;for(let F=1;F<arguments.length;F++){I=arguments[F];for(g in I)c[g]=I[g];for(let B=0;B<b.length;B++)g=b[B],Object.prototype.hasOwnProperty.call(I,g)&&(c[g]=I[g])}}function D(c){var m=1;c=c.split(":");const g=[];for(;0<m&&c.length;)g.push(c.shift()),m--;return c.length&&g.push(c.join(":")),g}function V(c){a.setTimeout(()=>{throw c},0)}function N(){var c=ie;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class le{constructor(){this.h=this.g=null}add(m,g){const I=K.get();I.set(m,g),this.h?this.h.next=I:this.g=I,this.h=I}}var K=new T(()=>new we,c=>c.reset());class we{constructor(){this.next=this.g=this.h=null}set(m,g){this.h=m,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let re,W=!1,ie=new le,ce=()=>{const c=a.Promise.resolve(void 0);re=()=>{c.then(Ae)}};var Ae=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(g){V(g)}var m=K;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}W=!1};function Se(){this.s=this.s,this.C=this.C}Se.prototype.s=!1,Se.prototype.ma=function(){this.s||(this.s=!0,this.N())},Se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ve(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}Ve.prototype.h=function(){this.defaultPrevented=!0};var ft=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const g=()=>{};a.addEventListener("test",g,m),a.removeEventListener("test",g,m)}catch{}return c}();function Tt(c,m){if(Ve.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var g=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(j){e:{try{L(m.nodeName);var F=!0;break e}catch{}F=!1}F||(m=null)}}else g=="mouseover"?m=c.fromElement:g=="mouseout"&&(m=c.toElement);this.relatedTarget=m,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:xt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Tt.aa.h.call(this)}}E(Tt,Ve);var xt={2:"touch",3:"pen",4:"mouse"};Tt.prototype.h=function(){Tt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var qt="closure_listenable_"+(1e6*Math.random()|0),$h=0;function Hh(c,m,g,I,F){this.listener=c,this.proxy=null,this.src=m,this.type=g,this.capture=!!I,this.ha=F,this.key=++$h,this.da=this.fa=!1}function js(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ct(c){this.src=c,this.g={},this.h=0}ct.prototype.add=function(c,m,g,I,F){var B=c.toString();c=this.g[B],c||(c=this.g[B]=[],this.h++);var G=Bs(c,m,I,F);return-1<G?(m=c[G],g||(m.fa=!1)):(m=new Hh(m,this.src,B,!!I,F),m.fa=g,c.push(m)),m};function Hn(c,m){var g=m.type;if(g in c.g){var I=c.g[g],F=Array.prototype.indexOf.call(I,m,void 0),B;(B=0<=F)&&Array.prototype.splice.call(I,F,1),B&&(js(m),c.g[g].length==0&&(delete c.g[g],c.h--))}}function Bs(c,m,g,I){for(var F=0;F<c.length;++F){var B=c[F];if(!B.da&&B.listener==m&&B.capture==!!g&&B.ha==I)return F}return-1}var ga="closure_lm_"+(1e6*Math.random()|0),Nn={};function Tc(c,m,g,I,F){if(I&&I.once)return Sc(c,m,g,I,F);if(Array.isArray(m)){for(var B=0;B<m.length;B++)Tc(c,m[B],g,I,F);return null}return g=Xi(g),c&&c[qt]?c.K(m,g,u(I)?!!I.capture:!!I,F):xc(c,m,g,!1,I,F)}function xc(c,m,g,I,F,B){if(!m)throw Error("Invalid event type");var G=u(F)?!!F.capture:!!F,Oe=mr(c);if(Oe||(c[ga]=Oe=new ct(c)),g=Oe.add(m,g,I,G,B),g.proxy)return g;if(I=bc(),g.proxy=I,I.src=c,I.listener=g,c.addEventListener)ft||(F=G),F===void 0&&(F=!1),c.addEventListener(m.toString(),I,F);else if(c.attachEvent)c.attachEvent(Cc(m.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return g}function bc(){function c(g){return m.call(c.src,c.listener,g)}const m=fr;return c}function Sc(c,m,g,I,F){if(Array.isArray(m)){for(var B=0;B<m.length;B++)Sc(c,m[B],g,I,F);return null}return g=Xi(g),c&&c[qt]?c.L(m,g,u(I)?!!I.capture:!!I,F):xc(c,m,g,!0,I,F)}function Ic(c,m,g,I,F){if(Array.isArray(m))for(var B=0;B<m.length;B++)Ic(c,m[B],g,I,F);else I=u(I)?!!I.capture:!!I,g=Xi(g),c&&c[qt]?(c=c.i,m=String(m).toString(),m in c.g&&(B=c.g[m],g=Bs(B,g,I,F),-1<g&&(js(B[g]),Array.prototype.splice.call(B,g,1),B.length==0&&(delete c.g[m],c.h--)))):c&&(c=mr(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Bs(m,g,I,F)),(g=-1<c?m[c]:null)&&ya(g))}function ya(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[qt])Hn(m.i,c);else{var g=c.type,I=c.proxy;m.removeEventListener?m.removeEventListener(g,I,c.capture):m.detachEvent?m.detachEvent(Cc(g),I):m.addListener&&m.removeListener&&m.removeListener(I),(g=mr(m))?(Hn(g,c),g.h==0&&(g.src=null,m[ga]=null)):js(c)}}}function Cc(c){return c in Nn?Nn[c]:Nn[c]="on"+c}function fr(c,m){if(c.da)c=!0;else{m=new Tt(m,this);var g=c.listener,I=c.ha||c.src;c.fa&&ya(c),c=g.call(I,m)}return c}function mr(c){return c=c[ga],c instanceof ct?c:null}var zs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xi(c){return typeof c=="function"?c:(c[zs]||(c[zs]=function(m){return c.handleEvent(m)}),c[zs])}function Be(){Se.call(this),this.i=new ct(this),this.M=this,this.F=null}E(Be,Se),Be.prototype[qt]=!0,Be.prototype.removeEventListener=function(c,m,g,I){Ic(this,c,m,g,I)};function ze(c,m){var g,I=c.F;if(I)for(g=[];I;I=I.F)g.push(I);if(c=c.M,I=m.type||m,typeof m=="string")m=new Ve(m,c);else if(m instanceof Ve)m.target=m.target||c;else{var F=m;m=new Ve(I,c),P(m,F)}if(F=!0,g)for(var B=g.length-1;0<=B;B--){var G=m.g=g[B];F=Ji(G,I,!0,m)&&F}if(G=m.g=c,F=Ji(G,I,!0,m)&&F,F=Ji(G,I,!1,m)&&F,g)for(B=0;B<g.length;B++)G=m.g=g[B],F=Ji(G,I,!1,m)&&F}Be.prototype.N=function(){if(Be.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var g=c.g[m],I=0;I<g.length;I++)js(g[I]);delete c.g[m],c.h--}}this.F=null},Be.prototype.K=function(c,m,g,I){return this.i.add(String(c),m,!1,g,I)},Be.prototype.L=function(c,m,g,I){return this.i.add(String(c),m,!0,g,I)};function Ji(c,m,g,I){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var F=!0,B=0;B<m.length;++B){var G=m[B];if(G&&!G.da&&G.capture==g){var Oe=G.listener,bt=G.ha||G.src;G.fa&&Hn(c.i,G),F=Oe.call(bt,I)!==!1&&F}}return F&&!I.defaultPrevented}function Zi(c,m,g){if(typeof c=="function")g&&(c=p(c,g));else if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(c,m||0)}function Pc(c){c.g=Zi(()=>{c.g=null,c.i&&(c.i=!1,Pc(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class Wn extends Se{constructor(m,g){super(),this.m=m,this.l=g,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Pc(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xr(c){Se.call(this),this.h=c,this.g={}}E(Xr,Se);var va=[];function wa(c){k(c.g,function(m,g){this.g.hasOwnProperty(g)&&ya(m)},c),c.g={}}Xr.prototype.N=function(){Xr.aa.N.call(this),wa(this)},Xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _a=a.JSON.stringify,Ac=a.JSON.parse,$s=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Hs(){}Hs.prototype.h=null;function Ws(c){return c.h||(c.h=c.i())}function qs(){}var es={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ks(){Ve.call(this,"d")}E(Ks,Ve);function Ea(){Ve.call(this,"c")}E(Ea,Ve);var qn={},ts=null;function pr(){return ts=ts||new Be}qn.La="serverreachability";function Rc(c){Ve.call(this,qn.La,c)}E(Rc,Ve);function ns(c){const m=pr();ze(m,new Rc(m))}qn.STAT_EVENT="statevent";function M(c,m){Ve.call(this,qn.STAT_EVENT,c),this.stat=m}E(M,Ve);function O(c){const m=pr();ze(m,new M(m,c))}qn.Ma="timingevent";function U(c,m){Ve.call(this,qn.Ma,c),this.size=m}E(U,Ve);function H(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},m)}function Q(){this.g=!0}Q.prototype.xa=function(){this.g=!1};function se(c,m,g,I,F,B){c.info(function(){if(c.g)if(B)for(var G="",Oe=B.split("&"),bt=0;bt<Oe.length;bt++){var Ne=Oe[bt].split("=");if(1<Ne.length){var Lt=Ne[0];Ne=Ne[1];var Mt=Lt.split("_");G=2<=Mt.length&&Mt[1]=="type"?G+(Lt+"="+Ne+"&"):G+(Lt+"=redacted&")}}else G=null;else G=B;return"XMLHTTP REQ ("+I+") [attempt "+F+"]: "+m+`
`+g+`
`+G})}function fe(c,m,g,I,F,B,G){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+F+"]: "+m+`
`+g+`
`+B+" "+G})}function Y(c,m,g,I){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+J(c,g)+(I?" "+I:"")})}function te(c,m){c.info(function(){return"TIMEOUT: "+m})}Q.prototype.info=function(){};function J(c,m){if(!c.g)return m;if(!m)return null;try{var g=JSON.parse(m);if(g){for(c=0;c<g.length;c++)if(Array.isArray(g[c])){var I=g[c];if(!(2>I.length)){var F=I[1];if(Array.isArray(F)&&!(1>F.length)){var B=F[0];if(B!="noop"&&B!="stop"&&B!="close")for(var G=1;G<F.length;G++)F[G]=""}}}}return _a(g)}catch{return m}}var ne={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ve={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_e;function nt(){}E(nt,Hs),nt.prototype.g=function(){return new XMLHttpRequest},nt.prototype.i=function(){return{}},_e=new nt;function be(c,m,g,I){this.j=c,this.i=m,this.l=g,this.R=I||1,this.U=new Xr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ie}function Ie(){this.i=null,this.g="",this.h=!1}var $e={},Kn={};function gr(c,m,g){c.L=1,c.v=Dc(vr(m)),c.m=g,c.P=!0,En(c,null)}function En(c,m){c.F=Date.now(),Gn(c),c.A=vr(c.v);var g=c.A,I=c.R;Array.isArray(I)||(I=[String(I)]),hy(g.i,"t",I),c.C=0,g=c.j.J,c.h=new Ie,c.g=Ry(c.j,g?m:null,!c.m),0<c.O&&(c.M=new Wn(p(c.Y,c,c.g),c.O)),m=c.U,g=c.g,I=c.ca;var F="readystatechange";Array.isArray(F)||(F&&(va[0]=F.toString()),F=va);for(var B=0;B<F.length;B++){var G=Tc(g,F[B],I||m.handleEvent,!1,m.h||m);if(!G)break;m.g[G.key]=G}m=c.H?_(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),ns(),se(c.i,c.u,c.A,c.l,c.R,c.m)}be.prototype.ca=function(c){c=c.target;const m=this.M;m&&wr(c)==3?m.j():this.Y(c)},be.prototype.Y=function(c){try{if(c==this.g)e:{const Mt=wr(this.g);var m=this.g.Ba();const Xs=this.g.Z();if(!(3>Mt)&&(Mt!=3||this.g&&(this.h.h||this.g.oa()||wy(this.g)))){this.J||Mt!=4||m==7||(m==8||0>=Xs?ns(3):ns(2)),Jr(this);var g=this.g.Z();this.X=g;t:if(cn(this)){var I=wy(this.g);c="";var F=I.length,B=wr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ge(this),Yn(this);var G="";break t}this.h.i=new a.TextDecoder}for(m=0;m<F;m++)this.h.h=!0,c+=this.h.i.decode(I[m],{stream:!(B&&m==F-1)});I.length=0,this.h.g+=c,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=g==200,fe(this.i,this.u,this.A,this.l,this.R,Mt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Oe,bt=this.g;if((Oe=bt.g?bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Oe)){var Ne=Oe;break t}}Ne=null}if(g=Ne)Y(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fe(this,g);else{this.o=!1,this.s=3,O(12),ge(this),Yn(this);break e}}if(this.P){g=!0;let kn;for(;!this.J&&this.C<G.length;)if(kn=Ta(this,G),kn==Kn){Mt==4&&(this.s=4,O(14),g=!1),Y(this.i,this.l,null,"[Incomplete Response]");break}else if(kn==$e){this.s=4,O(15),Y(this.i,this.l,G,"[Invalid Chunk]"),g=!1;break}else Y(this.i,this.l,kn,null),Fe(this,kn);if(cn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mt!=4||G.length!=0||this.h.h||(this.s=1,O(16),g=!1),this.o=this.o&&g,!g)Y(this.i,this.l,G,"[Invalid Chunked Response]"),ge(this),Yn(this);else if(0<G.length&&!this.W){this.W=!0;var Lt=this.j;Lt.g==this&&Lt.ba&&!Lt.M&&(Lt.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),Gh(Lt),Lt.M=!0,O(11))}}else Y(this.i,this.l,G,null),Fe(this,G);Mt==4&&ge(this),this.o&&!this.J&&(Mt==4?Iy(this.j,this):(this.o=!1,Gn(this)))}else FI(this.g),g==400&&0<G.indexOf("Unknown SID")?(this.s=3,O(12)):(this.s=0,O(13)),ge(this),Yn(this)}}}catch{}finally{}};function cn(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ta(c,m){var g=c.C,I=m.indexOf(`
`,g);return I==-1?Kn:(g=Number(m.substring(g,I)),isNaN(g)?$e:(I+=1,I+g>m.length?Kn:(m=m.slice(I,I+g),c.C=I+g,m)))}be.prototype.cancel=function(){this.J=!0,ge(this)};function Gn(c){c.S=Date.now()+c.I,Qn(c,c.I)}function Qn(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=H(p(c.ba,c),m)}function Jr(c){c.B&&(a.clearTimeout(c.B),c.B=null)}be.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(te(this.i,this.A),this.L!=2&&(ns(),O(17)),ge(this),this.s=2,Yn(this)):Qn(this,this.S-c)};function Yn(c){c.j.G==0||c.J||Iy(c.j,c)}function ge(c){Jr(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,wa(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function Fe(c,m){try{var g=c.j;if(g.G!=0&&(g.g==c||Gs(g.h,c))){if(!c.K&&Gs(g.h,c)&&g.G==3){try{var I=g.Da.g.parse(m)}catch{I=null}if(Array.isArray(I)&&I.length==3){var F=I;if(F[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<c.F)Uc(g),Oc(g);else break e;Kh(g),O(18)}}else g.za=F[1],0<g.za-g.T&&37500>F[2]&&g.F&&g.v==0&&!g.C&&(g.C=H(p(g.Za,g),6e3));if(1>=yr(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else is(g,11)}else if((c.K||g.g==c)&&Uc(g),!w(m))for(F=g.Da.g.parse(m),m=0;m<F.length;m++){let Ne=F[m];if(g.T=Ne[0],Ne=Ne[1],g.G==2)if(Ne[0]=="c"){g.K=Ne[1],g.ia=Ne[2];const Lt=Ne[3];Lt!=null&&(g.la=Lt,g.j.info("VER="+g.la));const Mt=Ne[4];Mt!=null&&(g.Aa=Mt,g.j.info("SVER="+g.Aa));const Xs=Ne[5];Xs!=null&&typeof Xs=="number"&&0<Xs&&(I=1.5*Xs,g.L=I,g.j.info("backChannelRequestTimeoutMs_="+I)),I=g;const kn=c.g;if(kn){const Bc=kn.g?kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bc){var B=I.h;B.g||Bc.indexOf("spdy")==-1&&Bc.indexOf("quic")==-1&&Bc.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(xa(B,B.h),B.h=null))}if(I.D){const Qh=kn.g?kn.g.getResponseHeader("X-HTTP-Session-Id"):null;Qh&&(I.ya=Qh,He(I.I,I.D,Qh))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-c.F,g.j.info("Handshake RTT: "+g.R+"ms")),I=g;var G=c;if(I.qa=Ay(I,I.J?I.ia:null,I.W),G.K){iy(I.h,G);var Oe=G,bt=I.L;bt&&(Oe.I=bt),Oe.B&&(Jr(Oe),Gn(Oe)),I.g=G}else by(I);0<g.i.length&&Fc(g)}else Ne[0]!="stop"&&Ne[0]!="close"||is(g,7);else g.G==3&&(Ne[0]=="stop"||Ne[0]=="close"?Ne[0]=="stop"?is(g,7):qh(g):Ne[0]!="noop"&&g.l&&g.l.ta(Ne),g.v=0)}}ns(4)}catch{}}var Zr=class{constructor(c,m){this.g=c,this.map=m}};function ei(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ye(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function yr(c){return c.h?1:c.g?c.g.size:0}function Gs(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function xa(c,m){c.g?c.g.add(m):c.h=m}function iy(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}ei.prototype.cancel=function(){if(this.i=sy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function sy(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const g of c.g.values())m=m.concat(g.D);return m}return S(c.i)}function xI(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var m=[],g=c.length,I=0;I<g;I++)m.push(c[I]);return m}m=[],g=0;for(I in c)m[g++]=c[I];return m}function bI(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var m=[];c=c.length;for(var g=0;g<c;g++)m.push(g);return m}m=[],g=0;for(const I in c)m[g++]=I;return m}}}function oy(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var g=bI(c),I=xI(c),F=I.length,B=0;B<F;B++)m.call(void 0,I[B],g&&g[B],c)}var ay=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function SI(c,m){if(c){c=c.split("&");for(var g=0;g<c.length;g++){var I=c[g].indexOf("="),F=null;if(0<=I){var B=c[g].substring(0,I);F=c[g].substring(I+1)}else B=c[g];m(B,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function rs(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof rs){this.h=c.h,Nc(this,c.j),this.o=c.o,this.g=c.g,kc(this,c.s),this.l=c.l;var m=c.i,g=new Ia;g.i=m.i,m.g&&(g.g=new Map(m.g),g.h=m.h),ly(this,g),this.m=c.m}else c&&(m=String(c).match(ay))?(this.h=!1,Nc(this,m[1]||"",!0),this.o=ba(m[2]||""),this.g=ba(m[3]||"",!0),kc(this,m[4]),this.l=ba(m[5]||"",!0),ly(this,m[6]||"",!0),this.m=ba(m[7]||"")):(this.h=!1,this.i=new Ia(null,this.h))}rs.prototype.toString=function(){var c=[],m=this.j;m&&c.push(Sa(m,cy,!0),":");var g=this.g;return(g||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Sa(m,cy,!0),"@"),c.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&c.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&c.push("/"),c.push(Sa(g,g.charAt(0)=="/"?PI:CI,!0))),(g=this.i.toString())&&c.push("?",g),(g=this.m)&&c.push("#",Sa(g,RI)),c.join("")};function vr(c){return new rs(c)}function Nc(c,m,g){c.j=g?ba(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function kc(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function ly(c,m,g){m instanceof Ia?(c.i=m,NI(c.i,c.h)):(g||(m=Sa(m,AI)),c.i=new Ia(m,c.h))}function He(c,m,g){c.i.set(m,g)}function Dc(c){return He(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ba(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Sa(c,m,g){return typeof c=="string"?(c=encodeURI(c).replace(m,II),g&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function II(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var cy=/[#\/\?@]/g,CI=/[#\?:]/g,PI=/[#\?]/g,AI=/[#\?@]/g,RI=/#/g;function Ia(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function ti(c){c.g||(c.g=new Map,c.h=0,c.i&&SI(c.i,function(m,g){c.add(decodeURIComponent(m.replace(/\+/g," ")),g)}))}t=Ia.prototype,t.add=function(c,m){ti(this),this.i=null,c=Qs(this,c);var g=this.g.get(c);return g||this.g.set(c,g=[]),g.push(m),this.h+=1,this};function uy(c,m){ti(c),m=Qs(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function dy(c,m){return ti(c),m=Qs(c,m),c.g.has(m)}t.forEach=function(c,m){ti(this),this.g.forEach(function(g,I){g.forEach(function(F){c.call(m,F,I,this)},this)},this)},t.na=function(){ti(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),g=[];for(let I=0;I<m.length;I++){const F=c[I];for(let B=0;B<F.length;B++)g.push(m[I])}return g},t.V=function(c){ti(this);let m=[];if(typeof c=="string")dy(this,c)&&(m=m.concat(this.g.get(Qs(this,c))));else{c=Array.from(this.g.values());for(let g=0;g<c.length;g++)m=m.concat(c[g])}return m},t.set=function(c,m){return ti(this),this.i=null,c=Qs(this,c),dy(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},t.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function hy(c,m,g){uy(c,m),0<g.length&&(c.i=null,c.g.set(Qs(c,m),S(g)),c.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var g=0;g<m.length;g++){var I=m[g];const B=encodeURIComponent(String(I)),G=this.V(I);for(I=0;I<G.length;I++){var F=B;G[I]!==""&&(F+="="+encodeURIComponent(String(G[I]))),c.push(F)}}return this.i=c.join("&")};function Qs(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function NI(c,m){m&&!c.j&&(ti(c),c.i=null,c.g.forEach(function(g,I){var F=I.toLowerCase();I!=F&&(uy(this,I),hy(this,F,g))},c)),c.j=m}function kI(c,m){const g=new Q;if(a.Image){const I=new Image;I.onload=y(ni,g,"TestLoadImage: loaded",!0,m,I),I.onerror=y(ni,g,"TestLoadImage: error",!1,m,I),I.onabort=y(ni,g,"TestLoadImage: abort",!1,m,I),I.ontimeout=y(ni,g,"TestLoadImage: timeout",!1,m,I),a.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else m(!1)}function DI(c,m){const g=new Q,I=new AbortController,F=setTimeout(()=>{I.abort(),ni(g,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:I.signal}).then(B=>{clearTimeout(F),B.ok?ni(g,"TestPingServer: ok",!0,m):ni(g,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(F),ni(g,"TestPingServer: error",!1,m)})}function ni(c,m,g,I,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),I(g)}catch{}}function LI(){this.g=new $s}function MI(c,m,g){const I=g||"";try{oy(c,function(F,B){let G=F;u(F)&&(G=_a(F)),m.push(I+B+"="+encodeURIComponent(G))})}catch(F){throw m.push(I+"type="+encodeURIComponent("_badmap")),F}}function Lc(c){this.l=c.Ub||null,this.j=c.eb||!1}E(Lc,Hs),Lc.prototype.g=function(){return new Mc(this.l,this.j)},Lc.prototype.i=function(c){return function(){return c}}({});function Mc(c,m){Be.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(Mc,Be),t=Mc.prototype,t.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,Pa(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ca(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Pa(this)),this.g&&(this.readyState=3,Pa(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;fy(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function fy(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?Ca(this):Pa(this),this.readyState==3&&fy(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Ca(this))},t.Qa=function(c){this.g&&(this.response=c,Ca(this))},t.ga=function(){this.g&&Ca(this)};function Ca(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Pa(c)}t.setRequestHeader=function(c,m){this.u.append(c,m)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var g=m.next();!g.done;)g=g.value,c.push(g[0]+": "+g[1]),g=m.next();return c.join(`\r
`)};function Pa(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Mc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function my(c){let m="";return k(c,function(g,I){m+=I,m+=":",m+=g,m+=`\r
`}),m}function Wh(c,m,g){e:{for(I in g){var I=!1;break e}I=!0}I||(g=my(g),typeof c=="string"?g!=null&&encodeURIComponent(String(g)):He(c,m,g))}function rt(c){Be.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(rt,Be);var VI=/^https?$/i,OI=["POST","PUT"];t=rt.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,m,g,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_e.g(),this.v=this.o?Ws(this.o):Ws(_e),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(B){py(this,B);return}if(c=g||"",g=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var F in I)g.set(F,I[F]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const B of I.keys())g.set(B,I.get(B));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(g.keys()).find(B=>B.toLowerCase()=="content-type"),F=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(OI,m,void 0))||I||F||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,G]of g)this.g.setRequestHeader(B,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{vy(this),this.u=!0,this.g.send(c),this.u=!1}catch(B){py(this,B)}};function py(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,gy(c),Vc(c)}function gy(c){c.A||(c.A=!0,ze(c,"complete"),ze(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ze(this,"complete"),ze(this,"abort"),Vc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vc(this,!0)),rt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?yy(this):this.bb())},t.bb=function(){yy(this)};function yy(c){if(c.h&&typeof o<"u"&&(!c.v[1]||wr(c)!=4||c.Z()!=2)){if(c.u&&wr(c)==4)Zi(c.Ea,0,c);else if(ze(c,"readystatechange"),wr(c)==4){c.h=!1;try{const G=c.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var g;if(!(g=m)){var I;if(I=G===0){var F=String(c.D).match(ay)[1]||null;!F&&a.self&&a.self.location&&(F=a.self.location.protocol.slice(0,-1)),I=!VI.test(F?F.toLowerCase():"")}g=I}if(g)ze(c,"complete"),ze(c,"success");else{c.m=6;try{var B=2<wr(c)?c.g.statusText:""}catch{B=""}c.l=B+" ["+c.Z()+"]",gy(c)}}finally{Vc(c)}}}}function Vc(c,m){if(c.g){vy(c);const g=c.g,I=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||ze(c,"ready");try{g.onreadystatechange=I}catch{}}}function vy(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function wr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<wr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Ac(m)}};function wy(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function FI(c){const m={};c=(c.g&&2<=wr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(w(c[I]))continue;var g=D(c[I]);const F=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const B=m[F]||[];m[F]=B,B.push(g)}A(m,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Aa(c,m,g){return g&&g.internalChannelParams&&g.internalChannelParams[c]||m}function _y(c){this.Aa=0,this.i=[],this.j=new Q,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Aa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Aa("baseRetryDelayMs",5e3,c),this.cb=Aa("retryDelaySeedMs",1e4,c),this.Wa=Aa("forwardChannelMaxRetries",2,c),this.wa=Aa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new ei(c&&c.concurrentRequestLimit),this.Da=new LI,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=_y.prototype,t.la=8,t.G=1,t.connect=function(c,m,g,I){O(0),this.W=c,this.H=m||{},g&&I!==void 0&&(this.H.OSID=g,this.H.OAID=I),this.F=this.X,this.I=Ay(this,null,this.W),Fc(this)};function qh(c){if(Ey(c),c.G==3){var m=c.U++,g=vr(c.I);if(He(g,"SID",c.K),He(g,"RID",m),He(g,"TYPE","terminate"),Ra(c,g),m=new be(c,c.j,m),m.L=2,m.v=Dc(vr(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=m.v,g=!0),g||(m.g=Ry(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Gn(m)}Py(c)}function Oc(c){c.g&&(Gh(c),c.g.cancel(),c.g=null)}function Ey(c){Oc(c),c.u&&(a.clearTimeout(c.u),c.u=null),Uc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Fc(c){if(!Ye(c.h)&&!c.s){c.s=!0;var m=c.Ga;re||ce(),W||(re(),W=!0),ie.add(m,c),c.B=0}}function UI(c,m){return yr(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=H(p(c.Ga,c,m),Cy(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const F=new be(this,this.j,c);let B=this.o;if(this.S&&(B?(B=_(B),P(B,this.S)):B=this.S),this.m!==null||this.O||(F.H=B,B=null),this.P)e:{for(var m=0,g=0;g<this.i.length;g++){t:{var I=this.i[g];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(m+=I,4096<m){m=g;break e}if(m===4096||g===this.i.length-1){m=g+1;break e}}m=1e3}else m=1e3;m=xy(this,F,m),g=vr(this.I),He(g,"RID",c),He(g,"CVER",22),this.D&&He(g,"X-HTTP-Session-Id",this.D),Ra(this,g),B&&(this.O?m="headers="+encodeURIComponent(String(my(B)))+"&"+m:this.m&&Wh(g,this.m,B)),xa(this.h,F),this.Ua&&He(g,"TYPE","init"),this.P?(He(g,"$req",m),He(g,"SID","null"),F.T=!0,gr(F,g,null)):gr(F,g,m),this.G=2}}else this.G==3&&(c?Ty(this,c):this.i.length==0||Ye(this.h)||Ty(this))};function Ty(c,m){var g;m?g=m.l:g=c.U++;const I=vr(c.I);He(I,"SID",c.K),He(I,"RID",g),He(I,"AID",c.T),Ra(c,I),c.m&&c.o&&Wh(I,c.m,c.o),g=new be(c,c.j,g,c.B+1),c.m===null&&(g.H=c.o),m&&(c.i=m.D.concat(c.i)),m=xy(c,g,1e3),g.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),xa(c.h,g),gr(g,I,m)}function Ra(c,m){c.H&&k(c.H,function(g,I){He(m,I,g)}),c.l&&oy({},function(g,I){He(m,I,g)})}function xy(c,m,g){g=Math.min(c.i.length,g);var I=c.l?p(c.l.Na,c.l,c):null;e:{var F=c.i;let B=-1;for(;;){const G=["count="+g];B==-1?0<g?(B=F[0].g,G.push("ofs="+B)):B=0:G.push("ofs="+B);let Oe=!0;for(let bt=0;bt<g;bt++){let Ne=F[bt].g;const Lt=F[bt].map;if(Ne-=B,0>Ne)B=Math.max(0,F[bt].g-100),Oe=!1;else try{MI(Lt,G,"req"+Ne+"_")}catch{I&&I(Lt)}}if(Oe){I=G.join("&");break e}}}return c=c.i.splice(0,g),m.D=c,I}function by(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;re||ce(),W||(re(),W=!0),ie.add(m,c),c.v=0}}function Kh(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=H(p(c.Fa,c),Cy(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Sy(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=H(p(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,O(10),Oc(this),Sy(this))};function Gh(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Sy(c){c.g=new be(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=vr(c.qa);He(m,"RID","rpc"),He(m,"SID",c.K),He(m,"AID",c.T),He(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&He(m,"TO",c.ja),He(m,"TYPE","xmlhttp"),Ra(c,m),c.m&&c.o&&Wh(m,c.m,c.o),c.L&&(c.g.I=c.L);var g=c.g;c=c.ia,g.L=1,g.v=Dc(vr(m)),g.m=null,g.P=!0,En(g,c)}t.Za=function(){this.C!=null&&(this.C=null,Oc(this),Kh(this),O(19))};function Uc(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Iy(c,m){var g=null;if(c.g==m){Uc(c),Gh(c),c.g=null;var I=2}else if(Gs(c.h,m))g=m.D,iy(c.h,m),I=1;else return;if(c.G!=0){if(m.o)if(I==1){g=m.m?m.m.length:0,m=Date.now()-m.F;var F=c.B;I=pr(),ze(I,new U(I,g)),Fc(c)}else by(c);else if(F=m.s,F==3||F==0&&0<m.X||!(I==1&&UI(c,m)||I==2&&Kh(c)))switch(g&&0<g.length&&(m=c.h,m.i=m.i.concat(g)),F){case 1:is(c,5);break;case 4:is(c,10);break;case 3:is(c,6);break;default:is(c,2)}}}function Cy(c,m){let g=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(g*=2),g*m}function is(c,m){if(c.j.info("Error code "+m),m==2){var g=p(c.fb,c),I=c.Xa;const F=!I;I=new rs(I||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Nc(I,"https"),Dc(I),F?kI(I.toString(),g):DI(I.toString(),g)}else O(2);c.G=0,c.l&&c.l.sa(m),Py(c),Ey(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),O(2)):(this.j.info("Failed to ping google.com"),O(1))};function Py(c){if(c.G=0,c.ka=[],c.l){const m=sy(c.h);(m.length!=0||c.i.length!=0)&&(R(c.ka,m),R(c.ka,c.i),c.h.i.length=0,S(c.i),c.i.length=0),c.l.ra()}}function Ay(c,m,g){var I=g instanceof rs?vr(g):new rs(g);if(I.g!="")m&&(I.g=m+"."+I.g),kc(I,I.s);else{var F=a.location;I=F.protocol,m=m?m+"."+F.hostname:F.hostname,F=+F.port;var B=new rs(null);I&&Nc(B,I),m&&(B.g=m),F&&kc(B,F),g&&(B.l=g),I=B}return g=c.D,m=c.ya,g&&m&&He(I,g,m),He(I,"VER",c.la),Ra(c,I),I}function Ry(c,m,g){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new rt(new Lc({eb:g})):new rt(c.pa),m.Ha(c.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ny(){}t=Ny.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function jc(){}jc.prototype.g=function(c,m){return new un(c,m)};function un(c,m){Be.call(this),this.g=new _y(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!w(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Ys(this)}E(un,Be),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){qh(this.g)},un.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var g={};g.__data__=c,c=g}else this.u&&(g={},g.__data__=_a(c),c=g);m.i.push(new Zr(m.Ya++,c)),m.G==3&&Fc(m)},un.prototype.N=function(){this.g.l=null,delete this.j,qh(this.g),delete this.g,un.aa.N.call(this)};function ky(c){Ks.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const g in m){c=g;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}E(ky,Ks);function Dy(){Ea.call(this),this.status=1}E(Dy,Ea);function Ys(c){this.g=c}E(Ys,Ny),Ys.prototype.ua=function(){ze(this.g,"a")},Ys.prototype.ta=function(c){ze(this.g,new ky(c))},Ys.prototype.sa=function(c){ze(this.g,new Dy)},Ys.prototype.ra=function(){ze(this.g,"b")},jc.prototype.createWebChannel=jc.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,Jb=function(){return new jc},Xb=function(){return pr()},Yb=qn,yp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ne.NO_ERROR=0,ne.TIMEOUT=8,ne.HTTP_ERROR=6,Vu=ne,ve.COMPLETE="complete",Qb=ve,qs.EventType=es,es.OPEN="a",es.CLOSE="b",es.ERROR="c",es.MESSAGE="d",Be.prototype.listen=Be.prototype.K,tl=qs,rt.prototype.listenOnce=rt.prototype.L,rt.prototype.getLastError=rt.prototype.Ka,rt.prototype.getLastErrorCode=rt.prototype.Ba,rt.prototype.getStatus=rt.prototype.Z,rt.prototype.getResponseJson=rt.prototype.Oa,rt.prototype.getResponseText=rt.prototype.oa,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Ha,Gb=rt}).apply(typeof du<"u"?du:typeof self<"u"?self:typeof window<"u"?window:{});const t_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jt.UNAUTHENTICATED=new jt(null),jt.GOOGLE_CREDENTIALS=new jt("google-credentials-uid"),jt.FIRST_PARTY=new jt("first-party-uid"),jt.MOCK_USER=new jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ua="11.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds=new f0("@firebase/firestore");function to(){return Ds.logLevel}function X(t,...e){if(Ds.logLevel<=Te.DEBUG){const n=e.map(S0);Ds.debug(`Firestore (${ua}): ${t}`,...n)}}function $r(t,...e){if(Ds.logLevel<=Te.ERROR){const n=e.map(S0);Ds.error(`Firestore (${ua}): ${t}`,...n)}}function Qo(t,...e){if(Ds.logLevel<=Te.WARN){const n=e.map(S0);Ds.warn(`Firestore (${ua}): ${t}`,...n)}}function S0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(t="Unexpected state"){const e=`FIRESTORE (${ua}) INTERNAL ASSERTION FAILED: `+t;throw $r(e),new Error(e)}function ke(t,e){t||he()}function pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ee extends Yr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class oO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(jt.UNAUTHENTICATED))}shutdown(){}}class aO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class lO{constructor(e){this.t=e,this.currentUser=jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ke(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Mr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Mr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Mr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ke(typeof r.accessToken=="string"),new Zb(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ke(e===null||typeof e=="string"),new jt(e)}}class cO{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=jt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class uO{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new cO(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class dO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hO{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ke(this.o===void 0);const r=s=>{s.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,X("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ke(typeof n.token=="string"),this.R=n.token,new dO(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=fO(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Pe(t,e){return t<e?-1:t>e?1:0}function Yo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ee($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ee($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ee($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ee($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new gt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.timestamp=e}static fromTimestamp(e){return new me(e)}static min(){return new me(new gt(0,0))}static max(){return new me(new gt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n,r){n===void 0?n=0:n>e.length&&he(),r===void 0?r=e.length-n:r>e.length-n&&he(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Gl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Gl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class qe extends Gl{construct(e,n,r){return new qe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ee($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new qe(n)}static emptyPath(){return new qe([])}}const mO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pt extends Gl{construct(e,n,r){return new Pt(e,n,r)}static isValidIdentifier(e){return mO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Pt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ee($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ee($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ee($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ee($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pt(n)}static emptyPath(){return new Pt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.path=e}static fromPath(e){return new oe(qe.fromString(e))}static fromName(e){return new oe(qe.fromString(e).popFirst(5))}static empty(){return new oe(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oe(new qe(e.slice()))}}function pO(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=me.fromTimestamp(r===1e9?new gt(n+1,0):new gt(n,r));return new Fi(i,oe.empty(),e)}function gO(t){return new Fi(t.readTime,t.key,-1)}class Fi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Fi(me.min(),oe.empty(),-1)}static max(){return new Fi(me.max(),oe.empty(),-1)}}function yO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=oe.comparator(t.documentKey,e.documentKey),n!==0?n:Pe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function da(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==vO)throw t;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&he(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(i=>i?z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new z((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new z((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function _O(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ha(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Sh.oe=-1;function Ih(t){return t==null}function Vd(t){return t===0&&1/t==-1/0}function EO(t){return typeof t=="number"&&Number.isInteger(t)&&!Vd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=n_(e)),e=xO(t.get(n),e);return n_(e)}function xO(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function n_(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Qi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function tS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e,n){this.comparator=e,this.root=n||Ct.EMPTY}insert(e,n){return new tt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ct.BLACK,null,null))}remove(e){return new tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ct.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hu(this.root,e,this.comparator,!1)}getReverseIterator(){return new hu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hu(this.root,e,this.comparator,!0)}}class hu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ct{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ct.RED,this.left=i??Ct.EMPTY,this.right=s??Ct.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ct(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ct.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ct.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw he();const e=this.left.check();if(e!==this.right.check())throw he();return e+(this.isRed()?0:1)}}Ct.EMPTY=null,Ct.RED=!0,Ct.BLACK=!1;Ct.EMPTY=new class{constructor(){this.size=0}get key(){throw he()}get value(){throw he()}get color(){throw he()}get left(){throw he()}get right(){throw he()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Ct(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.comparator=e,this.data=new tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new i_(this.data.getIterator())}getIteratorFrom(e){return new i_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof _t)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new _t(this.comparator);return n.data=e,n}}class i_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.fields=e,e.sort(Pt.comparator)}static empty(){return new mn([])}unionWith(e){let n=new _t(Pt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new mn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Yo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new nS("Invalid base64 string: "+s):s}}(e);return new Dt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Dt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dt.EMPTY_BYTE_STRING=new Dt("");const bO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ui(t){if(ke(!!t),typeof t=="string"){let e=0;const n=bO.exec(t);if(ke(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:at(t.seconds),nanos:at(t.nanos)}}function at(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ji(t){return typeof t=="string"?Dt.fromBase64String(t):Dt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Ch(t){const e=t.mapValue.fields.__previous_value__;return I0(e)?Ch(e):e}function Ql(t){const e=Ui(t.mapValue.fields.__local_write_time__.timestampValue);return new gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Yl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Yl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Yl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Bi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?I0(t)?4:CO(t)?9007199254740991:IO(t)?10:11:he()}function dr(t,e){if(t===e)return!0;const n=Bi(t);if(n!==Bi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ql(t).isEqual(Ql(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ui(i.timestampValue),a=Ui(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ji(i.bytesValue).isEqual(ji(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return at(i.geoPointValue.latitude)===at(s.geoPointValue.latitude)&&at(i.geoPointValue.longitude)===at(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return at(i.integerValue)===at(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=at(i.doubleValue),a=at(s.doubleValue);return o===a?Vd(o)===Vd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Yo(t.arrayValue.values||[],e.arrayValue.values||[],dr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(r_(o)!==r_(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!dr(o[l],a[l])))return!1;return!0}(t,e);default:return he()}}function Xl(t,e){return(t.values||[]).find(n=>dr(n,e))!==void 0}function Xo(t,e){if(t===e)return 0;const n=Bi(t),r=Bi(e);if(n!==r)return Pe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=at(s.integerValue||s.doubleValue),l=at(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return s_(t.timestampValue,e.timestampValue);case 4:return s_(Ql(t),Ql(e));case 5:return Pe(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ji(s),l=ji(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=Pe(a[u],l[u]);if(d!==0)return d}return Pe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Pe(at(s.latitude),at(o.latitude));return a!==0?a:Pe(at(s.longitude),at(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return o_(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,d;const h=s.fields||{},p=o.fields||{},y=(a=h.value)===null||a===void 0?void 0:a.arrayValue,E=(l=p.value)===null||l===void 0?void 0:l.arrayValue,S=Pe(((u=y==null?void 0:y.values)===null||u===void 0?void 0:u.length)||0,((d=E==null?void 0:E.values)===null||d===void 0?void 0:d.length)||0);return S!==0?S:o_(y,E)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===fu.mapValue&&o===fu.mapValue)return 0;if(s===fu.mapValue)return 1;if(o===fu.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const p=Pe(l[h],d[h]);if(p!==0)return p;const y=Xo(a[l[h]],u[d[h]]);if(y!==0)return y}return Pe(l.length,d.length)}(t.mapValue,e.mapValue);default:throw he()}}function s_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Pe(t,e);const n=Ui(t),r=Ui(e),i=Pe(n.seconds,r.seconds);return i!==0?i:Pe(n.nanos,r.nanos)}function o_(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Xo(n[i],r[i]);if(s)return s}return Pe(n.length,r.length)}function Jo(t){return vp(t)}function vp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ui(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ji(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return oe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=vp(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${vp(n.fields[o])}`;return i+"}"}(t.mapValue):he()}function Ou(t){switch(Bi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ch(t);return e?16+Ou(e):16;case 5:return 2*t.stringValue.length;case 6:return ji(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Ou(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Qi(r.fields,(s,o)=>{i+=s.length+Ou(o)}),i}(t.mapValue);default:throw he()}}function a_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function wp(t){return!!t&&"integerValue"in t}function C0(t){return!!t&&"arrayValue"in t}function l_(t){return!!t&&"nullValue"in t}function c_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Fu(t){return!!t&&"mapValue"in t}function IO(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function vl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Qi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=vl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=vl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function CO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.value=e}static empty(){return new nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Fu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=vl(n)}setAll(e){let n=Pt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=vl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Fu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return dr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Fu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Qi(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new nn(vl(this.value))}}function rS(t){const e=[];return Qi(t.fields,(n,r)=>{const i=new Pt([n]);if(Fu(r)){const s=rS(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new zt(e,0,me.min(),me.min(),me.min(),nn.empty(),0)}static newFoundDocument(e,n,r,i){return new zt(e,1,n,me.min(),r,i,0)}static newNoDocument(e,n){return new zt(e,2,n,me.min(),me.min(),nn.empty(),0)}static newUnknownDocument(e,n){return new zt(e,3,n,me.min(),me.min(),nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,n){this.position=e,this.inclusive=n}}function u_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=oe.comparator(oe.fromName(o.referenceValue),n.key):r=Xo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function d_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!dr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,n="asc"){this.field=e,this.dir=n}}function PO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{}class ht extends iS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new RO(e,n,r):n==="array-contains"?new DO(e,r):n==="in"?new LO(e,r):n==="not-in"?new MO(e,r):n==="array-contains-any"?new VO(e,r):new ht(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new NO(e,r):new kO(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Xo(n,this.value)):n!==null&&Bi(this.value)===Bi(n)&&this.matchesComparison(Xo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return he()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $n extends iS{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new $n(e,n)}matches(e){return sS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function sS(t){return t.op==="and"}function oS(t){return AO(t)&&sS(t)}function AO(t){for(const e of t.filters)if(e instanceof $n)return!1;return!0}function _p(t){if(t instanceof ht)return t.field.canonicalString()+t.op.toString()+Jo(t.value);if(oS(t))return t.filters.map(e=>_p(e)).join(",");{const e=t.filters.map(n=>_p(n)).join(",");return`${t.op}(${e})`}}function aS(t,e){return t instanceof ht?function(r,i){return i instanceof ht&&r.op===i.op&&r.field.isEqual(i.field)&&dr(r.value,i.value)}(t,e):t instanceof $n?function(r,i){return i instanceof $n&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&aS(o,i.filters[a]),!0):!1}(t,e):void he()}function lS(t){return t instanceof ht?function(n){return`${n.field.canonicalString()} ${n.op} ${Jo(n.value)}`}(t):t instanceof $n?function(n){return n.op.toString()+" {"+n.getFilters().map(lS).join(" ,")+"}"}(t):"Filter"}class RO extends ht{constructor(e,n,r){super(e,n,r),this.key=oe.fromName(r.referenceValue)}matches(e){const n=oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class NO extends ht{constructor(e,n){super(e,"in",n),this.keys=cS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class kO extends ht{constructor(e,n){super(e,"not-in",n),this.keys=cS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function cS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>oe.fromName(r.referenceValue))}class DO extends ht{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return C0(n)&&Xl(n.arrayValue,this.value)}}class LO extends ht{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xl(this.value.arrayValue,n)}}class MO extends ht{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Xl(this.value.arrayValue,n)}}class VO extends ht{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!C0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Xl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function h_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new OO(t,e,n,r,i,s,o)}function P0(t){const e=pe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>_p(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Ih(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Jo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Jo(r)).join(",")),e.ue=n}return e.ue}function A0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!PO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!aS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!d_(t.startAt,e.startAt)&&d_(t.endAt,e.endAt)}function Ep(t){return oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function FO(t,e,n,r,i,s,o,a){return new gc(t,e,n,r,i,s,o,a)}function R0(t){return new gc(t)}function f_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function uS(t){return t.collectionGroup!==null}function wl(t){const e=pe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new _t(Pt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Fd(s,r))}),n.has(Pt.keyField().canonicalString())||e.ce.push(new Fd(Pt.keyField(),r))}return e.ce}function cr(t){const e=pe(t);return e.le||(e.le=UO(e,wl(t))),e.le}function UO(t,e){if(t.limitType==="F")return h_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Fd(i.field,s)});const n=t.endAt?new Od(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Od(t.startAt.position,t.startAt.inclusive):null;return h_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Tp(t,e){const n=t.filters.concat([e]);return new gc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function xp(t,e,n){return new gc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ph(t,e){return A0(cr(t),cr(e))&&t.limitType===e.limitType}function dS(t){return`${P0(cr(t))}|lt:${t.limitType}`}function no(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>lS(i)).join(", ")}]`),Ih(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Jo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Jo(i)).join(",")),`Target(${r})`}(cr(t))}; limitType=${t.limitType})`}function Ah(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):oe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of wl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=u_(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,wl(r),i)||r.endAt&&!function(o,a,l){const u=u_(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,wl(r),i))}(t,e)}function jO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function hS(t){return(e,n)=>{let r=!1;for(const i of wl(t)){const s=BO(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function BO(t,e,n){const r=t.field.isKeyField()?oe.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Xo(l,u):he()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return he()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Qi(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return tS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=new tt(oe.comparator);function Hr(){return zO}const fS=new tt(oe.comparator);function nl(...t){let e=fS;for(const n of t)e=e.insert(n.key,n);return e}function mS(t){let e=fS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function vs(){return _l()}function pS(){return _l()}function _l(){return new Fs(t=>t.toString(),(t,e)=>t.isEqual(e))}const $O=new tt(oe.comparator),HO=new _t(oe.comparator);function xe(...t){let e=HO;for(const n of t)e=e.add(n);return e}const WO=new _t(Pe);function qO(){return WO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vd(e)?"-0":e}}function gS(t){return{integerValue:""+t}}function KO(t,e){return EO(e)?gS(e):N0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(){this._=void 0}}function GO(t,e,n){return t instanceof Jl?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&I0(s)&&(s=Ch(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Zl?vS(t,e):t instanceof ec?wS(t,e):function(i,s){const o=yS(i,s),a=m_(o)+m_(i.Pe);return wp(o)&&wp(i.Pe)?gS(a):N0(i.serializer,a)}(t,e)}function QO(t,e,n){return t instanceof Zl?vS(t,e):t instanceof ec?wS(t,e):n}function yS(t,e){return t instanceof Ud?function(r){return wp(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Jl extends Rh{}class Zl extends Rh{constructor(e){super(),this.elements=e}}function vS(t,e){const n=_S(e);for(const r of t.elements)n.some(i=>dr(i,r))||n.push(r);return{arrayValue:{values:n}}}class ec extends Rh{constructor(e){super(),this.elements=e}}function wS(t,e){let n=_S(e);for(const r of t.elements)n=n.filter(i=>!dr(i,r));return{arrayValue:{values:n}}}class Ud extends Rh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function m_(t){return at(t.integerValue||t.doubleValue)}function _S(t){return C0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e,n){this.field=e,this.transform=n}}function XO(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Zl&&i instanceof Zl||r instanceof ec&&i instanceof ec?Yo(r.elements,i.elements,dr):r instanceof Ud&&i instanceof Ud?dr(r.Pe,i.Pe):r instanceof Jl&&i instanceof Jl}(t.transform,e.transform)}class JO{constructor(e,n){this.version=e,this.transformResults=n}}class jn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new jn}static exists(e){return new jn(void 0,e)}static updateTime(e){return new jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Uu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Nh{}function ES(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new xS(t.key,jn.none()):new yc(t.key,t.data,jn.none());{const n=t.data,r=nn.empty();let i=new _t(Pt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Yi(t.key,r,new mn(i.toArray()),jn.none())}}function ZO(t,e,n){t instanceof yc?function(i,s,o){const a=i.value.clone(),l=g_(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Yi?function(i,s,o){if(!Uu(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=g_(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(TS(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function El(t,e,n,r){return t instanceof yc?function(s,o,a,l){if(!Uu(s.precondition,o))return a;const u=s.value.clone(),d=y_(s.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Yi?function(s,o,a,l){if(!Uu(s.precondition,o))return a;const u=y_(s.fieldTransforms,l,o),d=o.data;return d.setAll(TS(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return Uu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function e9(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=yS(r.transform,i||null);s!=null&&(n===null&&(n=nn.empty()),n.set(r.field,s))}return n||null}function p_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Yo(r,i,(s,o)=>XO(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class yc extends Nh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Yi extends Nh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function TS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function g_(t,e,n){const r=new Map;ke(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,QO(o,a,n[i]))}return r}function y_(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,GO(s,o,e))}return r}class xS extends Nh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class t9 extends Nh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&ZO(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=El(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=El(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=pS();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=ES(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(me.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),xe())}isEqual(e){return this.batchId===e.batchId&&Yo(this.mutations,e.mutations,(n,r)=>p_(n,r))&&Yo(this.baseMutations,e.baseMutations,(n,r)=>p_(n,r))}}class k0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ke(e.mutations.length===r.length);let i=function(){return $O}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new k0(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut,Ce;function s9(t){switch(t){default:return he();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function bS(t){if(t===void 0)return $r("GRPC error has no .code"),$.UNKNOWN;switch(t){case ut.OK:return $.OK;case ut.CANCELLED:return $.CANCELLED;case ut.UNKNOWN:return $.UNKNOWN;case ut.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case ut.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case ut.INTERNAL:return $.INTERNAL;case ut.UNAVAILABLE:return $.UNAVAILABLE;case ut.UNAUTHENTICATED:return $.UNAUTHENTICATED;case ut.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case ut.NOT_FOUND:return $.NOT_FOUND;case ut.ALREADY_EXISTS:return $.ALREADY_EXISTS;case ut.PERMISSION_DENIED:return $.PERMISSION_DENIED;case ut.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case ut.ABORTED:return $.ABORTED;case ut.OUT_OF_RANGE:return $.OUT_OF_RANGE;case ut.UNIMPLEMENTED:return $.UNIMPLEMENTED;case ut.DATA_LOSS:return $.DATA_LOSS;default:return he()}}(Ce=ut||(ut={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o9(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a9=new xs([4294967295,4294967295],0);function v_(t){const e=o9().encode(t),n=new Kb;return n.update(e),new Uint8Array(n.digest())}function w_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new xs([n,r],0),new xs([i,s],0)]}class D0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new rl(`Invalid padding: ${n}`);if(r<0)throw new rl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new rl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new rl(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=xs.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(xs.fromNumber(r)));return i.compare(a9)===1&&(i=new xs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=v_(e),[r,i]=w_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new D0(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=v_(e),[r,i]=w_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class rl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,vc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new kh(me.min(),i,new tt(Pe),Hr(),xe())}}class vc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new vc(r,n,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class SS{constructor(e,n){this.targetId=e,this.me=n}}class IS{constructor(e,n,r=Dt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class __{constructor(){this.fe=0,this.ge=T_(),this.pe=Dt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=xe(),n=xe(),r=xe();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:he()}}),new vc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=T_()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ke(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class l9{constructor(e){this.Le=e,this.Be=new Map,this.ke=Hr(),this.qe=E_(),this.Qe=new tt(Pe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:he()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Ep(s))if(r===0){const o=new oe(s.path);this.Ue(n,o,zt.newNoDocument(o,me.min()))}else ke(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ji(r).toUint8Array()}catch(l){if(l instanceof nS)return Qo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new D0(o,i,s)}catch(l){return Qo(l instanceof rl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Ep(a.target)){const l=new oe(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,zt.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=xe();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new kh(e,n,this.Qe,this.ke,r);return this.ke=Hr(),this.qe=E_(),this.Qe=new tt(Pe),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new __,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new _t(Pe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||X("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new __),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function E_(){return new tt(oe.comparator)}function T_(){return new tt(oe.comparator)}const c9=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),u9=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),d9=(()=>({and:"AND",or:"OR"}))();class h9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function bp(t,e){return t.useProto3Json||Ih(e)?e:{value:e}}function jd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function CS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function f9(t,e){return jd(t,e.toTimestamp())}function ur(t){return ke(!!t),me.fromTimestamp(function(n){const r=Ui(n);return new gt(r.seconds,r.nanos)}(t))}function L0(t,e){return Sp(t,e).canonicalString()}function Sp(t,e){const n=function(i){return new qe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function PS(t){const e=qe.fromString(t);return ke(DS(e)),e}function Ip(t,e){return L0(t.databaseId,e.path)}function qf(t,e){const n=PS(e);if(n.get(1)!==t.databaseId.projectId)throw new ee($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ee($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new oe(RS(n))}function AS(t,e){return L0(t.databaseId,e)}function m9(t){const e=PS(t);return e.length===4?qe.emptyPath():RS(e)}function Cp(t){return new qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function RS(t){return ke(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function x_(t,e,n){return{name:Ip(t,e),fields:n.value.mapValue.fields}}function p9(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:he()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(ke(d===void 0||typeof d=="string"),Dt.fromBase64String(d||"")):(ke(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Dt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?$.UNKNOWN:bS(u.code);return new ee(d,u.message||"")}(o);n=new IS(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=qf(t,r.document.name),s=ur(r.document.updateTime),o=r.document.createTime?ur(r.document.createTime):me.min(),a=new nn({mapValue:{fields:r.document.fields}}),l=zt.newFoundDocument(i,s,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new ju(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=qf(t,r.document),s=r.readTime?ur(r.readTime):me.min(),o=zt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new ju([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=qf(t,r.document),s=r.removedTargetIds||[];n=new ju([],s,i,null)}else{if(!("filter"in e))return he();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new i9(i,s),a=r.targetId;n=new SS(a,o)}}return n}function g9(t,e){let n;if(e instanceof yc)n={update:x_(t,e.key,e.value)};else if(e instanceof xS)n={delete:Ip(t,e.key)};else if(e instanceof Yi)n={update:x_(t,e.key,e.data),updateMask:S9(e.fieldMask)};else{if(!(e instanceof t9))return he();n={verify:Ip(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Jl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Zl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ec)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ud)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw he()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:f9(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:he()}(t,e.precondition)),n}function y9(t,e){return t&&t.length>0?(ke(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?ur(i.updateTime):ur(s);return o.isEqual(me.min())&&(o=ur(s)),new JO(o,i.transformResults||[])}(n,e))):[]}function v9(t,e){return{documents:[AS(t,e.path)]}}function w9(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=AS(t,i);const s=function(u){if(u.length!==0)return kS($n.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(d=>function(p){return{field:ro(p.field),direction:T9(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=bp(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function _9(t){let e=m9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ke(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const p=NS(h);return p instanceof $n&&oS(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(E){return new Fd(io(E.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,Ih(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(h){const p=!!h.before,y=h.values||[];return new Od(y,p)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const p=!h.before,y=h.values||[];return new Od(y,p)}(n.endAt)),FO(e,i,o,s,a,"F",l,u)}function E9(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return he()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function NS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=io(n.unaryFilter.field);return ht.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=io(n.unaryFilter.field);return ht.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=io(n.unaryFilter.field);return ht.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=io(n.unaryFilter.field);return ht.create(o,"!=",{nullValue:"NULL_VALUE"});default:return he()}}(t):t.fieldFilter!==void 0?function(n){return ht.create(io(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return he()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return $n.create(n.compositeFilter.filters.map(r=>NS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return he()}}(n.compositeFilter.op))}(t):he()}function T9(t){return c9[t]}function x9(t){return u9[t]}function b9(t){return d9[t]}function ro(t){return{fieldPath:t.canonicalString()}}function io(t){return Pt.fromServerFormat(t.fieldPath)}function kS(t){return t instanceof ht?function(n){if(n.op==="=="){if(c_(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NAN"}};if(l_(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(c_(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NOT_NAN"}};if(l_(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ro(n.field),op:x9(n.op),value:n.value}}}(t):t instanceof $n?function(n){const r=n.getFilters().map(i=>kS(i));return r.length===1?r[0]:{compositeFilter:{op:b9(n.op),filters:r}}}(t):he()}function S9(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function DS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,n,r,i,s=me.min(),o=me.min(),a=Dt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new vi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(e){this.ct=e}}function C9(t){const e=_9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?xp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(){this.un=new A9}addToCollectionParentIndex(e,n){return this.un.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(Fi.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(Fi.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class A9{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new _t(qe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new _t(qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class en{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new en(e,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(41943040,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Zo(0)}static kn(){return new Zo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_([t,e],[n,r]){const i=Pe(t,n);return i===0?Pe(e,r):i}class R9{constructor(e){this.Un=e,this.buffer=new _t(S_),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();S_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class N9{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){X("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ha(n)?X("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await da(n)}await this.Hn(3e5)})}}class k9{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return z.resolve(Sh.oe);const r=new R9(n);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(X("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(b_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(X("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),b_):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,i,s,o,a,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(X("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),to()<=Te.DEBUG&&X("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function D9(t,e){return new k9(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(){this.changes=new Fs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V9{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&El(r.mutation,i,mn.empty(),gt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,xe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=xe()){const i=vs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=nl();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=vs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,xe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Hr();const o=_l(),a=function(){return _l()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Yi)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),El(d.mutation,u,d.mutation.getFieldMask(),gt.now())):o.set(u.key,mn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var h;return a.set(u,new M9(d,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=_l();let i=new tt((o,a)=>o-a),s=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||mn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const h=(i.get(a.batchId)||xe()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=pS();d.forEach(p=>{if(!s.has(p)){const y=ES(n.get(p),r.get(p));y!==null&&h.set(p,y),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return oe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):uS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):z.resolve(vs());let a=-1,l=s;return o.next(u=>z.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?z.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,xe())).next(d=>({batchId:a,changes:mS(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new oe(n)).next(r=>{let i=nl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=nl();return this.indexManager.getCollectionParents(e,s).next(a=>z.forEach(a,l=>{const u=function(h,p){return new gc(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,zt.newInvalidDocument(d)))});let a=nl();return o.forEach((l,u)=>{const d=s.get(l);d!==void 0&&El(d.mutation,u,mn.empty(),gt.now()),Ah(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return z.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ur(i.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:C9(i.bundledQuery),readTime:ur(i.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(){this.overlays=new tt(oe.comparator),this.Ir=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=vs();return z.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const i=vs(),s=n.length+1,o=new oe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new tt((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=vs(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=vs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return z.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new r9(n,r));let s=this.Ir.get(n);s===void 0&&(s=xe(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(){this.sessionToken=Dt.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(){this.Tr=new _t(yt.Er),this.dr=new _t(yt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new yt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new yt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new oe(new qe([])),r=new yt(n,e),i=new yt(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new oe(new qe([])),r=new yt(n,e),i=new yt(n,e+1);let s=xe();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new yt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class yt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return oe.comparator(e.key,n.key)||Pe(e.wr,n.wr)}static Ar(e,n){return Pe(e.wr,n.wr)||oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new _t(yt.Er)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new n9(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new yt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return z.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new yt(n,0),i=new yt(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),z.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new _t(Pe);return n.forEach(i=>{const s=new yt(i,0),o=new yt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),z.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;oe.isDocumentKey(s)||(s=s.child(""));const o=new yt(new oe(s),0);let a=new _t(Pe);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},o),z.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ke(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return z.forEach(n.mutations,i=>{const s=new yt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new yt(n,0),i=this.br.firstAfterOrEqual(r);return z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{constructor(e){this.Mr=e,this.docs=function(){return new tt(oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():zt.newInvalidDocument(n))}getEntries(e,n){let r=Hr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():zt.newInvalidDocument(i))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Hr();const o=n.path,a=new oe(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||yO(gO(d),r)<=0||(i.has(d.key)||Ah(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return z.resolve(s)}getAllFromCollectionGroup(e,n,r,i){he()}Or(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new z9(this)}getSize(e){return z.resolve(this.size)}}class z9 extends L9{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(e){this.persistence=e,this.Nr=new Fs(n=>P0(n),A0),this.lastRemoteSnapshotVersion=me.min(),this.highestTargetId=0,this.Lr=0,this.Br=new M0,this.targetCount=0,this.kr=Zo.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),z.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Zo(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.Kn(n),z.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),z.waitFor(s).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),z.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Sh(0),this.Kr=!1,this.Kr=!0,this.$r=new U9,this.referenceDelegate=e(this),this.Ur=new $9(this),this.indexManager=new P9,this.remoteDocumentCache=function(i){return new B9(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new I9(n),this.Gr=new O9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new F9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new j9(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){X("MemoryPersistence","Starting transaction:",e);const i=new H9(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return z.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class H9 extends wO{constructor(e){super(),this.currentSequenceNumber=e}}class V0{constructor(e){this.persistence=e,this.Jr=new M0,this.Yr=null}static Zr(e){return new V0(e)}get Xr(){if(this.Yr)return this.Yr;throw he()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),z.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Xr,r=>{const i=oe.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,me.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return z.or([()=>z.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}class Bd{constructor(e,n){this.persistence=e,this.ti=new Fs(r=>TO(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=D9(this,n)}static Zr(e,n){return new Bd(e,n)}zr(){}jr(e){return z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Yn(e){const n=this.er(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}Zn(e,n){return z.forEach(this.ti,(r,i)=>this.nr(e,r,i).next(s=>s?z.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Or(e,o=>this.nr(e,o,n).next(a=>{a||(r++,s.removeEntry(o,me.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ti.set(n,e.currentSequenceNumber),z.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),z.resolve()}removeReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),z.resolve()}updateLimboDocument(e,n){return this.ti.set(n,e.currentSequenceNumber),z.resolve()}Wr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ou(e.data.value)),n}nr(e,n,r){return z.or([()=>this.persistence.Hr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ti.get(n);return z.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=xe(),i=xe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new O0(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return CM()?8:_O(Wt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new W9;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(to()<=Te.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",no(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),z.resolve()):(to()<=Te.DEBUG&&X("QueryEngine","Query:",no(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(to()<=Te.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",no(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,cr(n))):z.resolve())}Yi(e,n){if(f_(n))return z.resolve(null);let r=cr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=xp(n,null,"F"),r=cr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=xe(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,xp(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return f_(n)||i.isEqual(me.min())?z.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?z.resolve(null):(to()<=Te.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),no(n)),this.rs(e,o,n,pO(i,-1)).next(a=>a))})}ts(e,n){let r=new _t(hS(e));return n.forEach((i,s)=>{Ah(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return to()<=Te.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",no(n)),this.Ji.getDocumentsMatchingQuery(e,n,Fi.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K9{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new tt(Pe),this._s=new Fs(s=>P0(s),A0),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new V9(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function G9(t,e,n,r){return new K9(t,e,n,r)}async function MS(t,e){const n=pe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=xe();for(const u of i){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function Q9(t,e){const n=pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const h=u.batch,p=h.keys();let y=z.resolve();return p.forEach(E=>{y=y.next(()=>d.getEntry(l,E)).next(S=>{const R=u.docVersions.get(E);ke(R!==null),S.version.compareTo(R)<0&&(h.applyToRemoteDocument(S,u),S.isValidDocument()&&(S.setReadTime(u.commitVersion),d.addEntry(S)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=xe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function VS(t){const e=pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Y9(t,e){const n=pe(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((d,h)=>{const p=i.get(h);if(!p)return;a.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,h)));let y=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?y=y.withResumeToken(Dt.EMPTY_BYTE_STRING,me.min()).withLastLimboFreeSnapshotVersion(me.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,r)),i=i.insert(h,y),function(S,R,T){return S.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(p,y,d)&&a.push(n.Ur.updateTargetData(s,y))});let l=Hr(),u=xe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(X9(s,o,e.documentUpdates).next(d=>{l=d.Ps,u=d.Is})),!r.isEqual(me.min())){const d=n.Ur.getLastRemoteSnapshotVersion(s).next(h=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return z.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=i,s))}function X9(t,e,n){let r=xe(),i=xe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Hr();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(me.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):X("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function J9(t,e){const n=pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Z9(t,e){const n=pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,z.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new vi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Pp(t,e,n){const r=pe(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ha(o))throw o;X("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function I_(t,e,n){const r=pe(t);let i=me.min(),s=xe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const h=pe(l),p=h._s.get(d);return p!==void 0?z.resolve(h.os.get(p)):h.Ur.getTargetData(u,d)}(r,o,cr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:me.min(),n?s:xe())).next(a=>(e7(r,jO(e),a),{documents:a,Ts:s})))}function e7(t,e,n){let r=t.us.get(e)||me.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class C_{constructor(){this.activeTargetIds=qO()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class t7{constructor(){this.so=new C_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new C_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){X("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){X("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mu=null;function Kf(){return mu===null?mu=function(){return 268435456+Math.round(2147483648*Math.random())}():mu++,"0x"+mu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i7{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft="WebChannelConnection";class s7 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=Kf(),l=this.xo(n,r.toUriEncodedString());X("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,l,u,i).then(d=>(X("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Qo("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ua}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=r7[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Kf();return new Promise((o,a)=>{const l=new Gb;l.setWithCredentials(!0),l.listenOnce(Qb.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Vu.NO_ERROR:const d=l.getResponseJson();X(Ft,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Vu.TIMEOUT:X(Ft,`RPC '${e}' ${s} timed out`),a(new ee($.DEADLINE_EXCEEDED,"Request time out"));break;case Vu.HTTP_ERROR:const h=l.getStatus();if(X(Ft,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const y=p==null?void 0:p.error;if(y&&y.status&&y.message){const E=function(R){const T=R.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(T)>=0?T:$.UNKNOWN}(y.status);a(new ee(E,y.message))}else a(new ee($.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ee($.UNAVAILABLE,"Connection failed."));break;default:he()}}finally{X(Ft,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);X(Ft,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=Kf(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Jb(),a=Xb(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");X(Ft,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=o.createWebChannel(d,l);let p=!1,y=!1;const E=new i7({Io:R=>{y?X(Ft,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(p||(X(Ft,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),X(Ft,`RPC '${e}' stream ${i} sending:`,R),h.send(R))},To:()=>h.close()}),S=(R,T,w)=>{R.listen(T,x=>{try{w(x)}catch(L){setTimeout(()=>{throw L},0)}})};return S(h,tl.EventType.OPEN,()=>{y||(X(Ft,`RPC '${e}' stream ${i} transport opened.`),E.yo())}),S(h,tl.EventType.CLOSE,()=>{y||(y=!0,X(Ft,`RPC '${e}' stream ${i} transport closed`),E.So())}),S(h,tl.EventType.ERROR,R=>{y||(y=!0,Qo(Ft,`RPC '${e}' stream ${i} transport errored:`,R),E.So(new ee($.UNAVAILABLE,"The operation could not be completed")))}),S(h,tl.EventType.MESSAGE,R=>{var T;if(!y){const w=R.data[0];ke(!!w);const x=w,L=x.error||((T=x[0])===null||T===void 0?void 0:T.error);if(L){X(Ft,`RPC '${e}' stream ${i} received error:`,L);const j=L.status;let k=function(b){const P=ut[b];if(P!==void 0)return bS(P)}(j),A=L.message;k===void 0&&(k=$.INTERNAL,A="Unknown error status: "+j+" with message "+L.message),y=!0,E.So(new ee(k,A)),h.close()}else X(Ft,`RPC '${e}' stream ${i} received:`,w),E.bo(w)}}),S(a,Yb.STAT_EVENT,R=>{R.stat===yp.PROXY?X(Ft,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===yp.NOPROXY&&X(Ft,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.wo()},0),E}}function Gf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(t){return new h9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&X("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new OS(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?($r(n.toString()),$r("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ee($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return X("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(X("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class o7 extends FS{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=p9(this.serializer,e),r=function(s){if(!("targetChange"in s))return me.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?me.min():o.readTime?ur(o.readTime):me.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Cp(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Ep(l)?{documents:v9(s,l)}:{query:w9(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=CS(s,o.resumeToken);const u=bp(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(me.min())>0){a.readTime=jd(s,o.snapshotVersion.toTimestamp());const u=bp(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=E9(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Cp(this.serializer),n.removeTarget=e,this.a_(n)}}class a7 extends FS{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return ke(!!e.streamToken),this.lastStreamToken=e.streamToken,ke(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=y9(e.writeResults,e.commitTime),r=ur(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Cp(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>g9(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l7 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ee($.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Sp(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ee($.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Sp(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ee($.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class c7{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?($r(n),this.D_=!1):X("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u7{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Us(this)&&(X("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=pe(l);u.L_.add(4),await wc(u),u.q_.set("Unknown"),u.L_.delete(4),await Lh(u)}(this))})}),this.q_=new c7(r,i)}}async function Lh(t){if(Us(t))for(const e of t.B_)await e(!0)}async function wc(t){for(const e of t.B_)await e(!1)}function US(t,e){const n=pe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),B0(n)?j0(n):fa(n).r_()&&U0(n,e))}function F0(t,e){const n=pe(t),r=fa(n);n.N_.delete(e),r.r_()&&jS(n,e),n.N_.size===0&&(r.r_()?r.o_():Us(n)&&n.q_.set("Unknown"))}function U0(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(me.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}fa(t).A_(e)}function jS(t,e){t.Q_.xe(e),fa(t).R_(e)}function j0(t){t.Q_=new l9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),fa(t).start(),t.q_.v_()}function B0(t){return Us(t)&&!fa(t).n_()&&t.N_.size>0}function Us(t){return pe(t).L_.size===0}function BS(t){t.Q_=void 0}async function d7(t){t.q_.set("Online")}async function h7(t){t.N_.forEach((e,n)=>{U0(t,e)})}async function f7(t,e){BS(t),B0(t)?(t.q_.M_(e),j0(t)):t.q_.set("Unknown")}async function m7(t,e,n){if(t.q_.set("Online"),e instanceof IS&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){X("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await zd(t,r)}else if(e instanceof ju?t.Q_.Ke(e):e instanceof SS?t.Q_.He(e):t.Q_.We(e),!n.isEqual(me.min()))try{const r=await VS(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.N_.get(u);d&&s.N_.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=s.N_.get(l);if(!d)return;s.N_.set(l,d.withResumeToken(Dt.EMPTY_BYTE_STRING,d.snapshotVersion)),jS(s,l);const h=new vi(d.target,l,u,d.sequenceNumber);U0(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){X("RemoteStore","Failed to raise snapshot:",r),await zd(t,r)}}async function zd(t,e,n){if(!ha(e))throw e;t.L_.add(1),await wc(t),t.q_.set("Offline"),n||(n=()=>VS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{X("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Lh(t)})}function zS(t,e){return e().catch(n=>zd(t,n,e))}async function Mh(t){const e=pe(t),n=zi(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;p7(e);)try{const i=await J9(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,g7(e,i)}catch(i){await zd(e,i)}$S(e)&&HS(e)}function p7(t){return Us(t)&&t.O_.length<10}function g7(t,e){t.O_.push(e);const n=zi(t);n.r_()&&n.V_&&n.m_(e.mutations)}function $S(t){return Us(t)&&!zi(t).n_()&&t.O_.length>0}function HS(t){zi(t).start()}async function y7(t){zi(t).p_()}async function v7(t){const e=zi(t);for(const n of t.O_)e.m_(n.mutations)}async function w7(t,e,n){const r=t.O_.shift(),i=k0.from(r,e,n);await zS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Mh(t)}async function _7(t,e){e&&zi(t).V_&&await async function(r,i){if(function(o){return s9(o)&&o!==$.ABORTED}(i.code)){const s=r.O_.shift();zi(r).s_(),await zS(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Mh(r)}}(t,e),$S(t)&&HS(t)}async function A_(t,e){const n=pe(t);n.asyncQueue.verifyOperationInProgress(),X("RemoteStore","RemoteStore received new credentials");const r=Us(n);n.L_.add(3),await wc(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Lh(n)}async function E7(t,e){const n=pe(t);e?(n.L_.delete(2),await Lh(n)):e||(n.L_.add(2),await wc(n),n.q_.set("Unknown"))}function fa(t){return t.K_||(t.K_=function(n,r,i){const s=pe(n);return s.w_(),new o7(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:d7.bind(null,t),Ro:h7.bind(null,t),mo:f7.bind(null,t),d_:m7.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),B0(t)?j0(t):t.q_.set("Unknown")):(await t.K_.stop(),BS(t))})),t.K_}function zi(t){return t.U_||(t.U_=function(n,r,i){const s=pe(n);return s.w_(),new a7(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:y7.bind(null,t),mo:_7.bind(null,t),f_:v7.bind(null,t),g_:w7.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Mh(t)):(await t.U_.stop(),t.O_.length>0&&(X("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new z0(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ee($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $0(t,e){if($r("AsyncQueue",`${e}: ${t}`),ha(t))return new ee($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this.comparator=e?(n,r)=>e(n,r)||oe.comparator(n.key,r.key):(n,r)=>oe.comparator(n.key,r.key),this.keyedMap=nl(),this.sortedSet=new tt(this.comparator)}static emptySet(e){return new Do(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Do)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Do;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(){this.W_=new tt(oe.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):he():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ea{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ea(e,n,Do.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ph(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class x7{constructor(){this.queries=N_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=pe(n),s=i.queries;i.queries=N_(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new ee($.ABORTED,"Firestore shutting down"))}}function N_(){return new Fs(t=>dS(t),Ph)}async function WS(t,e){const n=pe(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new T7,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=$0(o,`Initialization of query '${no(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&H0(n)}async function qS(t,e){const n=pe(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function b7(t,e){const n=pe(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&H0(n)}function S7(t,e,n){const r=pe(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function H0(t){t.Y_.forEach(e=>{e.next()})}var Ap,k_;(k_=Ap||(Ap={})).ea="default",k_.Cache="cache";class KS{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ea(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=ea.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Ap.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e){this.key=e}}class QS{constructor(e){this.key=e}}class I7{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=xe(),this.mutatedKeys=xe(),this.Aa=hS(e),this.Ra=new Do(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new R_,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const p=i.get(d),y=Ah(this.query,h)?h:null,E=!!p&&this.mutatedKeys.has(p.key),S=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let R=!1;p&&y?p.data.isEqual(y.data)?E!==S&&(r.track({type:3,doc:y}),R=!0):this.ga(p,y)||(r.track({type:2,doc:y}),R=!0,(l&&this.Aa(y,l)>0||u&&this.Aa(y,u)<0)&&(a=!0)):!p&&y?(r.track({type:0,doc:y}),R=!0):p&&!y&&(r.track({type:1,doc:p}),R=!0,(l||u)&&(a=!0)),R&&(y?(o=o.add(y),s=S?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,h)=>function(y,E){const S=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return he()}};return S(y)-S(E)}(d.type,h.type)||this.Aa(d.doc,h.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new ea(this.query,e.Ra,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new R_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=xe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new QS(r))}),this.da.forEach(r=>{e.has(r)||n.push(new GS(r))}),n}ba(e){this.Ta=e.Ts,this.da=xe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return ea.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class C7{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class P7{constructor(e){this.key=e,this.va=!1}}class A7{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Fs(a=>dS(a),Ph),this.Ma=new Map,this.xa=new Set,this.Oa=new tt(oe.comparator),this.Na=new Map,this.La=new M0,this.Ba={},this.ka=new Map,this.qa=Zo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function R7(t,e,n=!0){const r=tI(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await YS(r,e,n,!0),i}async function N7(t,e){const n=tI(t);await YS(n,e,!0,!1)}async function YS(t,e,n,r){const i=await Z9(t.localStore,cr(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await k7(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&US(t.remoteStore,i),a}async function k7(t,e,n,r,i){t.Ka=(h,p,y)=>async function(S,R,T,w){let x=R.view.ma(T);x.ns&&(x=await I_(S.localStore,R.query,!1).then(({documents:A})=>R.view.ma(A,x)));const L=w&&w.targetChanges.get(R.targetId),j=w&&w.targetMismatches.get(R.targetId)!=null,k=R.view.applyChanges(x,S.isPrimaryClient,L,j);return L_(S,R.targetId,k.wa),k.snapshot}(t,h,p,y);const s=await I_(t.localStore,e,!0),o=new I7(e,s.Ts),a=o.ma(s.documents),l=vc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);L_(t,n,u.wa);const d=new C7(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function D7(t,e,n){const r=pe(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Ph(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Pp(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&F0(r.remoteStore,i.targetId),Rp(r,i.targetId)}).catch(da)):(Rp(r,i.targetId),await Pp(r.localStore,i.targetId,!0))}async function L7(t,e){const n=pe(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),F0(n.remoteStore,r.targetId))}async function M7(t,e,n){const r=z7(t);try{const i=await function(o,a){const l=pe(o),u=gt.now(),d=a.reduce((y,E)=>y.add(E.key),xe());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let E=Hr(),S=xe();return l.cs.getEntries(y,d).next(R=>{E=R,E.forEach((T,w)=>{w.isValidDocument()||(S=S.add(T))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,E)).next(R=>{h=R;const T=[];for(const w of a){const x=e9(w,h.get(w.key).overlayedDocument);x!=null&&T.push(new Yi(w.key,x,rS(x.value.mapValue),jn.exists(!0)))}return l.mutationQueue.addMutationBatch(y,u,T,a)}).next(R=>{p=R;const T=R.applyToLocalDocumentSet(h,S);return l.documentOverlayCache.saveOverlays(y,R.batchId,T)})}).then(()=>({batchId:p.batchId,changes:mS(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new tt(Pe)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await _c(r,i.changes),await Mh(r.remoteStore)}catch(i){const s=$0(i,"Failed to persist write");n.reject(s)}}async function XS(t,e){const n=pe(t);try{const r=await Y9(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(ke(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?ke(o.va):i.removedDocuments.size>0&&(ke(o.va),o.va=!1))}),await _c(n,r,e)}catch(r){await da(r)}}function D_(t,e,n){const r=pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=pe(o);l.onlineState=a;let u=!1;l.queries.forEach((d,h)=>{for(const p of h.j_)p.Z_(a)&&(u=!0)}),u&&H0(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function V7(t,e,n){const r=pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new tt(oe.comparator);o=o.insert(s,zt.newNoDocument(s,me.min()));const a=xe().add(s),l=new kh(me.min(),new Map,new tt(Pe),o,a);await XS(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),W0(r)}else await Pp(r.localStore,e,!1).then(()=>Rp(r,e,n)).catch(da)}async function O7(t,e){const n=pe(t),r=e.batch.batchId;try{const i=await Q9(n.localStore,e);ZS(n,r,null),JS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await _c(n,i)}catch(i){await da(i)}}async function F7(t,e,n){const r=pe(t);try{const i=await function(o,a){const l=pe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(ke(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);ZS(r,e,n),JS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await _c(r,i)}catch(i){await da(i)}}function JS(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function ZS(t,e,n){const r=pe(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Rp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||eI(t,r)})}function eI(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(F0(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),W0(t))}function L_(t,e,n){for(const r of n)r instanceof GS?(t.La.addReference(r.key,e),U7(t,r)):r instanceof QS?(X("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||eI(t,r.key)):he()}function U7(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(X("SyncEngine","New document in limbo: "+n),t.xa.add(r),W0(t))}function W0(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new oe(qe.fromString(e)),r=t.qa.next();t.Na.set(r,new P7(n)),t.Oa=t.Oa.insert(n,r),US(t.remoteStore,new vi(cr(R0(n.path)),r,"TargetPurposeLimboResolution",Sh.oe))}}async function _c(t,e,n){const r=pe(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=O0.Wi(l.targetId,u);s.push(h)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,u){const d=pe(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>z.forEach(u,p=>z.forEach(p.$i,y=>d.persistence.referenceDelegate.addReference(h,p.targetId,y)).next(()=>z.forEach(p.Ui,y=>d.persistence.referenceDelegate.removeReference(h,p.targetId,y)))))}catch(h){if(!ha(h))throw h;X("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const p=h.targetId;if(!h.fromCache){const y=d.os.get(p),E=y.snapshotVersion,S=y.withLastLimboFreeSnapshotVersion(E);d.os=d.os.insert(p,S)}}}(r.localStore,s))}async function j7(t,e){const n=pe(t);if(!n.currentUser.isEqual(e)){X("SyncEngine","User change. New user:",e.toKey());const r=await MS(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new ee($.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await _c(n,r.hs)}}function B7(t,e){const n=pe(t),r=n.Na.get(e);if(r&&r.va)return xe().add(r.key);{let i=xe();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function tI(t){const e=pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=XS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=B7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=V7.bind(null,e),e.Ca.d_=b7.bind(null,e.eventManager),e.Ca.$a=S7.bind(null,e.eventManager),e}function z7(t){const e=pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=O7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=F7.bind(null,e),e}class $d{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Dh(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return G9(this.persistence,new q9,e.initialUser,this.serializer)}Ga(e){return new LS(V0.Zr,this.serializer)}Wa(e){return new t7}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$d.provider={build:()=>new $d};class $7 extends $d{constructor(e){super(),this.cacheSizeBytes=e}ja(e,n){ke(this.persistence.referenceDelegate instanceof Bd);const r=this.persistence.referenceDelegate.garbageCollector;return new N9(r,e.asyncQueue,n)}Ga(e){const n=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new LS(r=>Bd.Zr(r,n),this.serializer)}}class Np{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>D_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=j7.bind(null,this.syncEngine),await E7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new x7}()}createDatastore(e){const n=Dh(e.databaseInfo.databaseId),r=function(s){return new s7(s)}(e.databaseInfo);return function(s,o,a,l){return new l7(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new u7(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>D_(this.syncEngine,n,0),function(){return P_.D()?new P_:new n7}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,d){const h=new A7(i,s,o,a,l,u);return d&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=pe(i);X("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await wc(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Np.provider={build:()=>new Np};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):$r("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H7{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=jt.UNAUTHENTICATED,this.clientId=eS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{X("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(X("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=$0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Qf(t,e){t.asyncQueue.verifyOperationInProgress(),X("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await MS(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function M_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await W7(t);X("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>A_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>A_(e.remoteStore,i)),t._onlineComponents=e}async function W7(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){X("FirestoreClient","Using user provided OfflineComponentProvider");try{await Qf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===$.FAILED_PRECONDITION||i.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Qo("Error using user provided cache. Falling back to memory cache: "+n),await Qf(t,new $d)}}else X("FirestoreClient","Using default OfflineComponentProvider"),await Qf(t,new $7(void 0));return t._offlineComponents}async function rI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(X("FirestoreClient","Using user provided OnlineComponentProvider"),await M_(t,t._uninitializedComponentsProvider._online)):(X("FirestoreClient","Using default OnlineComponentProvider"),await M_(t,new Np))),t._onlineComponents}function q7(t){return rI(t).then(e=>e.syncEngine)}async function iI(t){const e=await rI(t),n=e.eventManager;return n.onListen=R7.bind(null,e.syncEngine),n.onUnlisten=D7.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=N7.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=L7.bind(null,e.syncEngine),n}function K7(t,e,n={}){const r=new Mr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new nI({next:p=>{d.Za(),o.enqueueAndForget(()=>qS(s,h));const y=p.docs.has(a);!y&&p.fromCache?u.reject(new ee($.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&p.fromCache&&l&&l.source==="server"?u.reject(new ee($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),h=new KS(R0(a.path),d,{includeMetadataChanges:!0,_a:!0});return WS(s,h)}(await iI(t),t.asyncQueue,e,n,r)),r.promise}function G7(t,e,n={}){const r=new Mr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new nI({next:p=>{d.Za(),o.enqueueAndForget(()=>qS(s,h)),p.fromCache&&l.source==="server"?u.reject(new ee($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),h=new KS(a,d,{includeMetadataChanges:!0,_a:!0});return WS(s,h)}(await iI(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(t,e,n){if(!n)throw new ee($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Q7(t,e,n,r){if(e===!0&&r===!0)throw new ee($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function O_(t){if(!oe.isDocumentKey(t))throw new ee($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function F_(t){if(oe.isDocumentKey(t))throw new ee($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Vh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":he()}function hr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ee($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Vh(t);throw new ee($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ee($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ee($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Q7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ee($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ee($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ee($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Oh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new U_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ee($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ee($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new U_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new oO;switch(r.type){case"firstParty":return new uO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ee($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=V_.get(n);r&&(X("ComponentProvider","Removing Datastore"),V_.delete(n),r.terminate())}(this),Promise.resolve()}}function Y7(t,e,n,r={}){var i;const s=(t=hr(t,Oh))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Qo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=jt.MOCK_USER;else{a=_M(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ee($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new jt(u)}t._authCredentials=new aO(new Zb(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ma(this.firestore,e,this._query)}}class Yt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ni(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yt(this.firestore,e,this._key)}}class Ni extends ma{constructor(e,n,r){super(e,n,R0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yt(this.firestore,null,new oe(e))}withConverter(e){return new Ni(this.firestore,e,this._path)}}function tr(t,e,...n){if(t=Et(t),oI("collection","path",e),t instanceof Oh){const r=qe.fromString(e,...n);return F_(r),new Ni(t,null,r)}{if(!(t instanceof Yt||t instanceof Ni))throw new ee($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(qe.fromString(e,...n));return F_(r),new Ni(t.firestore,null,r)}}function At(t,e,...n){if(t=Et(t),arguments.length===1&&(e=eS.newId()),oI("doc","path",e),t instanceof Oh){const r=qe.fromString(e,...n);return O_(r),new Yt(t,null,new oe(r))}{if(!(t instanceof Yt||t instanceof Ni))throw new ee($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(qe.fromString(e,...n));return O_(r),new Yt(t.firestore,t instanceof Ni?t.converter:null,new oe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new OS(this,"async_queue_retry"),this.Vu=()=>{const r=Gf();r&&X("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Gf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Gf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Mr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!ha(e))throw e;X("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw $r("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=z0.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&he()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class pa extends Oh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new j_,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new j_(e),this._firestoreClient=void 0,await e}}}function X7(t,e){const n=typeof t=="object"?t:cb(),r=typeof t=="string"?t:e||"(default)",i=p0(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=vM("firestore");s&&Y7(i,...s)}return i}function q0(t){if(t._terminated)throw new ee($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||J7(t),t._firestoreClient}function J7(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,d){return new SO(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,sI(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new H7(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ta(Dt.fromBase64String(e))}catch(n){throw new ee($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ta(Dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ee($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ee($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ee($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z7=/^__.*__$/;class eF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Yi(e,this.data,this.fieldMask,n,this.fieldTransforms):new yc(e,this.data,n,this.fieldTransforms)}}class aI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Yi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function lI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he()}}class Q0{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Q0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Hd(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(lI(this.Cu)&&Z7.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class tF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Dh(e)}Qu(e,n,r,i=!1){return new Q0({Cu:e,methodName:n,qu:r,path:Pt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jh(t){const e=t._freezeSettings(),n=Dh(t._databaseId);return new tF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function cI(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);X0("Data must be an object, but it was:",o,r);const a=uI(r,o);let l,u;if(s.merge)l=new mn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const p=kp(e,h,n);if(!o.contains(p))throw new ee($.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);hI(d,p)||d.push(p)}l=new mn(d),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new eF(new nn(a),l,u)}class Bh extends Uh{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bh}}class Y0 extends Uh{_toFieldTransform(e){return new YO(e.path,new Jl)}isEqual(e){return e instanceof Y0}}function nF(t,e,n,r){const i=t.Qu(1,e,n);X0("Data must be an object, but it was:",i,r);const s=[],o=nn.empty();Qi(r,(l,u)=>{const d=J0(e,l,n);u=Et(u);const h=i.Nu(d);if(u instanceof Bh)s.push(d);else{const p=Ec(u,h);p!=null&&(s.push(d),o.set(d,p))}});const a=new mn(s);return new aI(o,a,i.fieldTransforms)}function rF(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[kp(e,r,n)],l=[i];if(s.length%2!=0)throw new ee($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)a.push(kp(e,s[p])),l.push(s[p+1]);const u=[],d=nn.empty();for(let p=a.length-1;p>=0;--p)if(!hI(u,a[p])){const y=a[p];let E=l[p];E=Et(E);const S=o.Nu(y);if(E instanceof Bh)u.push(y);else{const R=Ec(E,S);R!=null&&(u.push(y),d.set(y,R))}}const h=new mn(u);return new aI(d,h,o.fieldTransforms)}function iF(t,e,n,r=!1){return Ec(n,t.Qu(r?4:3,e))}function Ec(t,e){if(dI(t=Et(t)))return X0("Unsupported field value:",e,t),uI(t,e);if(t instanceof Uh)return function(r,i){if(!lI(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Ec(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Et(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return KO(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=gt.fromDate(r);return{timestampValue:jd(i.serializer,s)}}if(r instanceof gt){const s=new gt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:jd(i.serializer,s)}}if(r instanceof K0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ta)return{bytesValue:CS(i.serializer,r._byteString)};if(r instanceof Yt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:L0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof G0)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return N0(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Vh(r)}`)}(t,e)}function uI(t,e){const n={};return tS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qi(t,(r,i)=>{const s=Ec(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function dI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof gt||t instanceof K0||t instanceof ta||t instanceof Yt||t instanceof Uh||t instanceof G0)}function X0(t,e,n){if(!dI(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Vh(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function kp(t,e,n){if((e=Et(e))instanceof Fh)return e._internalPath;if(typeof e=="string")return J0(t,e);throw Hd("Field path arguments must be of type string or ",t,!1,void 0,n)}const sF=new RegExp("[~\\*/\\[\\]]");function J0(t,e,n){if(e.search(sF)>=0)throw Hd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Fh(...e.split("."))._internalPath}catch{throw Hd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Hd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ee($.INVALID_ARGUMENT,a+t+l)}function hI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new oF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Z0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class oF extends fI{data(){return super.data()}}function Z0(t,e){return typeof e=="string"?J0(t,e):e instanceof Fh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ee($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ey{}class lF extends ey{}function Lo(t,e,...n){let r=[];e instanceof ey&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof ty).length,a=s.filter(l=>l instanceof zh).length;if(o>1||o>0&&a>0)throw new ee($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class zh extends lF{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new zh(e,n,r)}_apply(e){const n=this._parse(e);return mI(e._query,n),new ma(e.firestore,e.converter,Tp(e._query,n))}_parse(e){const n=jh(e.firestore);return function(s,o,a,l,u,d,h){let p;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ee($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){z_(h,d);const y=[];for(const E of h)y.push(B_(l,s,E));p={arrayValue:{values:y}}}else p=B_(l,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||z_(h,d),p=iF(a,o,h,d==="in"||d==="not-in");return ht.create(u,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Mo(t,e,n){const r=e,i=Z0("where",t);return zh._create(i,r,n)}class ty extends ey{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ty(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:$n.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)mI(o,l),o=Tp(o,l)}(e._query,n),new ma(e.firestore,e.converter,Tp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function B_(t,e,n){if(typeof(n=Et(n))=="string"){if(n==="")throw new ee($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uS(e)&&n.indexOf("/")!==-1)throw new ee($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(qe.fromString(n));if(!oe.isDocumentKey(r))throw new ee($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return a_(t,new oe(r))}if(n instanceof Yt)return a_(t,n._key);throw new ee($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vh(n)}.`)}function z_(t,e){if(!Array.isArray(t)||t.length===0)throw new ee($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mI(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ee($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ee($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class cF{convertValue(e,n="none"){switch(Bi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ji(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw he()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Qi(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>at(o.doubleValue));return new G0(s)}convertGeoPoint(e){return new K0(at(e.latitude),at(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ch(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ql(e));default:return null}}convertTimestamp(e){const n=Ui(e);return new gt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=qe.fromString(e);ke(DS(r));const i=new Yl(r.get(1),r.get(3)),s=new oe(r.popFirst(5));return i.isEqual(n)||$r(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gI extends fI{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Bu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Z0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Bu extends gI{data(e={}){return super.data(e)}}class uF{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new il(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Bu(this._firestore,this._userDataWriter,r.key,r,new il(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ee($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Bu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new il(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Bu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new il(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:dF(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function dF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return he()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function na(t){t=hr(t,Yt);const e=hr(t.firestore,pa);return K7(q0(e),t._key).then(n=>hF(e,t,n))}class yI extends cF{constructor(e){super(),this.firestore=e}convertBytes(e){return new ta(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Yt(this.firestore,null,n)}}function ki(t){t=hr(t,ma);const e=hr(t.firestore,pa),n=q0(e),r=new yI(e);return aF(t._query),G7(n,t._query).then(i=>new uF(e,r,t,i))}function wi(t,e,n){t=hr(t,Yt);const r=hr(t.firestore,pa),i=pI(t.converter,e,n);return ny(r,[cI(jh(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,jn.none())])}function zu(t,e,n,...r){t=hr(t,Yt);const i=hr(t.firestore,pa),s=jh(i);let o;return o=typeof(e=Et(e))=="string"||e instanceof Fh?rF(s,"updateDoc",t._key,e,n,r):nF(s,"updateDoc",t._key,e),ny(i,[o.toMutation(t._key,jn.exists(!0))])}function vI(t,e){const n=hr(t.firestore,pa),r=At(t),i=pI(t.converter,e);return ny(n,[cI(jh(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,jn.exists(!1))]).then(()=>r)}function ny(t,e){return function(r,i){const s=new Mr;return r.asyncQueue.enqueueAndForget(async()=>M7(await q7(r),i,s)),s.promise}(q0(t),e)}function hF(t,e,n){const r=n.docs.get(e._key),i=new yI(t);return new gI(t,i,e._key,r,new il(n.hasPendingWrites,n.fromCache),e.converter)}function rn(){return new Y0("serverTimestamp")}(function(e,n=!0){(function(i){ua=i})(la),Go(new Rs("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new pa(new lO(r.getProvider("auth-internal")),new hO(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ee($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yl(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ri(t_,"4.7.4",e),Ri(t_,"4.7.4","esm2017")})();const fF={apiKey:"AIzaSyB8gkHmVLhQyxYZsC3ms-wnOFbmMN33Qlk",authDomain:"hospital-management-b7b39.firebaseapp.com",projectId:"hospital-management-b7b39",storageBucket:"hospital-management-b7b39.appspot.com",messagingSenderId:"88312732489",appId:"1:88312732489:web:2805e6be6efec617d89898",measurementId:"G-QY52Z6LL0S"},wI=lb(fF),pu=iO(wI),je=X7(wI),_I=v.createContext();function _n(){return v.useContext(_I)}function mF({children:t}){const[e,n]=v.useState(null),[r,i]=v.useState(!0);async function s(u,d,h){try{const p=await z3(pu,u,d);return await wi(At(je,"users",p.user.uid),{fullName:h,email:u,role:"patient",createdAt:new Date().toISOString()}),p}catch(p){throw p}}function o(u,d){return $3(pu,u,d)}function a(){return K3(pu)}v.useEffect(()=>q3(pu,d=>{n(d),i(!1)}),[]);const l={currentUser:e,signup:s,login:o,logout:a};return f(_I.Provider,{value:l,children:!r&&t})}function pF(){const[t,e]=v.useState(!1),[n,r]=v.useState(!1),i=Rn(),{currentUser:s,logout:o}=_n(),a=v.useRef(null),l=()=>{i("/appointments")},u=()=>{i("/patient-portal")},d=async()=>{try{await o(),i("/")}catch(h){console.error("Failed to log out",h)}};return v.useEffect(()=>{function h(p){a.current&&!a.current.contains(p.target)&&r(!1)}return document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[]),C("nav",{className:"bg-white shadow-md relative z-50",children:[f("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:C("div",{className:"flex justify-between h-16",children:[C("div",{className:"flex items-center",children:[f("div",{className:"flex-shrink-0 flex items-center",children:f(Gt,{to:"/",className:"text-blue-600 text-2xl font-bold",children:"MediCare"})}),C("div",{className:"hidden md:flex md:ml-10 space-x-8",children:[f(Ha,{title:"Home",icon:f(bw,{className:"w-5 h-5"}),to:"/"}),f(Ha,{title:"Doctors",icon:f(Cd,{className:"w-5 h-5"}),to:"/doctors"}),f(Ha,{title:"Appointments",icon:f(Dr,{className:"w-5 h-5"}),to:"/appointments"}),f(Ha,{title:"Contact",icon:f(Sd,{className:"w-5 h-5"}),to:"/contact"}),f(Ha,{title:"MediStore",icon:f(Iw,{className:"w-5 h-5"}),to:"/medistore"})]})]}),f("div",{className:"flex items-center md:hidden",children:f("button",{onClick:()=>e(!t),className:"inline-flex items-center justify-center p-2 rounded-md text-blue-600 hover:text-blue-700 hover:bg-blue-50",children:t?f(_h,{className:"block h-6 w-6"}):f(OD,{className:"block h-6 w-6"})})}),f("div",{className:"hidden md:flex items-center",children:s?C("div",{className:"relative",ref:a,children:[C("button",{onClick:()=>r(!n),className:"flex items-center space-x-2 text-gray-700 hover:text-blue-600",children:[f(Id,{className:"h-8 w-8"}),f("span",{children:s.email})]}),n&&C("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50",children:[f(Gt,{to:"/dashboard",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-blue-50",onClick:()=>r(!1),children:"Dashboard"}),f(Gt,{to:"/appointments",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-blue-50",onClick:()=>r(!1),children:"My Appointments"}),f(Gt,{to:"/profile",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-blue-50",onClick:()=>r(!1),children:"Profile Settings"}),f(Gt,{to:"/order-history",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-blue-50",onClick:()=>r(!1),children:"Order History"}),f("button",{onClick:()=>{d(),r(!1)},className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:"Sign Out"})]})]}):C(ws,{children:[f("button",{onClick:l,className:"ml-4 px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700",children:"Book Appointment"}),f("button",{onClick:u,className:"ml-4 px-4 py-2 text-sm font-medium text-blue-600 border border-blue-600 rounded-md hover:bg-blue-50",children:"Patient Portal"})]})})]})}),t&&C("div",{className:"md:hidden absolute w-full bg-white z-50",children:[C("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:[f(Wa,{title:"Home",icon:f(bw,{className:"w-5 h-5"}),to:"/"}),f(Wa,{title:"Doctors",icon:f(Cd,{className:"w-5 h-5"}),to:"/doctors"}),f(Wa,{title:"Appointments",icon:f(Dr,{className:"w-5 h-5"}),to:"/appointments"}),f(Wa,{title:"Contact",icon:f(Sd,{className:"w-5 h-5"}),to:"/contact"}),f(Wa,{title:"MediStore",icon:f(Iw,{className:"w-5 h-5"}),to:"/medistore"})]}),f("div",{className:"px-4 py-3 space-y-2",children:s?C(ws,{children:[C("div",{className:"flex items-center px-3 py-2 text-base font-medium text-gray-700",children:[f(Id,{className:"h-6 w-6 mr-2"}),s.email]}),f(Gt,{to:"/dashboard",className:"block px-3 py-2 text-base font-medium text-gray-700 hover:bg-blue-50 rounded-md",children:"Dashboard"}),f(Gt,{to:"/appointments",className:"block px-3 py-2 text-base font-medium text-gray-700 hover:bg-blue-50 rounded-md",children:"My Appointments"}),f(Gt,{to:"/profile",className:"block px-3 py-2 text-base font-medium text-gray-700 hover:bg-blue-50 rounded-md",children:"Profile Settings"}),f(Gt,{to:"/order-history",className:"block px-3 py-2 text-base font-medium text-gray-700 hover:bg-blue-50 rounded-md",children:"Order History"}),f("button",{onClick:d,className:"w-full text-left px-3 py-2 text-base font-medium text-red-600 hover:bg-red-50 rounded-md",children:"Sign Out"})]}):C(ws,{children:[f("button",{onClick:l,className:"w-full px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700",children:"Book Appointment"}),f("button",{onClick:u,className:"w-full px-4 py-2 text-sm font-medium text-blue-600 border border-blue-600 rounded-md hover:bg-blue-50",children:"Patient Portal"})]})})]})]})}const Ha=({title:t,icon:e,to:n})=>C(_x,{to:n,className:({isActive:r})=>`
      flex items-center px-3 py-2 text-sm font-medium
      ${r?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-blue-600"}
    `,children:[e,f("span",{className:"ml-2",children:t})]}),Wa=({title:t,icon:e,to:n})=>C(_x,{to:n,className:({isActive:r})=>`
      flex items-center px-3 py-2 text-base font-medium rounded-md
      ${r?"text-blue-600 bg-blue-50":"text-gray-600 hover:text-blue-600 hover:bg-blue-50"}
    `,children:[e,f("span",{className:"ml-2",children:t})]});function gF(){const[t,e]=v.useState(!1),[n,r]=v.useState(!1);return v.useEffect(()=>{const i=()=>{r(window.innerWidth<768)};return i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]),f("div",{className:`fixed ${n?"bottom-0 right-0 left-0":"bottom-6 right-6"} z-50`,children:f(wh,{children:t?C(ae.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},transition:{duration:.3},className:`
              bg-white shadow-xl overflow-hidden
              ${n?"w-full h-[80vh] rounded-t-lg":"w-[380px] sm:w-[400px] rounded-lg"}
            `,children:[C("div",{className:"bg-blue-600 p-4 flex justify-between items-center",children:[C("h3",{className:"text-white font-medium flex items-center",children:[f(xw,{className:"h-5 w-5 mr-2"}),"Healthcare Assistant"]}),f("button",{onClick:()=>e(!1),className:"text-white hover:text-gray-200 transition-colors p-1","aria-label":"Close chat",children:f(_h,{className:"h-6 w-6"})})]}),f("div",{className:`${n?"h-full":"h-[600px]"} w-full`,children:f("iframe",{src:"https://www.chatbase.co/chatbot-iframe/nCvWGJAY3TDgzNyMD4sm6",width:"100%",height:"100%",frameBorder:"0",className:"w-full h-full",title:"Healthcare Chatbot"})})]}):C(ae.button,{initial:{scale:0},animate:{scale:1},whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>e(!0),className:`
              bg-blue-600 text-white shadow-lg hover:bg-blue-700 
              transition-colors duration-200
              ${n?"w-full py-4 rounded-t-lg flex items-center justify-center space-x-2":"p-4 rounded-full"}
            `,"aria-label":"Open chat",children:[f(xw,{className:"h-6 w-6"}),n&&f("span",{className:"font-medium",children:"Chat with us"})]})})})}function yF(){const t=[{name:"Home",path:"/"},{name:"About Us",path:"/about"},{name:"Services",path:"/services"},{name:"Doctors",path:"/doctors"},{name:"Contact",path:"/contact"}],e=[{name:"Emergency Care",path:"/services#emergency"},{name:"Cardiology",path:"/services#cardiology"},{name:"Pediatrics",path:"/services#pediatrics"},{name:"Laboratory",path:"/services#laboratory"},{name:"Preventive Care",path:"/services#preventive"}],n=[{icon:f(Sd,{className:"h-5 w-5"}),text:"+1 (555) 123-4567"},{icon:f(Y2,{className:"h-5 w-5"}),text:"contact@medicare.com"},{icon:f(X2,{className:"h-5 w-5"}),text:"123 Medical Center Drive, NY"}];return C("footer",{className:"bg-gray-900 text-gray-300",children:[f("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:C("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[C("div",{children:[f("h3",{className:"text-white text-lg font-semibold mb-4",children:"About MediCare"}),f("p",{className:"text-gray-400 text-sm",children:"Providing quality healthcare services with a focus on patient comfort and well-being. Trust us with your health, as we bring together expertise and compassion."}),f("div",{className:"mt-4 flex space-x-4",children:[{icon:f("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:f("path",{d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z"})}),url:"#"},{icon:f("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:f("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})}),url:"#"},{icon:f("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:f("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})}),url:"#"},{icon:f("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:f("path",{fillRule:"evenodd",d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z",clipRule:"evenodd"})}),url:"#"}].map((i,s)=>f("a",{href:i.url,className:"text-gray-400 hover:text-white transition-colors duration-200",children:i.icon},s))})]}),C("div",{children:[f("h3",{className:"text-white text-lg font-semibold mb-4",children:"Quick Links"}),f("ul",{className:"space-y-2",children:t.map((i,s)=>f("li",{children:f(Gt,{to:i.path,className:"text-gray-400 hover:text-white transition-colors duration-200",children:i.name})},s))})]}),C("div",{children:[f("h3",{className:"text-white text-lg font-semibold mb-4",children:"Our Services"}),f("ul",{className:"space-y-2",children:e.map((i,s)=>f("li",{children:f(Gt,{to:i.path,className:"text-gray-400 hover:text-white transition-colors duration-200",children:i.name})},s))})]}),C("div",{children:[f("h3",{className:"text-white text-lg font-semibold mb-4",children:"Contact Info"}),f("ul",{className:"space-y-4",children:n.map((i,s)=>C("li",{className:"flex items-center space-x-3",children:[f("span",{className:"text-blue-500",children:i.icon}),f("span",{className:"text-gray-400",children:i.text})]},s))})]})]})}),f("div",{className:"border-t border-gray-800",children:f("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:C("div",{className:"md:flex md:items-center md:justify-between",children:[C("div",{className:"text-sm text-gray-400",children:["© ",new Date().getFullYear()," MediCare. All rights reserved."]}),f("div",{className:"mt-4 md:mt-0",children:C("ul",{className:"flex space-x-6 text-sm text-gray-400",children:[f("li",{children:f(Gt,{to:"/privacy",className:"hover:text-white",children:"Privacy Policy"})}),f("li",{children:f(Gt,{to:"/terms",className:"hover:text-white",children:"Terms of Service"})}),f("li",{children:f(Gt,{to:"/sitemap",className:"hover:text-white",children:"Sitemap"})})]})})]})})})]})}function vF(){const t=Qr();return C("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[f(pF,{}),f("main",{className:"flex-grow",children:f(wh,{mode:"wait",children:f(CR,{},t.pathname)})}),f(gF,{}),f(yF,{})]})}function wF(){const t=Rn();return f("div",{className:"relative bg-white overflow-hidden py-12",children:f("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:C("div",{className:"relative z-10 lg:grid lg:grid-cols-2 gap-8 items-center",children:[C(ae.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8,ease:"easeOut"},className:"text-center lg:text-left",children:[C(ae.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.8},className:"text-4xl tracking-tight font-extrabold text-gray-900 sm:text-5xl md:text-6xl",children:[f("span",{className:"block",children:"Your Health is Our"}),f(ae.span,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.8},className:"block text-blue-600",children:"Top Priority"})]}),f(ae.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.8},className:"mt-3 text-base text-gray-500 sm:mt-5 sm:text-lg sm:max-w-xl mx-auto lg:mx-0 md:mt-5 md:text-xl",children:"Experience world-class healthcare with our team of dedicated medical professionals. We're here to provide you with the best possible care and support."}),C(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8,duration:.8},className:"mt-5 sm:mt-8 flex flex-col sm:flex-row justify-center lg:justify-start gap-4",children:[C(ae.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t("/appointments"),className:"flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 md:py-4 md:text-lg md:px-10",children:["Book Appointment",f(LD,{className:"ml-2 h-5 w-5"})]}),f(ae.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t("/services"),className:"flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-blue-600 bg-blue-100 hover:bg-blue-200 md:py-4 md:text-lg md:px-10",children:"Learn More"})]})]}),f(ae.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.8,ease:"easeOut"},className:"mt-12 lg:mt-0",children:f(ae.img,{whileHover:{scale:1.02},transition:{duration:.3},className:"rounded-lg shadow-xl w-full h-[400px] object-cover",src:"https://images.unsplash.com/photo-1551076805-e1869033e561?ixlib=rb-1.2.1&auto=format&fit=crop&w=1951&q=80",alt:"Medical team"})})]})})})}function _F(){return f("section",{className:"py-16 bg-gray-50",children:C("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[C("div",{className:"text-center",children:[f("h2",{className:"text-3xl font-extrabold text-gray-900 sm:text-4xl",children:"Why Choose MediCare?"}),f("p",{className:"mt-4 text-lg text-gray-500 max-w-2xl mx-auto",children:"We are committed to providing exceptional healthcare services with a focus on patient comfort and well-being."})]}),f("div",{className:"mt-16 grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-4",children:[{icon:f(Cd,{className:"h-8 w-8 text-blue-600"}),title:"Expert Doctors",description:"Our team consists of highly qualified and experienced medical professionals."},{icon:f(bd,{className:"h-8 w-8 text-blue-600"}),title:"Quality Care",description:"We provide personalized care with a focus on patient comfort and recovery."},{icon:f(GD,{className:"h-8 w-8 text-blue-600"}),title:"Modern Facilities",description:"State-of-the-art medical facilities equipped with the latest technology."},{icon:f(ap,{className:"h-8 w-8 text-blue-600"}),title:"24/7 Service",description:"Round-the-clock emergency services and patient support."}].map((e,n)=>C("div",{className:"bg-white rounded-lg p-6 shadow-md hover:shadow-lg transition-shadow duration-300",children:[f("div",{className:"flex justify-center",children:e.icon}),f("h3",{className:"mt-4 text-xl font-medium text-gray-900 text-center",children:e.title}),f("p",{className:"mt-2 text-gray-500 text-center",children:e.description})]},n))})]})})}const EI=({children:t,className:e})=>f(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.5},className:e,children:t});function EF(){const{currentUser:t}=_n(),e=Rn(),n=()=>{e(t?"/appointments":"/patient-portal")};return f(EI,{children:C(ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},children:[f(wF,{}),f(_F,{}),f("section",{className:"py-16 bg-gray-50",children:C("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[C(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-center mb-12",children:[f("h2",{className:"text-3xl font-bold text-gray-900",children:"Featured Services"}),f("p",{className:"mt-4 text-lg text-gray-500",children:"Experience comprehensive healthcare with our specialized medical services"})]}),C(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[C("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[f("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Emergency Care"}),f("p",{className:"text-gray-600",children:"24/7 emergency medical services with rapid response capabilities."})]}),C("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[f("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Primary Care"}),f("p",{className:"text-gray-600",children:"Comprehensive primary healthcare services for all age groups."})]}),C("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[f("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Specialized Care"}),f("p",{className:"text-gray-600",children:"Expert care in various medical specialties and treatments."})]})]})]})}),f(ae.section,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"bg-blue-600 py-16",children:C("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[f("h2",{className:"text-3xl font-bold text-white mb-8",children:"Ready to experience better healthcare?"}),f(ae.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-white text-blue-600 px-8 py-3 rounded-md font-medium hover:bg-gray-100 transition-colors",onClick:n,children:t?"Schedule an Appointment":"Get Started"})]})}),t&&f(ae.div,{initial:{opacity:0},animate:{opacity:1},className:"py-8 text-center",children:f("button",{onClick:()=>e("/dashboard"),className:"text-blue-600 hover:text-blue-700 font-medium",children:"Go to Dashboard →"})})]})})}function TF(){const[t,e]=v.useState([]),[n,r]=v.useState(!0),[i,s]=v.useState(null),[o,a]=v.useState("all");v.useState(!1);const l=Rn(),{currentUser:u}=_n(),d=["all","Cardiology","Neurology","Pediatrics","Orthopedics","Dermatology","General Medicine","Dentistry","Ophthalmology"],h=async()=>{try{r(!0);const E=tr(je,"doctors"),R=(await ki(E)).docs.map(T=>({id:T.id,...T.data()}));e(R)}catch(E){console.error("Error fetching doctors:",E),s("Failed to load doctors")}finally{r(!1)}};v.useEffect(()=>{h()},[]);const p=E=>{if(!u){l("/patient-portal");return}l("/appointments",{state:{preselectedDoctor:E.name,preselectedDepartment:E.department}})},y=o==="all"?t:t.filter(E=>E.department===o);return n?f("div",{className:"flex justify-center items-center min-h-screen",children:f("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):i?f("div",{className:"text-center py-12",children:f("p",{className:"text-red-600",children:i})}):f("div",{className:"py-16 px-4 sm:px-6 lg:px-8",children:C("div",{className:"max-w-7xl mx-auto",children:[C("div",{className:"text-center",children:[f("h1",{className:"text-3xl font-bold text-gray-900",children:"Our Medical Experts"}),f("p",{className:"mt-4 text-lg text-gray-500",children:"Choose from our team of experienced healthcare professionals"})]}),f("div",{className:"mt-8 flex flex-wrap justify-center gap-2",children:d.map(E=>f("button",{onClick:()=>a(E),className:`px-4 py-2 rounded-full text-sm font-medium ${o===E?"bg-blue-600 text-white":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:E.charAt(0).toUpperCase()+E.slice(1)},E))}),f("div",{className:"mt-12 grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3",children:y.map(E=>C(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:[f("img",{src:E.image,alt:E.name,className:"w-full h-64 object-cover"}),C("div",{className:"p-6",children:[C("div",{className:"flex justify-between items-start",children:[C("div",{children:[f("h3",{className:"text-xl font-semibold text-gray-900",children:E.name}),f("p",{className:"text-blue-600",children:E.specialty})]}),C("div",{className:"flex items-center",children:[f(ZL,{className:"h-5 w-5 text-yellow-400"}),f("span",{className:"ml-1 text-gray-600",children:E.ratings})]})]}),C("div",{className:"mt-4 space-y-2",children:[C("div",{className:"flex items-center text-gray-600",children:[f(WD,{className:"h-5 w-5 mr-2"}),f("span",{children:E.experience})]}),C("div",{className:"flex items-center text-gray-600",children:[f(SD,{className:"h-5 w-5 mr-2"}),f("span",{children:E.education})]}),C("div",{className:"flex items-center text-gray-600",children:[f(h0,{className:"h-5 w-5 mr-2"}),f("span",{children:E.languages.join(", ")})]})]}),C("div",{className:"mt-6 flex items-center justify-between",children:[C("div",{className:"text-gray-600",children:[C("span",{className:"font-medium text-lg",children:["$",E.consultationFee]}),f("span",{className:"text-sm",children:" per visit"})]}),f("button",{onClick:()=>p(E),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Book Appointment"})]})]})]},E.id))})]})})}function xF(){const{currentUser:t}=_n(),[e,n]=v.useState(!1),[r,i]=v.useState(""),[s,o]=v.useState(""),l=Qr().state||{},[u,d]=v.useState({appointmentType:"",department:l.preselectedDepartment||"",doctor:l.preselectedDoctor||"",preferredDate:"",preferredTime:"",symptoms:"",additionalNotes:""}),h=["Cardiology","Neurology","Pediatrics","Orthopedics","Dermatology","General Medicine","Dentistry","Ophthalmology"],p={Cardiology:["Dr. Sarah Johnson","Dr. Michael Chen"],Neurology:["Dr. Emily Brown","Dr. David Wilson"],Pediatrics:["Dr. Jessica Lee","Dr. Robert Taylor"],Orthopedics:["Dr. James Anderson","Dr. Lisa Martinez"],Dermatology:["Dr. Anna White","Dr. John Davis"],"General Medicine":["Dr. Mark Thompson","Dr. Rachel Green"],Dentistry:["Dr. Kevin Miller","Dr. Susan Clark"],Ophthalmology:["Dr. Thomas Wright","Dr. Maria Garcia"]},y=["Regular Checkup","Follow-up Visit","New Patient Consultation","Emergency","Specialist Consultation","Diagnostic Test"],[E,S]=v.useState([]),[R,T]=v.useState(!0),w=Rn();v.useEffect(()=>{(async()=>{if(t!=null&&t.uid)try{T(!0);const P=Lo(tr(je,"appointments"),Mo("userId","==",t.uid)),V=(await ki(P)).docs.map(N=>{var le,K;return{id:N.id,...N.data(),createdAt:((K=(le=N.data().createdAt)==null?void 0:le.toDate)==null?void 0:K.call(le))||N.data().createdAt,preferredDate:N.data().preferredDate||""}});S(V)}catch(P){console.error("Error fetching appointments:",P),o("Failed to load appointments. Please try again later.")}finally{T(!1)}})()},[t]);const x=b=>{const{name:P,value:D}=b.target;d(V=>({...V,[P]:D})),P==="department"&&d(V=>({...V,doctor:""}))},L=async b=>{b.preventDefault(),n(!0),o(""),i("");try{const P={...u,userId:t.uid,userEmail:t.email,status:"pending",createdAt:rn(),updatedAt:rn()};await vI(tr(je,"appointments"),P);const D=Lo(tr(je,"appointments"),Mo("userId","==",t.uid)),N=(await ki(D)).docs.map(le=>{var K,we;return{id:le.id,...le.data(),createdAt:((we=(K=le.data().createdAt)==null?void 0:K.toDate)==null?void 0:we.call(K))||le.data().createdAt,preferredDate:le.data().preferredDate||""}});S(N),i("Appointment booked successfully!"),d({appointmentType:"",department:"",doctor:"",preferredDate:"",preferredTime:"",symptoms:"",additionalNotes:""})}catch(P){console.error("Error booking appointment:",P),o("Failed to book appointment. Please try again.")}finally{n(!1)}},j=async b=>{try{const P=At(je,"appointments",b);await zu(P,{status:"cancelled",updatedAt:rn()});const D=Lo(tr(je,"appointments"),Mo("userId","==",t.uid)),N=(await ki(D)).docs.map(le=>{var K,we;return{id:le.id,...le.data(),createdAt:((we=(K=le.data().createdAt)==null?void 0:K.toDate)==null?void 0:we.call(K))||le.data().createdAt,preferredDate:le.data().preferredDate||""}});S(N),i("Appointment cancelled successfully")}catch(P){console.error("Error cancelling appointment:",P),o("Failed to cancel appointment")}},k=async b=>{w(`/appointments/reschedule/${b}`)},A=b=>{switch(b.toLowerCase()){case"confirmed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},_=b=>new Date(b).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return f("div",{className:"py-8 px-4 sm:px-6 lg:px-8",children:C("div",{className:"max-w-3xl mx-auto",children:[C(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-lg overflow-hidden mb-8",children:[C("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-8",children:[f("h1",{className:"text-2xl font-bold text-white",children:"Book an Appointment"}),f("p",{className:"mt-2 text-blue-100",children:"Schedule your visit with our healthcare professionals"})]}),C("form",{onSubmit:L,className:"p-6 space-y-6",children:[s&&f("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:C("div",{className:"flex",children:[f("div",{className:"flex-shrink-0",children:f("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:f("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),f("div",{className:"ml-3",children:f("p",{className:"text-sm text-red-600",children:s})})]})}),r&&f("div",{className:"bg-green-50 border-l-4 border-green-400 p-4",children:C("div",{className:"flex",children:[f("div",{className:"flex-shrink-0",children:f("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:f("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),f("div",{className:"ml-3",children:f("p",{className:"text-sm text-green-600",children:r})})]})}),C("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:C("div",{className:"flex items-center",children:[f(Dr,{className:"h-5 w-5 text-gray-400 mr-2"}),"Appointment Type"]})}),C("select",{name:"appointmentType",value:u.appointmentType,onChange:x,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[f("option",{value:"",children:"Select Type"}),y.map(b=>f("option",{value:b,children:b},b))]})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:C("div",{className:"flex items-center",children:[f(XD,{className:"h-5 w-5 text-gray-400 mr-2"}),"Department"]})}),C("select",{name:"department",value:u.department,onChange:x,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[f("option",{value:"",children:"Select Department"}),h.map(b=>f("option",{value:b,children:b},b))]})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:C("div",{className:"flex items-center",children:[f(Z2,{className:"h-5 w-5 text-gray-400 mr-2"}),"Doctor"]})}),C("select",{name:"doctor",value:u.doctor,onChange:x,required:!0,disabled:!u.department,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 disabled:bg-gray-100",children:[f("option",{value:"",children:"Select Doctor"}),u.department&&p[u.department].map(b=>f("option",{value:b,children:b},b))]})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:C("div",{className:"flex items-center",children:[f(Dr,{className:"h-5 w-5 text-gray-400 mr-2"}),"Preferred Date"]})}),f("input",{type:"date",name:"preferredDate",value:u.preferredDate,onChange:x,required:!0,min:new Date().toISOString().split("T")[0],className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:C("div",{className:"flex items-center",children:[f(ap,{className:"h-5 w-5 text-gray-400 mr-2"}),"Preferred Time"]})}),C("select",{name:"preferredTime",value:u.preferredTime,onChange:x,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[f("option",{value:"",children:"Select Time"}),f("option",{value:"09:00",children:"09:00 AM"}),f("option",{value:"10:00",children:"10:00 AM"}),f("option",{value:"11:00",children:"11:00 AM"}),f("option",{value:"12:00",children:"12:00 PM"}),f("option",{value:"14:00",children:"02:00 PM"}),f("option",{value:"15:00",children:"03:00 PM"}),f("option",{value:"16:00",children:"04:00 PM"}),f("option",{value:"17:00",children:"05:00 PM"})]})]})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:C("div",{className:"flex items-center",children:[f(h0,{className:"h-5 w-5 text-gray-400 mr-2"}),"Symptoms or Reason for Visit"]})}),f("textarea",{name:"symptoms",value:u.symptoms,onChange:x,required:!0,rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Please describe your symptoms or reason for visit"})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Additional Notes (Optional)"}),f("textarea",{name:"additionalNotes",value:u.additionalNotes,onChange:x,rows:2,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Any additional information you'd like to provide"})]}),f("div",{className:"flex justify-end",children:f(ae.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:e,className:"px-6 py-3 bg-blue-600 text-white font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:e?"Booking...":"Book Appointment"})})]})]}),C(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[f("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-4",children:f("h2",{className:"text-xl font-bold text-white",children:"Your Appointments"})}),f("div",{className:"p-6",children:R?f("div",{className:"flex justify-center items-center py-8",children:f("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):E.length===0?f("div",{className:"text-center py-8 text-gray-500",children:"No appointments found. Book your first appointment above."}):f("div",{className:"space-y-6",children:E.map(b=>f(ae.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-gray-50 rounded-lg p-6",children:C("div",{className:"flex justify-between items-start",children:[C("div",{className:"space-y-2",children:[C("div",{className:"flex items-center space-x-2",children:[f("span",{className:"font-semibold text-lg text-gray-900",children:b.doctor}),f("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${A(b.status)}`,children:b.status})]}),C("p",{className:"text-gray-600",children:[b.department," - ",b.appointmentType]}),C("div",{className:"flex items-center text-gray-500 space-x-4",children:[C("div",{className:"flex items-center",children:[f(Dr,{className:"h-4 w-4 mr-1"}),_(b.preferredDate)]}),C("div",{className:"flex items-center",children:[f(ap,{className:"h-4 w-4 mr-1"}),b.preferredTime]})]}),b.symptoms&&C("div",{className:"mt-2",children:[f("p",{className:"text-sm font-medium text-gray-500",children:"Reason for Visit:"}),f("p",{className:"text-gray-700",children:b.symptoms})]}),b.additionalNotes&&C("div",{className:"mt-2",children:[f("p",{className:"text-sm font-medium text-gray-500",children:"Additional Notes:"}),f("p",{className:"text-gray-700",children:b.additionalNotes})]})]}),C("div",{className:"flex space-x-2",children:[b.status.toLowerCase()==="pending"&&f("button",{className:"px-3 py-1 text-sm text-red-600 hover:text-red-700 hover:bg-red-50 rounded-md",onClick:()=>j(b.id),children:"Cancel"}),f("button",{className:"px-3 py-1 text-sm text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-md",onClick:()=>k(b.id),children:"Reschedule"})]})]})},b.id))})})]})]})})}function bF(){return f("div",{className:"py-16 px-4 sm:px-6 lg:px-8",children:C("div",{className:"max-w-7xl mx-auto",children:[C("div",{className:"text-center",children:[f("h1",{className:"text-3xl font-bold text-gray-900",children:"Contact Us"}),f("p",{className:"mt-4 text-lg text-gray-500",children:"We're here to help and answer any questions you might have"})]}),f("div",{className:"mt-12 grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3",children:[{icon:f(Sd,{className:"h-6 w-6"}),title:"Phone",details:"+1 (555) 123-4567",subDetails:"Mon-Fri from 8am to 6pm"},{icon:f(Y2,{className:"h-6 w-6"}),title:"Email",details:"contact@medicare.com",subDetails:"We'll respond within 24 hours"},{icon:f(X2,{className:"h-6 w-6"}),title:"Address",details:"123 Medical Center Drive",subDetails:"New York, NY 10001"}].map((e,n)=>C("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[f("div",{className:"flex justify-center items-center w-12 h-12 mx-auto bg-blue-100 rounded-full",children:f("span",{className:"text-blue-600",children:e.icon})}),f("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:e.title}),f("p",{className:"mt-2 text-base text-gray-600",children:e.details}),f("p",{className:"mt-1 text-sm text-gray-500",children:e.subDetails})]},n))}),f("div",{className:"mt-12 bg-white rounded-lg shadow-md",children:C("div",{className:"grid grid-cols-1 lg:grid-cols-2",children:[C("div",{className:"p-6 lg:p-8",children:[f("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Send us a Message"}),C("form",{className:"space-y-6",children:[C("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"First Name"}),f("input",{type:"text",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Last Name"}),f("input",{type:"text",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),f("input",{type:"email",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Message"}),f("textarea",{rows:4,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),f("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700",children:"Send Message"})]})]}),f("div",{className:"bg-gray-50 p-6 lg:p-8 rounded-lg",children:f("iframe",{title:"location",className:"w-full h-full min-h-[400px] rounded-lg",src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d193595.25436351647!2d-74.11976404924044!3d40.69766374873451!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x89c24fa5d33f083b%3A0xc80b8f06e177fe62!2sNew%20York%2C%20NY!5e0!3m2!1sen!2sus!4v1656543799700!5m2!1sen!2sus",loading:"lazy"})})]})})]})})}function SF(){const t=[{icon:f(bd,{className:"h-8 w-8"}),title:"Cardiology",description:"Comprehensive heart care services including diagnostics, treatment, and prevention.",features:["ECG/EKG","Heart Surgery","Cardiac Rehabilitation"]},{icon:f(Cd,{className:"h-8 w-8"}),title:"Pediatrics",description:"Specialized healthcare services for infants, children, and adolescents.",features:["Vaccinations","Growth Monitoring","Pediatric Surgery"]},{icon:f(G2,{className:"h-8 w-8"}),title:"Laboratory",description:"State-of-the-art diagnostic testing and laboratory services.",features:["Blood Tests","Pathology","Genetic Testing"]},{icon:f(cL,{className:"h-8 w-8"}),title:"Preventive Care",description:"Comprehensive health screenings and preventive medicine services.",features:["Health Screenings","Immunizations","Wellness Programs"]},{icon:f(YL,{className:"h-8 w-8"}),title:"Emergency Care",description:"24/7 emergency medical services with rapid response capabilities.",features:["Trauma Care","Critical Care","Emergency Surgery"]}],e={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},n={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}};return f(EI,{children:f("div",{className:"py-16 px-4 sm:px-6 lg:px-8",children:C("div",{className:"max-w-7xl mx-auto",children:[C(ae.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center",children:[f("h1",{className:"text-3xl font-bold text-gray-900",children:"Our Services"}),f("p",{className:"mt-4 text-lg text-gray-500 max-w-2xl mx-auto",children:"We offer a comprehensive range of medical services using the latest technology and expert healthcare professionals."})]}),f(ae.div,{variants:e,initial:"hidden",animate:"visible",className:"mt-12 grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3",children:t.map((r,i)=>C(ae.div,{variants:n,whileHover:{scale:1.03},className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow duration-300",children:[f("div",{className:"flex justify-center items-center w-12 h-12 bg-blue-100 rounded-lg text-blue-600 mb-4",children:r.icon}),f("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:r.title}),f("p",{className:"text-gray-500 mb-4",children:r.description}),f("ul",{className:"space-y-2",children:r.features.map((s,o)=>C(ae.li,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.2*o},className:"flex items-center text-gray-600",children:[f("span",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full mr-2"}),s]},o))}),f(ae.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"mt-6 w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors duration-200",children:"Learn More"})]},i))})]})})})}function IF(){const[t,e]=v.useState(!0),[n,r]=v.useState({email:"",password:"",fullName:"",confirmPassword:""}),[i,s]=v.useState(""),[o,a]=v.useState(!1),{signup:l,login:u,currentUser:d}=_n(),h=Rn(),p=S=>{const{name:R,value:T}=S.target;r(w=>({...w,[R]:T}))};async function y(S){if(S.preventDefault(),s(""),!t&&n.password!==n.confirmPassword)return s("Passwords do not match");if(!t&&n.password.length<6)return s("Password must be at least 6 characters");try{a(!0),t?(await u(n.email,n.password),h("/appointments")):(await l(n.email,n.password,n.fullName),h("/appointments"))}catch(R){console.error("Auth error:",R),s(R.code==="auth/email-already-in-use"?"Email already exists":R.code==="auth/invalid-email"?"Invalid email address":"Failed to "+(t?"log in":"create account"))}finally{a(!1)}}const E=[{icon:f(hL,{className:"h-6 w-6"}),title:"Medical Records",description:"Access your complete medical history and test results"},{icon:f(Dr,{className:"h-6 w-6"}),title:"Appointments",description:"Schedule and manage your appointments online"},{icon:f(Q2,{className:"h-6 w-6"}),title:"Prescriptions",description:"View and request prescription refills"},{icon:f(h0,{className:"h-6 w-6"}),title:"Messaging",description:"Communicate securely with your healthcare team"}];return f("div",{className:"py-16 px-4 sm:px-6 lg:px-8",children:C("div",{className:"max-w-7xl mx-auto",children:[C("div",{className:"text-center mb-12",children:[f("h1",{className:"text-3xl font-bold text-gray-900",children:"Patient Portal"}),f("p",{className:"mt-4 text-lg text-gray-500",children:"Manage your health records and communicate with your healthcare team"})]}),C("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[C(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-md p-6",children:[C("div",{className:"flex space-x-4 mb-6",children:[f("button",{className:`flex-1 py-2 text-center rounded-md transition-colors duration-200 ${t?"bg-blue-600 text-white":"text-gray-500 hover:bg-gray-100"}`,onClick:()=>{e(!0),s("")},children:"Login"}),f("button",{className:`flex-1 py-2 text-center rounded-md transition-colors duration-200 ${t?"text-gray-500 hover:bg-gray-100":"bg-blue-600 text-white"}`,onClick:()=>{e(!1),s("")},children:"Register"})]}),i&&f("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",children:i}),C("form",{onSubmit:y,className:"space-y-6",children:[!t&&C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Full Name"}),f("input",{type:"text",name:"fullName",value:n.fullName,onChange:p,required:!t,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),f("input",{type:"email",name:"email",value:n.email,onChange:p,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),f("input",{type:"password",name:"password",value:n.password,onChange:p,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),!t&&C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),f("input",{type:"password",name:"confirmPassword",value:n.confirmPassword,onChange:p,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),f("button",{type:"submit",disabled:o,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 disabled:opacity-50 transition-colors duration-200",children:o?"Processing...":t?"Sign In":"Create Account"})]})]}),f("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:E.map((S,R)=>C(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:R*.1},className:"bg-white rounded-lg shadow-md p-6",children:[f("div",{className:"flex items-center justify-center w-12 h-12 bg-blue-100 rounded-lg text-blue-600 mb-4",children:S.icon}),f("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:S.title}),f("p",{className:"text-gray-500",children:S.description})]},R))})]})]})})}function eo({children:t}){const{currentUser:e}=_n(),n=Qr();return e?t:f(yx,{to:"/patient-portal",state:{from:n},replace:!0})}function CF(){const{currentUser:t}=_n(),[e,n]=v.useState(null),[r,i]=v.useState([]),[s,o]=v.useState([]),[a,l]=v.useState(null),[u,d]=v.useState(!0),[h,p]=v.useState(null),y=Rn();if(v.useEffect(()=>{(async()=>{if(t!=null&&t.uid)try{d(!0),p(null);const R=await na(At(je,"users",t.uid));R.exists()&&n(R.data());const T=Lo(tr(je,"appointments"),Mo("userId","==",t.uid)),x=(await ki(T)).docs.map(_=>({id:_.id,..._.data()}));i(x);const L=Lo(tr(je,"medicalRecords"),Mo("userId","==",t.uid)),k=(await ki(L)).docs.map(_=>({id:_.id,..._.data()}));o(k);const A=await na(At(je,"healthMetrics",t.uid));A.exists()&&l(A.data())}catch(R){console.error("Error fetching user data:",R),p("Failed to load dashboard data")}finally{d(!1)}})()},[t]),u)return f("div",{className:"flex items-center justify-center min-h-screen",children:f("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});if(h)return C("div",{className:"p-4 text-center text-red-600",children:[f("p",{children:h}),f("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md",children:"Retry"})]});if(!r.length&&!s.length&&!a)return f("div",{className:"py-8 px-4 sm:px-6 lg:px-8",children:f("div",{className:"max-w-7xl mx-auto text-center",children:C(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-lg p-8",children:[f("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Welcome to Your Health Dashboard"}),f("p",{className:"text-gray-600 mb-8",children:"Looks like you're new here! Let's get started by setting up your health profile."}),C("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[C(ae.div,{whileHover:{scale:1.05},className:"p-6 bg-blue-50 rounded-lg cursor-pointer",onClick:()=>y("/appointments"),children:[f(Dr,{className:"h-8 w-8 text-blue-600 mx-auto mb-4"}),f("h3",{className:"text-lg font-medium text-gray-900",children:"Book Appointment"}),f("p",{className:"mt-2 text-sm text-gray-500",children:"Schedule your first consultation"})]}),C(ae.div,{whileHover:{scale:1.05},className:"p-6 bg-blue-50 rounded-lg cursor-pointer",onClick:()=>y("/profile"),children:[f(Z2,{className:"h-8 w-8 text-blue-600 mx-auto mb-4"}),f("h3",{className:"text-lg font-medium text-gray-900",children:"Complete Profile"}),f("p",{className:"mt-2 text-sm text-gray-500",children:"Add your medical history"})]}),C(ae.div,{whileHover:{scale:1.05},className:"p-6 bg-blue-50 rounded-lg cursor-pointer",onClick:()=>y("/health-metrics"),children:[f(nL,{className:"h-8 w-8 text-blue-600 mx-auto mb-4"}),f("h3",{className:"text-lg font-medium text-gray-900",children:"Add Health Metrics"}),f("p",{className:"mt-2 text-sm text-gray-500",children:"Track your vital signs"})]})]})]})})});const E=()=>{var S,R,T,w;return!(e!=null&&e.medicalHistory)&&!a?null:f(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow mb-8",children:C("div",{className:"p-6",children:[f("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Health Summary"}),C("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(e==null?void 0:e.medicalHistory)&&C("div",{className:"space-y-4",children:[f("h3",{className:"text-lg font-medium text-gray-900",children:"Medical History"}),((S=e.medicalHistory.allergies)==null?void 0:S.length)>0&&C("div",{children:[f("p",{className:"text-sm font-medium text-gray-500",children:"Allergies"}),f("p",{className:"text-gray-900",children:e.medicalHistory.allergies.join(", ")})]}),((R=e.medicalHistory.chronicConditions)==null?void 0:R.length)>0&&C("div",{children:[f("p",{className:"text-sm font-medium text-gray-500",children:"Chronic Conditions"}),f("p",{className:"text-gray-900",children:e.medicalHistory.chronicConditions.join(", ")})]}),((T=e.medicalHistory.currentMedications)==null?void 0:T.length)>0&&C("div",{children:[f("p",{className:"text-sm font-medium text-gray-500",children:"Current Medications"}),f("p",{className:"text-gray-900",children:e.medicalHistory.currentMedications.join(", ")})]})]}),((w=a==null?void 0:a.metrics)==null?void 0:w.length)>0&&C("div",{className:"space-y-4",children:[f("h3",{className:"text-lg font-medium text-gray-900",children:"Latest Health Metrics"}),C("div",{className:"grid grid-cols-2 gap-4",children:[C("div",{children:[f("p",{className:"text-sm font-medium text-gray-500",children:"Blood Pressure"}),f("p",{className:"text-gray-900",children:a.metrics[0].bloodPressure})]}),C("div",{children:[f("p",{className:"text-sm font-medium text-gray-500",children:"Heart Rate"}),C("p",{className:"text-gray-900",children:[a.metrics[0].heartRate," bpm"]})]}),C("div",{children:[f("p",{className:"text-sm font-medium text-gray-500",children:"Weight"}),C("p",{className:"text-gray-900",children:[a.metrics[0].weight," kg"]})]}),C("div",{children:[f("p",{className:"text-sm font-medium text-gray-500",children:"BMI"}),f("p",{className:"text-gray-900",children:a.metrics[0].bmi})]})]})]})]})]})})};return f("div",{className:"py-8 px-4 sm:px-6 lg:px-8",children:C("div",{className:"max-w-7xl mx-auto",children:[C(ae.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-600 to-blue-700 rounded-lg shadow-lg p-6 mb-8 text-white",children:[C("h1",{className:"text-2xl font-bold",children:["Welcome back, ",e==null?void 0:e.fullName]}),f("p",{className:"mt-2 text-blue-100",children:"Here's your health overview"})]}),E(),f("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:f(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow p-6",children:C("div",{className:"flex items-center",children:[f(Dr,{className:"h-8 w-8 text-blue-600"}),C("div",{className:"ml-4",children:[f("p",{className:"text-sm font-medium text-gray-600",children:"Upcoming Appointments"}),f("p",{className:"text-2xl font-semibold text-gray-900",children:r.length})]})]})})}),f(ae.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-white rounded-lg shadow mb-8",children:C("div",{className:"p-6",children:[f("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Upcoming Appointments"}),f("div",{className:"space-y-4",children:r.map(S=>C("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[C("div",{className:"flex items-center",children:[f(Dr,{className:"h-10 w-10 text-blue-600"}),C("div",{className:"ml-4",children:[f("p",{className:"font-medium text-gray-900",children:S.doctor}),C("p",{className:"text-sm text-gray-500",children:[S.preferredDate," at ",S.preferredTime]}),f("p",{className:"text-sm text-blue-600",children:S.appointmentType})]})]}),f("button",{onClick:()=>y(`/appointments/${S.id}`),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"View Details"})]},S.id))})]})}),f(ae.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-lg shadow mb-8",children:C("div",{className:"p-6",children:[f("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Recent Medical Records"}),f("div",{className:"space-y-4",children:s.map(S=>f("div",{className:"p-4 bg-gray-50 rounded-lg",children:C("div",{className:"flex items-center justify-between",children:[C("div",{children:[f("p",{className:"font-medium text-gray-900",children:S.type}),f("p",{className:"text-sm text-gray-500",children:S.date}),f("p",{className:"text-sm text-blue-600",children:S.doctor})]}),f("button",{onClick:()=>y(`/medical-records/${S.id}`),className:"px-4 py-2 text-blue-600 hover:text-blue-700",children:"View Record"})]})},S.id))})]})}),a&&f(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow",children:C("div",{className:"p-6",children:[f("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Health Metrics"}),f("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:a.metrics.map((S,R)=>C("div",{className:"p-4 bg-gray-50 rounded-lg",children:[f("p",{className:"text-sm text-gray-500",children:S.date}),C("p",{className:"text-lg font-medium text-gray-900",children:["BP: ",S.bloodPressure]}),C("p",{className:"text-sm text-blue-600",children:["Heart Rate: ",S.heartRate]})]},R))})]})})]})})}function PF(){const{currentUser:t}=_n(),[e,n]=v.useState("personal"),[r,i]=v.useState(!1),[s,o]=v.useState(!0),[a,l]=v.useState(""),[u,d]=v.useState(""),[h,p]=v.useState({fullName:"",email:"",phone:"",dateOfBirth:"",gender:"",address:"",emergencyContact:"",bloodGroup:"",medicalHistory:{allergies:[],chronicConditions:[],currentMedications:[],pastSurgeries:[]},preferences:{notifications:{email:!0,sms:!0,appointments:!0,reminders:!0},language:"English",timeZone:"UTC"}}),[y,E]=v.useState(!1),[S,R]=v.useState(!1);v.useEffect(()=>{(async()=>{if(t!=null&&t.uid)try{o(!0);const we=await na(At(je,"users",t.uid));if(we.exists()){const re=we.data();p(W=>{var ie;return{...W,...re,medicalHistory:{...W.medicalHistory,...re.medicalHistory||{}},preferences:{...W.preferences,...re.preferences||{},notifications:{...W.preferences.notifications,...((ie=re.preferences)==null?void 0:ie.notifications)||{}}}}})}else await wi(At(je,"users",t.uid),{fullName:t.displayName||"",email:t.email,createdAt:rn(),updatedAt:rn()})}catch(we){console.error("Error fetching user data:",we),l("Failed to load profile data")}finally{o(!1)}})()},[t]);const T=K=>{const{name:we,value:re}=K.target;p(W=>({...W,[we]:re}))},w=async K=>{K.preventDefault(),o(!0),l(""),d("");try{const we=At(je,"users",t.uid),re={...h,medicalHistory:{allergies:h.medicalHistory.allergies||[],chronicConditions:h.medicalHistory.chronicConditions||[],currentMedications:h.medicalHistory.currentMedications||[],pastSurgeries:h.medicalHistory.pastSurgeries||[]},preferences:{language:h.preferences.language||"English",timeZone:h.preferences.timeZone||"UTC",notifications:{email:h.preferences.notifications.email,sms:h.preferences.notifications.sms,appointments:h.preferences.notifications.appointments,reminders:h.preferences.notifications.reminders}},updatedAt:rn()};await zu(we,re),d("Profile updated successfully!"),i(!1)}catch(we){console.error("Error updating profile:",we),l("Failed to update profile")}finally{o(!1)}},x=(K,we)=>{p(re=>({...re,medicalHistory:{...re.medicalHistory,[K]:Array.isArray(we)?we:we.split(",").map(W=>W.trim())}}))},L=(K,we)=>{p(re=>({...re,preferences:{...re.preferences,[K]:we}}))},j=async()=>{o(!0),l(""),d("");try{const K=At(je,"users",t.uid);await zu(K,{medicalHistory:h.medicalHistory,updatedAt:rn()}),d("Medical history updated successfully!"),E(!1)}catch(K){console.error("Error updating medical history:",K),l("Failed to update medical history")}finally{o(!1)}},k=async()=>{o(!0),l(""),d("");try{const K=At(je,"users",t.uid);await zu(K,{preferences:h.preferences,updatedAt:rn()}),d("Preferences updated successfully!"),R(!1)}catch(K){console.error("Error updating preferences:",K),l("Failed to update preferences")}finally{o(!1)}},A=()=>C("form",{onSubmit:w,className:"space-y-6",children:[C("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Full Name"}),f("input",{type:"text",name:"fullName",value:h.fullName,onChange:T,disabled:!r,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),f("input",{type:"email",name:"email",onChange:T,value:h.email,disabled:!r,className:"mt-1 block w-full rounded-md border-gray-300 bg-gray-50 shadow-sm"})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),f("input",{type:"tel",name:"phone",value:h.phone,onChange:T,disabled:!r,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Date of Birth"}),f("input",{type:"date",name:"dateOfBirth",value:h.dateOfBirth,onChange:T,disabled:!r,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Gender"}),C("select",{name:"gender",value:h.gender,onChange:T,disabled:!r,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[f("option",{value:"",children:"Select Gender"}),f("option",{value:"male",children:"Male"}),f("option",{value:"female",children:"Female"}),f("option",{value:"other",children:"Other"})]})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Blood Group"}),f("input",{type:"text",name:"bloodGroup",value:h.bloodGroup,onChange:T,disabled:!r,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),C("div",{className:"md:col-span-2",children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Address"}),f("textarea",{name:"address",value:h.address,onChange:T,disabled:!r,rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),C("div",{className:"md:col-span-2",children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Emergency Contact"}),f("input",{type:"text",name:"emergencyContact",value:h.emergencyContact,onChange:T,disabled:!r,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),f("div",{className:"mt-6 flex justify-end space-x-4",children:r?C(ws,{children:[f("button",{type:"button",onClick:()=>i(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),f("button",{type:"submit",disabled:s,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:opacity-50",children:s?"Saving...":"Save Changes"})]}):f("button",{type:"button",onClick:()=>i(!0),className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700",children:"Edit Profile"})})]}),_=[{id:"personal",icon:Id,label:"Personal Info"},{id:"medical",icon:Q2,label:"Medical History"},{id:"preferences",icon:yL,label:"Preferences"},{id:"security",icon:NL,label:"Security"},{id:"notifications",icon:zD,label:"Notifications"},{id:"privacy",icon:$L,label:"Privacy"}],b=()=>C("div",{className:"space-y-6",children:[C("div",{className:"flex justify-between items-center",children:[f("h3",{className:"text-lg font-medium text-gray-900",children:"Medical History"}),f("button",{onClick:()=>E(!y),className:"px-4 py-2 text-sm font-medium text-blue-600 hover:text-blue-700",children:y?"Cancel":"Edit"})]}),C("div",{className:"grid grid-cols-1 gap-6",children:[C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Allergies"}),f("input",{type:"text",value:h.medicalHistory.allergies.join(", "),onChange:K=>x("allergies",K.target.value),disabled:!y,placeholder:"Enter allergies separated by commas",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Chronic Conditions"}),f("input",{type:"text",value:h.medicalHistory.chronicConditions.join(", "),onChange:K=>x("chronicConditions",K.target.value),disabled:!y,placeholder:"Enter chronic conditions separated by commas",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Current Medications"}),f("input",{type:"text",value:h.medicalHistory.currentMedications.join(", "),onChange:K=>x("currentMedications",K.target.value),disabled:!y,placeholder:"Enter current medications separated by commas",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Past Surgeries"}),f("input",{type:"text",value:h.medicalHistory.pastSurgeries.join(", "),onChange:K=>x("pastSurgeries",K.target.value),disabled:!y,placeholder:"Enter past surgeries separated by commas",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),y&&f("div",{className:"flex justify-end",children:f("button",{onClick:j,disabled:s,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:opacity-50",children:s?"Saving...":"Save Medical History"})})]}),P=()=>C("div",{className:"space-y-6",children:[C("div",{className:"flex justify-between items-center",children:[f("h3",{className:"text-lg font-medium text-gray-900",children:"Account Preferences"}),f("button",{onClick:()=>R(!S),className:"px-4 py-2 text-sm font-medium text-blue-600 hover:text-blue-700",children:S?"Cancel":"Edit"})]}),C("div",{className:"grid grid-cols-1 gap-6",children:[C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Language"}),C("select",{value:h.preferences.language,onChange:K=>L("language",K.target.value),disabled:!S,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[f("option",{value:"English",children:"English"}),f("option",{value:"Spanish",children:"Spanish"}),f("option",{value:"French",children:"French"}),f("option",{value:"German",children:"German"}),f("option",{value:"Chinese",children:"Chinese"})]})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Time Zone"}),C("select",{value:h.preferences.timeZone,onChange:K=>L("timeZone",K.target.value),disabled:!S,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[f("option",{value:"UTC",children:"UTC"}),f("option",{value:"EST",children:"Eastern Time"}),f("option",{value:"CST",children:"Central Time"}),f("option",{value:"PST",children:"Pacific Time"})]})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notification Preferences"}),f("div",{className:"space-y-2",children:Object.entries(h.preferences.notifications).map(([K,we])=>C("div",{className:"flex items-center",children:[f("input",{type:"checkbox",id:K,checked:we,onChange:()=>L("notifications",{...h.preferences.notifications,[K]:!we}),disabled:!S,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),C("label",{htmlFor:K,className:"ml-2 block text-sm text-gray-700 capitalize",children:[K.replace(/([A-Z])/g," $1").trim()," Notifications"]})]},K))})]})]}),S&&f("div",{className:"flex justify-end",children:f("button",{onClick:k,disabled:s,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:opacity-50",children:s?"Saving...":"Save Preferences"})})]}),D=()=>C("div",{className:"space-y-6",children:[f("div",{className:"flex justify-between items-center",children:f("h3",{className:"text-lg font-medium text-gray-900",children:"Security Settings"})}),C("div",{className:"space-y-6",children:[C("div",{children:[f("h4",{className:"text-md font-medium text-gray-700 mb-4",children:"Change Password"}),C("form",{className:"space-y-4",children:[C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Current Password"}),f("input",{type:"password",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"New Password"}),f("input",{type:"password",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Confirm New Password"}),f("input",{type:"password",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),f("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700",children:"Update Password"})]})]}),C("div",{className:"pt-6 border-t border-gray-200",children:[f("h4",{className:"text-md font-medium text-gray-700 mb-4",children:"Two-Factor Authentication"}),C("div",{className:"flex items-center justify-between",children:[f("div",{children:f("p",{className:"text-sm text-gray-600",children:"Add an extra layer of security to your account"})}),f("button",{className:"px-4 py-2 text-sm font-medium text-blue-600 border border-blue-600 rounded-md hover:bg-blue-50",children:"Enable 2FA"})]})]}),C("div",{className:"pt-6 border-t border-gray-200",children:[f("h4",{className:"text-md font-medium text-gray-700 mb-4",children:"Recent Login Activity"}),C("div",{className:"space-y-3",children:[C("div",{className:"flex justify-between items-center text-sm",children:[f("span",{className:"text-gray-600",children:"Chrome on Windows"}),f("span",{className:"text-gray-500",children:"Today, 2:45 PM"})]}),C("div",{className:"flex justify-between items-center text-sm",children:[f("span",{className:"text-gray-600",children:"Safari on iPhone"}),f("span",{className:"text-gray-500",children:"Yesterday, 10:30 AM"})]})]})]})]})]}),V=()=>C("div",{className:"space-y-6",children:[f("div",{className:"flex justify-between items-center",children:f("h3",{className:"text-lg font-medium text-gray-900",children:"Notification Settings"})}),C("div",{className:"space-y-6",children:[C("div",{children:[f("h4",{className:"text-md font-medium text-gray-700 mb-4",children:"Email Notifications"}),f("div",{className:"space-y-3",children:[{id:"appointments",label:"Appointment Reminders"},{id:"prescriptions",label:"Prescription Refills"},{id:"results",label:"Test Results"},{id:"updates",label:"Healthcare Updates"}].map(K=>C("div",{className:"flex items-center",children:[f("input",{type:"checkbox",id:`email-${K.id}`,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),f("label",{htmlFor:`email-${K.id}`,className:"ml-2 block text-sm text-gray-700",children:K.label})]},K.id))})]}),C("div",{className:"pt-6 border-t border-gray-200",children:[f("h4",{className:"text-md font-medium text-gray-700 mb-4",children:"SMS Notifications"}),f("div",{className:"space-y-3",children:[{id:"appointments",label:"Appointment Reminders"},{id:"emergency",label:"Emergency Alerts"},{id:"confirmations",label:"Booking Confirmations"}].map(K=>C("div",{className:"flex items-center",children:[f("input",{type:"checkbox",id:`sms-${K.id}`,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),f("label",{htmlFor:`sms-${K.id}`,className:"ml-2 block text-sm text-gray-700",children:K.label})]},K.id))})]}),C("div",{className:"pt-6 border-t border-gray-200",children:[f("h4",{className:"text-md font-medium text-gray-700 mb-4",children:"Push Notifications"}),f("div",{className:"space-y-3",children:[{id:"reminders",label:"Medication Reminders"},{id:"updates",label:"Health Updates"},{id:"news",label:"Healthcare News"}].map(K=>C("div",{className:"flex items-center",children:[f("input",{type:"checkbox",id:`push-${K.id}`,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),f("label",{htmlFor:`push-${K.id}`,className:"ml-2 block text-sm text-gray-700",children:K.label})]},K.id))})]})]})]}),N=()=>C("div",{className:"space-y-6",children:[f("div",{className:"flex justify-between items-center",children:f("h3",{className:"text-lg font-medium text-gray-900",children:"Privacy Settings"})}),C("div",{className:"space-y-6",children:[C("div",{children:[f("h4",{className:"text-md font-medium text-gray-700 mb-4",children:"Profile Visibility"}),f("div",{className:"space-y-3",children:C("div",{className:"flex items-center justify-between",children:[C("div",{children:[f("p",{className:"text-sm font-medium text-gray-700",children:"Who can see your profile"}),f("p",{className:"text-sm text-gray-500",children:"Choose who can view your medical history"})]}),C("select",{className:"mt-1 block w-48 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[f("option",{children:"Only My Doctors"}),f("option",{children:"Healthcare Team"}),f("option",{children:"Custom"})]})]})})]}),C("div",{className:"pt-6 border-t border-gray-200",children:[f("h4",{className:"text-md font-medium text-gray-700 mb-4",children:"Data Sharing"}),f("div",{className:"space-y-3",children:[{id:"research",label:"Share data for medical research",description:"Your data will be anonymized"},{id:"insurance",label:"Share with insurance provider",description:"Required for claims processing"},{id:"analytics",label:"Healthcare analytics",description:"Help improve our services"}].map(K=>C("div",{className:"flex items-center justify-between",children:[C("div",{children:[f("p",{className:"text-sm font-medium text-gray-700",children:K.label}),f("p",{className:"text-sm text-gray-500",children:K.description})]}),f("div",{className:"flex items-center",children:f("input",{type:"checkbox",id:K.id,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})})]},K.id))})]}),C("div",{className:"pt-6 border-t border-gray-200",children:[f("h4",{className:"text-md font-medium text-gray-700 mb-4",children:"Your Data"}),C("div",{className:"space-y-4",children:[f("button",{className:"px-4 py-2 text-sm font-medium text-blue-600 border border-blue-600 rounded-md hover:bg-blue-50",children:"Download Medical Records"}),f("button",{className:"ml-4 px-4 py-2 text-sm font-medium text-red-600 border border-red-600 rounded-md hover:bg-red-50",children:"Delete Account"})]})]})]})]}),le=()=>{switch(e){case"personal":return A();case"medical":return b();case"preferences":return P();case"security":return D();case"notifications":return V();case"privacy":return N();default:return A()}};return s?f("div",{className:"flex items-center justify-center min-h-screen",children:f("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):f("div",{className:"py-8 px-4 sm:px-6 lg:px-8",children:C("div",{className:"max-w-7xl mx-auto",children:[f(ae.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-lg p-6 mb-8",children:C("div",{className:"flex items-center space-x-4",children:[f("div",{className:"h-20 w-20 bg-blue-100 rounded-full flex items-center justify-center",children:f(Id,{className:"h-12 w-12 text-blue-600"})}),C("div",{children:[f("h1",{className:"text-2xl font-bold text-gray-900",children:h.fullName}),f("p",{className:"text-gray-500",children:h.email})]})]})}),C("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[f(ae.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"lg:col-span-1",children:f("div",{className:"bg-white rounded-lg shadow",children:f("nav",{className:"space-y-1",children:_.map(K=>C("button",{onClick:()=>n(K.id),className:`w-full flex items-center px-4 py-3 text-sm font-medium ${e===K.id?"bg-blue-50 text-blue-600 border-l-4 border-blue-600":"text-gray-600 hover:bg-gray-50"}`,children:[f(K.icon,{className:"h-5 w-5 mr-3"}),K.label]},K.id))})})}),f(ae.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"lg:col-span-3",children:f("div",{className:"bg-white rounded-lg shadow",children:f("div",{className:"p-6",children:le()})})})]})]})})}function AF(){const{currentUser:t}=_n(),e=Rn(),[n,r]=v.useState(!1),[i,s]=v.useState(""),[o,a]=v.useState(""),[l,u]=v.useState({bloodPressure:"",heartRate:"",weight:"",height:"",temperature:"",bloodSugar:"",oxygenLevel:"",bmi:"",notes:""});v.useEffect(()=>{const p=async()=>{try{const y=await na(At(je,"healthMetrics",t.uid));if(y.exists()){const E=y.data().metrics[0];u(S=>({...S,...E}))}}catch(y){console.error("Error fetching metrics:",y)}};t!=null&&t.uid&&p()},[t]);const d=p=>{const{name:y,value:E}=p.target;if(u(S=>({...S,[y]:E})),(y==="height"||y==="weight")&&l.height&&l.weight){const S=parseFloat(l.height)/100,R=parseFloat(l.weight);if(!isNaN(S)&&!isNaN(R)&&S>0){const T=(R/(S*S)).toFixed(1);u(w=>({...w,bmi:T}))}}},h=async p=>{p.preventDefault(),r(!0),a(""),s("");try{const y=At(je,"healthMetrics",t.uid),E=await na(y),S={...l,date:new Date().toISOString(),createdAt:rn()};if(E.exists()){const R=E.data().metrics||[];await wi(y,{userId:t.uid,metrics:[S,...R].slice(0,10)})}else await wi(y,{userId:t.uid,metrics:[S]});s("Health metrics saved successfully!"),setTimeout(()=>{e("/dashboard")},2e3)}catch(y){console.error("Error saving metrics:",y),a("Failed to save health metrics")}finally{r(!1)}};return f("div",{className:"py-8 px-4 sm:px-6 lg:px-8",children:f("div",{className:"max-w-3xl mx-auto",children:C(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[f("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-8",children:C("div",{className:"flex items-center",children:[f("button",{onClick:()=>e("/dashboard"),className:"text-white hover:text-blue-100 transition-colors",children:f(ND,{className:"h-6 w-6"})}),C("div",{className:"ml-4",children:[f("h1",{className:"text-2xl font-bold text-white",children:"Health Metrics"}),f("p",{className:"mt-2 text-blue-100",children:"Track and monitor your vital health measurements"})]})]})}),C("form",{onSubmit:h,className:"p-6 space-y-6",children:[o&&f("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 text-red-700",children:o}),i&&f("div",{className:"bg-green-50 border-l-4 border-green-400 p-4 text-green-700",children:i}),C("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:C("div",{className:"flex items-center",children:[f(bd,{className:"h-5 w-5 text-gray-400 mr-2"}),"Blood Pressure (mmHg)"]})}),f("input",{type:"text",name:"bloodPressure",value:l.bloodPressure,onChange:d,placeholder:"120/80",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:C("div",{className:"flex items-center",children:[f(bd,{className:"h-5 w-5 text-gray-400 mr-2"}),"Heart Rate (bpm)"]})}),f("input",{type:"number",name:"heartRate",value:l.heartRate,onChange:d,placeholder:"72",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:C("div",{className:"flex items-center",children:[f(Sw,{className:"h-5 w-5 text-gray-400 mr-2"}),"Weight (kg)"]})}),f("input",{type:"number",step:"0.1",name:"weight",value:l.weight,onChange:d,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:C("div",{className:"flex items-center",children:[f(Sw,{className:"h-5 w-5 text-gray-400 mr-2"}),"Height (cm)"]})}),f("input",{type:"number",name:"height",value:l.height,onChange:d,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"BMI"}),f("input",{type:"text",value:l.bmi,disabled:!0,className:"mt-1 block w-full rounded-md border-gray-300 bg-gray-50 shadow-sm"})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:C("div",{className:"flex items-center",children:[f(G2,{className:"h-5 w-5 text-gray-400 mr-2"}),"Blood Sugar (mg/dL)"]})}),f("input",{type:"number",name:"bloodSugar",value:l.bloodSugar,onChange:d,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Oxygen Level (%)"}),f("input",{type:"number",name:"oxygenLevel",value:l.oxygenLevel,onChange:d,max:"100",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Temperature (°F)"}),f("input",{type:"number",step:"0.1",name:"temperature",value:l.temperature,onChange:d,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Additional Notes"}),f("textarea",{name:"notes",value:l.notes,onChange:d,rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Any additional information about your health metrics..."})]}),f("div",{className:"flex justify-end",children:f(ae.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:n,className:"px-6 py-3 bg-blue-600 text-white font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:n?"Saving...":"Save Metrics"})})]})]})})})}function RF({product:t,onAddToCart:e}){return C(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:[f("img",{src:t.image,alt:t.name,className:"w-full h-48 object-cover"}),C("div",{className:"p-4",children:[f("h3",{className:"text-lg font-semibold text-gray-900",children:t.name}),f("p",{className:"text-sm text-gray-500",children:t.description}),C("div",{className:"mt-4 flex items-center justify-between",children:[C("span",{className:"text-lg font-bold text-gray-900",children:["₹",t.price.toFixed(2)]}),C(ae.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e(t),className:"flex items-center px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[f(J2,{className:"h-5 w-5 mr-1"}),"Add to Cart"]})]})]})]})}const TI=v.createContext();function ry(){return v.useContext(TI)}function NF({children:t}){const[e,n]=v.useState([]),[r,i]=v.useState(!0),{currentUser:s}=_n();v.useEffect(()=>{(async()=>{if(!s){n([]),i(!1);return}try{const p=await na(At(je,"carts",s.uid));p.exists()?n(p.data().items||[]):(await wi(At(je,"carts",s.uid),{items:[],updatedAt:rn()}),n([]))}catch(p){console.error("Error fetching cart:",p)}finally{i(!1)}})()},[s]),v.useEffect(()=>{r||(async()=>{if(s)try{await wi(At(je,"carts",s.uid),{items:e,updatedAt:rn()})}catch(p){console.error("Error saving cart:",p)}})()},[e,s,r]);const d={cart:e,addToCart:async h=>{if(s)try{const p=At(je,"carts",s.uid),y={id:h.id,name:h.name,price:h.price,image:h.image,quantity:1},E=e,S=E.findIndex(T=>T.id===h.id);let R;S>=0?R=E.map((T,w)=>w===S?{...T,quantity:T.quantity+1}:T):R=[...E,y],await wi(p,{items:R,updatedAt:rn()}),n(R)}catch(p){console.error("Error adding to cart:",p)}},updateQuantity:async(h,p)=>{if(s)try{const y=At(je,"carts",s.uid);let E;p<=0?E=e.filter(S=>S.id!==h):E=e.map(S=>S.id===h?{...S,quantity:p}:S),await wi(y,{items:E,updatedAt:rn()}),n(E)}catch(y){console.error("Error updating cart:",y)}},getCartTotal:()=>e.reduce((h,p)=>h+p.price*p.quantity,0),clearCart:()=>{n([])},loading:r};return f(TI.Provider,{value:d,children:t})}function kF({isOpen:t,onClose:e}){const n=Rn(),{cart:r,updateQuantity:i,getCartTotal:s}=ry(),o=(u,d)=>{d>=0&&i(u,d)},a=u=>{i(u,0)},l=()=>{n("/checkout"),e()};return f(wh,{children:t&&C(ws,{children:[f(ae.div,{initial:{opacity:0},animate:{opacity:.5},exit:{opacity:0},className:"fixed inset-0 bg-black z-40",onClick:e}),f(ae.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"tween"},className:"fixed right-0 top-0 h-full w-full max-w-md bg-white shadow-xl z-50",children:C("div",{className:"flex flex-col h-full",children:[f("div",{className:"p-4 border-b",children:C("div",{className:"flex items-center justify-between",children:[f("h2",{className:"text-lg font-semibold",children:"Shopping Cart"}),f("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full",children:f(_h,{className:"h-6 w-6"})})]})}),f("div",{className:"flex-1 overflow-y-auto p-4",children:r.length===0?f("div",{className:"text-center py-8 text-gray-500",children:"Your cart is empty"}):f("div",{className:"space-y-4",children:r.map(u=>C(ae.div,{layout:!0,className:"flex items-center space-x-4 bg-gray-50 p-4 rounded-lg",children:[f("img",{src:u.image,alt:u.name,className:"w-20 h-20 object-cover rounded"}),C("div",{className:"flex-1",children:[f("h3",{className:"font-medium",children:u.name}),C("p",{className:"text-sm text-gray-500",children:["₹",u.price.toFixed(2)]}),C("div",{className:"mt-2 flex items-center space-x-2",children:[f("button",{onClick:()=>o(u.id,u.quantity-1),className:"p-1 px-2 text-gray-500 hover:text-gray-700 hover:bg-gray-200 rounded",children:"-"}),f("span",{className:"px-2",children:u.quantity}),f("button",{onClick:()=>o(u.id,u.quantity+1),className:"p-1 px-2 text-gray-500 hover:text-gray-700 hover:bg-gray-200 rounded",children:"+"})]})]}),f("button",{onClick:()=>a(u.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-full",children:f(nM,{className:"h-5 w-5"})})]},u.id))})}),r.length>0&&C("div",{className:"p-4 border-t",children:[C("div",{className:"flex justify-between mb-4",children:[f("span",{className:"font-medium",children:"Total"}),C("span",{className:"font-bold",children:["₹",s().toFixed(2)]})]}),f("button",{onClick:l,className:"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Proceed to Checkout"})]})]})})]})})}function DF({isOpen:t,onClose:e,selectedCategory:n,onSelectCategory:r}){const i=["all","prescription","over-the-counter","vitamins","personal care","first aid","baby care","health devices"],s=[{label:"Under ₹100",value:"0-100"},{label:"₹100 - ₹500",value:"100-500"},{label:"₹500 - ₹1000",value:"500-1000"},{label:"Over ₹1000",value:"1000-above"}];return f(wh,{children:t&&C(ws,{children:[f(ae.div,{initial:{opacity:0},animate:{opacity:.5},exit:{opacity:0},className:"fixed inset-0 bg-black z-40",onClick:e}),f(ae.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"tween"},className:"fixed left-0 top-0 h-full w-full max-w-xs bg-white shadow-xl z-50",children:C("div",{className:"flex flex-col h-full",children:[C("div",{className:"p-4 border-b flex items-center justify-between",children:[C("div",{className:"flex items-center",children:[f(bL,{className:"h-5 w-5 text-gray-500 mr-2"}),f("h2",{className:"text-lg font-semibold",children:"Filters"})]}),f("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full",children:f(_h,{className:"h-6 w-6"})})]}),C("div",{className:"flex-1 overflow-y-auto p-4",children:[C("div",{className:"mb-8",children:[f("h3",{className:"text-sm font-medium text-gray-900 mb-4",children:"Categories"}),f("div",{className:"space-y-2",children:i.map(o=>f("button",{onClick:()=>{r(o),e()},className:`w-full text-left px-3 py-2 rounded-md text-sm ${n===o?"bg-blue-50 text-blue-600":"text-gray-700 hover:bg-gray-50"}`,children:o.charAt(0).toUpperCase()+o.slice(1)},o))})]}),C("div",{className:"mb-8",children:[f("h3",{className:"text-sm font-medium text-gray-900 mb-4",children:"Price Range"}),f("div",{className:"space-y-2",children:s.map(o=>C("label",{className:"flex items-center",children:[f("input",{type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),f("span",{className:"ml-2 text-sm text-gray-700",children:o.label})]},o.value))})]}),C("div",{className:"mb-8",children:[f("h3",{className:"text-sm font-medium text-gray-900 mb-4",children:"Availability"}),C("div",{className:"space-y-2",children:[C("label",{className:"flex items-center",children:[f("input",{type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),f("span",{className:"ml-2 text-sm text-gray-700",children:"In Stock"})]}),C("label",{className:"flex items-center",children:[f("input",{type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),f("span",{className:"ml-2 text-sm text-gray-700",children:"Prescription Required"})]})]})]}),C("div",{children:[f("h3",{className:"text-sm font-medium text-gray-900 mb-4",children:"Brands"}),f("div",{className:"space-y-2",children:["Brand A","Brand B","Brand C","Brand D"].map(o=>C("label",{className:"flex items-center",children:[f("input",{type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),f("span",{className:"ml-2 text-sm text-gray-700",children:o})]},o))})]})]}),f("div",{className:"p-4 border-t",children:f("button",{onClick:e,className:"w-full bg-blue-600 text-white py-2 rounded-md hover:bg-blue-700",children:"Apply Filters"})})]})})]})})}function LF(){const[t,e]=v.useState([]),[n,r]=v.useState(!0),[i,s]=v.useState(null),[o,a]=v.useState(""),[l,u]=v.useState("all"),[d,h]=v.useState(!1),[p,y]=v.useState(!1);_n();const{cart:E,addToCart:S}=ry(),R=["all","prescription","over-the-counter","vitamins","personal care","first aid","baby care","health devices"];v.useEffect(()=>{(async()=>{try{r(!0);const L=tr(je,"medicines"),k=(await ki(L)).docs.map(A=>({id:A.id,...A.data()}));e(k)}catch(L){console.error("Error fetching medicines:",L),s("Failed to load medicines")}finally{r(!1)}})()},[]);const T=async x=>{try{await S(x),y(!0)}catch(L){console.error("Error adding to cart:",L)}},w=t.filter(x=>(l==="all"||x.category===l)&&x.name.toLowerCase().includes(o.toLowerCase()));return n?f("div",{className:"flex justify-center items-center min-h-screen",children:f("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):i?f("div",{className:"text-center py-12",children:f("p",{className:"text-red-600",children:i})}):f("div",{className:"py-8 px-4 sm:px-6 lg:px-8",children:C("div",{className:"max-w-7xl mx-auto",children:[C("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-8",children:[C("div",{children:[f("h1",{className:"text-3xl font-bold text-gray-900",children:"MediStore"}),f("p",{className:"mt-2 text-gray-500",children:"Find and order your medications easily"})]}),C("div",{className:"mt-4 md:mt-0 flex items-center space-x-4",children:[f("button",{onClick:()=>h(!d),className:"p-2 text-gray-400 hover:text-gray-500",children:f(PD,{className:"h-6 w-6"})}),C("button",{onClick:()=>y(!0),className:"relative p-2 text-gray-400 hover:text-gray-500",children:[f(J2,{className:"h-6 w-6"}),E.length>0&&f("span",{className:"absolute -top-1 -right-1 bg-blue-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:E.reduce((x,L)=>x+L.quantity,0)})]})]})]}),C("div",{className:"mb-8",children:[C("div",{className:"relative",children:[f("input",{type:"text",placeholder:"Search medicines...",value:o,onChange:x=>a(x.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"}),f(LL,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]}),f("div",{className:"mt-4 flex flex-wrap gap-2",children:R.map(x=>f("button",{onClick:()=>u(x),className:`px-4 py-2 rounded-full text-sm font-medium ${l===x?"bg-blue-600 text-white":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:x.charAt(0).toUpperCase()+x.slice(1)},x))})]}),f("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:w.map(x=>f(RF,{product:x,onAddToCart:T},x.id))}),f(kF,{isOpen:p,onClose:()=>y(!1),cart:E}),f(DF,{isOpen:d,onClose:()=>h(!1),selectedCategory:l,onSelectCategory:u})]})})}function MF(){const[t,e]=v.useState([]),[n,r]=v.useState(!0),{currentUser:i}=_n();return v.useEffect(()=>{(async()=>{if(i)try{const o=Lo(tr(je,"orders"),Mo("userId","==",i.uid)),l=(await ki(o)).docs.map(u=>{var d;return{id:u.id,...u.data(),createdAt:(d=u.data().createdAt)==null?void 0:d.toDate()}});e(l)}catch(o){console.error("Error fetching orders:",o)}finally{r(!1)}})()},[i]),n?f("div",{className:"flex justify-center items-center min-h-screen",children:f("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):f("div",{className:"py-8 px-4 sm:px-6 lg:px-8",children:C("div",{className:"max-w-7xl mx-auto",children:[f("h1",{className:"text-2xl font-bold text-gray-900 mb-8",children:"Order History"}),t.length===0?f("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:f("p",{className:"text-gray-500",children:"No orders found"})}):f("div",{className:"space-y-6",children:t.map(s=>f(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow overflow-hidden",children:C("div",{className:"p-6",children:[C("div",{className:"flex justify-between items-start",children:[C("div",{children:[C("p",{className:"text-sm text-gray-500",children:["Order #",s.id]}),f("p",{className:"text-sm text-gray-500",children:s.createdAt.toLocaleDateString()})]}),f("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${s.status==="completed"?"bg-green-100 text-green-800":s.status==="processing"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:s.status})]}),C("div",{className:"mt-6",children:[f("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Items"}),f("div",{className:"space-y-4",children:s.items.map((o,a)=>C("div",{className:"flex items-center",children:[f("img",{src:o.image,alt:o.name,className:"h-16 w-16 object-cover rounded"}),C("div",{className:"ml-4",children:[f("p",{className:"text-sm font-medium text-gray-900",children:o.name}),C("p",{className:"text-sm text-gray-500",children:["Quantity: ",o.quantity," × ₹",o.price]})]})]},a))})]}),f("div",{className:"mt-6 pt-6 border-t border-gray-200",children:C("div",{className:"flex justify-between text-sm",children:[f("span",{className:"font-medium text-gray-900",children:"Total"}),C("span",{className:"font-medium text-gray-900",children:["₹",s.total.toFixed(2)]})]})})]})},s.id))})]})})}function VF(){const t=Rn(),{currentUser:e}=_n(),{cart:n,getCartTotal:r}=ry(),[i,s]=v.useState(!1),[o,a]=v.useState(""),[l,u]=v.useState({fullName:"",email:(e==null?void 0:e.email)||"",address:"",city:"",state:"",zipCode:"",phone:""}),d=p=>{const{name:y,value:E}=p.target;u(S=>({...S,[y]:E}))};return f("div",{className:"py-8 px-4 sm:px-6 lg:px-8",children:C("div",{className:"max-w-3xl mx-auto",children:[f("h1",{className:"text-2xl font-bold text-gray-900 mb-8",children:"Checkout"}),f("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:C("form",{onSubmit:async p=>{p.preventDefault(),s(!0),a("");try{const y={userId:e.uid,items:n,total:r(),shippingDetails:l,status:"processing",createdAt:rn()};await vI(tr(je,"orders"),y),t("/order-confirmation")}catch(y){console.error("Error placing order:",y),a("Failed to place order. Please try again.")}finally{s(!1)}},className:"p-6 space-y-6",children:[o&&f("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 text-red-700",children:o}),C("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Full Name"}),f("input",{type:"text",name:"fullName",value:l.fullName,onChange:d,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),f("input",{type:"email",name:"email",value:l.email,onChange:d,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),C("div",{className:"sm:col-span-2",children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Address"}),f("input",{type:"text",name:"address",value:l.address,onChange:d,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"City"}),f("input",{type:"text",name:"city",value:l.city,onChange:d,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"State"}),f("input",{type:"text",name:"state",value:l.state,onChange:d,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"ZIP Code"}),f("input",{type:"text",name:"zipCode",value:l.zipCode,onChange:d,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),f("input",{type:"tel",name:"phone",value:l.phone,onChange:d,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),f("div",{className:"border-t border-gray-200 pt-6",children:C("div",{className:"flex justify-between text-base font-medium text-gray-900",children:[f("p",{children:"Total"}),C("p",{children:["₹",r().toFixed(2)]})]})}),f("div",{className:"mt-6",children:f("button",{type:"submit",disabled:i,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:i?"Processing...":"Place Order"})})]})})]})})}const OF=MR([{path:"/",element:f(vF,{}),children:[{path:"/",element:f(EF,{})},{path:"/doctors",element:f(TF,{})},{path:"/appointments",element:f(eo,{children:f(xF,{})})},{path:"/contact",element:f(bF,{})},{path:"/services",element:f(SF,{})},{path:"/patient-portal",element:f(IF,{})},{path:"/dashboard",element:f(eo,{children:f(CF,{})})},{path:"/profile",element:f(eo,{children:f(PF,{})})},{path:"/health-metrics",element:f(eo,{children:f(AF,{})})},{path:"/medistore",element:f(LF,{})},{path:"/order-history",element:f(eo,{children:f(MF,{})})},{path:"/checkout",element:f(eo,{children:f(VF,{})})},{path:"*",element:f(yx,{to:"/",replace:!0})}]}]);rx(document.getElementById("root")).render(f(v.StrictMode,{children:f(mF,{children:f(NF,{children:f($R,{router:OF})})})}));
