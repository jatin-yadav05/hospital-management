var $I=Object.defineProperty;var HI=(t,e,n)=>e in t?$I(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var My=(t,e,n)=>(HI(t,typeof e!="symbol"?e+"":e,n),n);function W_(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function q_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var K_={exports:{}},qd={},G_={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tc=Symbol.for("react.element"),WI=Symbol.for("react.portal"),qI=Symbol.for("react.fragment"),KI=Symbol.for("react.strict_mode"),GI=Symbol.for("react.profiler"),QI=Symbol.for("react.provider"),YI=Symbol.for("react.context"),XI=Symbol.for("react.forward_ref"),JI=Symbol.for("react.suspense"),ZI=Symbol.for("react.memo"),eC=Symbol.for("react.lazy"),Vy=Symbol.iterator;function tC(t){return t===null||typeof t!="object"?null:(t=Vy&&t[Vy]||t["@@iterator"],typeof t=="function"?t:null)}var Q_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y_=Object.assign,X_={};function ra(t,e,n){this.props=t,this.context=e,this.refs=X_,this.updater=n||Q_}ra.prototype.isReactComponent={};ra.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ra.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function J_(){}J_.prototype=ra.prototype;function Lp(t,e,n){this.props=t,this.context=e,this.refs=X_,this.updater=n||Q_}var Mp=Lp.prototype=new J_;Mp.constructor=Lp;Y_(Mp,ra.prototype);Mp.isPureReactComponent=!0;var Oy=Array.isArray,Z_=Object.prototype.hasOwnProperty,Vp={current:null},eE={key:!0,ref:!0,__self:!0,__source:!0};function tE(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Z_.call(e,r)&&!eE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:tc,type:t,key:s,ref:o,props:i,_owner:Vp.current}}function nC(t,e){return{$$typeof:tc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Op(t){return typeof t=="object"&&t!==null&&t.$$typeof===tc}function rC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Fy=/\/+/g;function Yh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?rC(""+t.key):e.toString(36)}function yu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case tc:case WI:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Yh(o,0):r,Oy(i)?(n="",t!=null&&(n=t.replace(Fy,"$&/")+"/"),yu(i,e,n,"",function(u){return u})):i!=null&&(Op(i)&&(i=nC(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Fy,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Oy(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Yh(s,a);o+=yu(s,e,n,l,i)}else if(l=tC(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Yh(s,a++),o+=yu(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function $c(t,e,n){if(t==null)return t;var r=[],i=0;return yu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function iC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Xt={current:null},vu={transition:null},sC={ReactCurrentDispatcher:Xt,ReactCurrentBatchConfig:vu,ReactCurrentOwner:Vp};function nE(){throw Error("act(...) is not supported in production builds of React.")}Ee.Children={map:$c,forEach:function(t,e,n){$c(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return $c(t,function(){e++}),e},toArray:function(t){return $c(t,function(e){return e})||[]},only:function(t){if(!Op(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ee.Component=ra;Ee.Fragment=qI;Ee.Profiler=GI;Ee.PureComponent=Lp;Ee.StrictMode=KI;Ee.Suspense=JI;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sC;Ee.act=nE;Ee.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Y_({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Vp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Z_.call(e,l)&&!eE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:tc,type:t.type,key:i,ref:s,props:r,_owner:o}};Ee.createContext=function(t){return t={$$typeof:YI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:QI,_context:t},t.Consumer=t};Ee.createElement=tE;Ee.createFactory=function(t){var e=tE.bind(null,t);return e.type=t,e};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(t){return{$$typeof:XI,render:t}};Ee.isValidElement=Op;Ee.lazy=function(t){return{$$typeof:eC,_payload:{_status:-1,_result:t},_init:iC}};Ee.memo=function(t,e){return{$$typeof:ZI,type:t,compare:e===void 0?null:e}};Ee.startTransition=function(t){var e=vu.transition;vu.transition={};try{t()}finally{vu.transition=e}};Ee.unstable_act=nE;Ee.useCallback=function(t,e){return Xt.current.useCallback(t,e)};Ee.useContext=function(t){return Xt.current.useContext(t)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(t){return Xt.current.useDeferredValue(t)};Ee.useEffect=function(t,e){return Xt.current.useEffect(t,e)};Ee.useId=function(){return Xt.current.useId()};Ee.useImperativeHandle=function(t,e,n){return Xt.current.useImperativeHandle(t,e,n)};Ee.useInsertionEffect=function(t,e){return Xt.current.useInsertionEffect(t,e)};Ee.useLayoutEffect=function(t,e){return Xt.current.useLayoutEffect(t,e)};Ee.useMemo=function(t,e){return Xt.current.useMemo(t,e)};Ee.useReducer=function(t,e,n){return Xt.current.useReducer(t,e,n)};Ee.useRef=function(t){return Xt.current.useRef(t)};Ee.useState=function(t){return Xt.current.useState(t)};Ee.useSyncExternalStore=function(t,e,n){return Xt.current.useSyncExternalStore(t,e,n)};Ee.useTransition=function(){return Xt.current.useTransition()};Ee.version="18.3.1";G_.exports=Ee;var v=G_.exports;const rE=q_(v),oC=W_({__proto__:null,default:rE},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aC=v,lC=Symbol.for("react.element"),cC=Symbol.for("react.fragment"),uC=Object.prototype.hasOwnProperty,dC=aC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hC={key:!0,ref:!0,__self:!0,__source:!0};function iE(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)uC.call(e,r)&&!hC.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:lC,type:t,key:s,ref:o,props:i,_owner:dC.current}}qd.Fragment=cC;qd.jsx=iE;qd.jsxs=iE;K_.exports=qd;var Fp=K_.exports;const _i=Fp.Fragment,f=Fp.jsx,C=Fp.jsxs;var sE={exports:{}},vn={},oE={exports:{}},aE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(W,ie){var ce=W.length;W.push(ie);e:for(;0<ce;){var Ae=ce-1>>>1,Se=W[Ae];if(0<i(Se,ie))W[Ae]=ie,W[ce]=Se,ce=Ae;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var ie=W[0],ce=W.pop();if(ce!==ie){W[0]=ce;e:for(var Ae=0,Se=W.length,Ve=Se>>>1;Ae<Ve;){var ft=2*(Ae+1)-1,Tt=W[ft],xt=ft+1,qt=W[xt];if(0>i(Tt,ce))xt<Se&&0>i(qt,Tt)?(W[Ae]=qt,W[xt]=ce,Ae=xt):(W[Ae]=Tt,W[ft]=ce,Ae=ft);else if(xt<Se&&0>i(qt,ce))W[Ae]=qt,W[xt]=ce,Ae=xt;else break e}}return ie}function i(W,ie){var ce=W.sortIndex-ie.sortIndex;return ce!==0?ce:W.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,p=3,y=!1,E=!1,b=!1,R=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(W){for(var ie=n(u);ie!==null;){if(ie.callback===null)r(u);else if(ie.startTime<=W)r(u),ie.sortIndex=ie.expirationTime,e(l,ie);else break;ie=n(u)}}function L(W){if(b=!1,I(W),!E)if(n(l)!==null)E=!0,we(j);else{var ie=n(u);ie!==null&&re(L,ie.startTime-W)}}function j(W,ie){E=!1,b&&(b=!1,T(w),w=-1),y=!0;var ce=p;try{for(I(ie),h=n(l);h!==null&&(!(h.expirationTime>ie)||W&&!D());){var Ae=h.callback;if(typeof Ae=="function"){h.callback=null,p=h.priorityLevel;var Se=Ae(h.expirationTime<=ie);ie=t.unstable_now(),typeof Se=="function"?h.callback=Se:h===n(l)&&r(l),I(ie)}else r(l);h=n(l)}if(h!==null)var Ve=!0;else{var ft=n(u);ft!==null&&re(L,ft.startTime-ie),Ve=!1}return Ve}finally{h=null,p=ce,y=!1}}var k=!1,P=null,w=-1,x=5,A=-1;function D(){return!(t.unstable_now()-A<x)}function V(){if(P!==null){var W=t.unstable_now();A=W;var ie=!0;try{ie=P(!0,W)}finally{ie?N():(k=!1,P=null)}}else k=!1}var N;if(typeof _=="function")N=function(){_(V)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,K=le.port2;le.port1.onmessage=V,N=function(){K.postMessage(null)}}else N=function(){R(V,0)};function we(W){P=W,k||(k=!0,N())}function re(W,ie){w=R(function(){W(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){E||y||(E=!0,we(j))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(W){switch(p){case 1:case 2:case 3:var ie=3;break;default:ie=p}var ce=p;p=ie;try{return W()}finally{p=ce}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,ie){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ce=p;p=W;try{return ie()}finally{p=ce}},t.unstable_scheduleCallback=function(W,ie,ce){var Ae=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Ae+ce:Ae):ce=Ae,W){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=ce+Se,W={id:d++,callback:ie,priorityLevel:W,startTime:ce,expirationTime:Se,sortIndex:-1},ce>Ae?(W.sortIndex=ce,e(u,W),n(l)===null&&W===n(u)&&(b?(T(w),w=-1):b=!0,re(L,ce-Ae))):(W.sortIndex=Se,e(l,W),E||y||(E=!0,we(j))),W},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(W){var ie=p;return function(){var ce=p;p=ie;try{return W.apply(this,arguments)}finally{p=ce}}}})(aE);oE.exports=aE;var fC=oE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mC=v,gn=fC;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lE=new Set,Tl={};function Ls(t,e){Vo(t,e),Vo(t+"Capture",e)}function Vo(t,e){for(Tl[t]=e,t=0;t<e.length;t++)lE.add(e[t])}var Vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yf=Object.prototype.hasOwnProperty,pC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Uy={},jy={};function gC(t){return Yf.call(jy,t)?!0:Yf.call(Uy,t)?!1:pC.test(t)?jy[t]=!0:(Uy[t]=!0,!1)}function yC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function vC(t,e,n,r){if(e===null||typeof e>"u"||yC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Jt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){kt[t]=new Jt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];kt[e]=new Jt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){kt[t]=new Jt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){kt[t]=new Jt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){kt[t]=new Jt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){kt[t]=new Jt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){kt[t]=new Jt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){kt[t]=new Jt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){kt[t]=new Jt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Up=/[\-:]([a-z])/g;function jp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Up,jp);kt[e]=new Jt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Up,jp);kt[e]=new Jt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Up,jp);kt[e]=new Jt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){kt[t]=new Jt(t,1,!1,t.toLowerCase(),null,!1,!1)});kt.xlinkHref=new Jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){kt[t]=new Jt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Bp(t,e,n,r){var i=kt.hasOwnProperty(e)?kt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(vC(e,n,i,r)&&(n=null),r||i===null?gC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Wr=mC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hc=Symbol.for("react.element"),so=Symbol.for("react.portal"),oo=Symbol.for("react.fragment"),zp=Symbol.for("react.strict_mode"),Xf=Symbol.for("react.profiler"),cE=Symbol.for("react.provider"),uE=Symbol.for("react.context"),$p=Symbol.for("react.forward_ref"),Jf=Symbol.for("react.suspense"),Zf=Symbol.for("react.suspense_list"),Hp=Symbol.for("react.memo"),ai=Symbol.for("react.lazy"),dE=Symbol.for("react.offscreen"),By=Symbol.iterator;function Na(t){return t===null||typeof t!="object"?null:(t=By&&t[By]||t["@@iterator"],typeof t=="function"?t:null)}var et=Object.assign,Xh;function qa(t){if(Xh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Xh=e&&e[1]||""}return`
`+Xh+t}var Jh=!1;function Zh(t,e){if(!t||Jh)return"";Jh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Jh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?qa(t):""}function wC(t){switch(t.tag){case 5:return qa(t.type);case 16:return qa("Lazy");case 13:return qa("Suspense");case 19:return qa("SuspenseList");case 0:case 2:case 15:return t=Zh(t.type,!1),t;case 11:return t=Zh(t.type.render,!1),t;case 1:return t=Zh(t.type,!0),t;default:return""}}function em(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case oo:return"Fragment";case so:return"Portal";case Xf:return"Profiler";case zp:return"StrictMode";case Jf:return"Suspense";case Zf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case uE:return(t.displayName||"Context")+".Consumer";case cE:return(t._context.displayName||"Context")+".Provider";case $p:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Hp:return e=t.displayName||null,e!==null?e:em(t.type)||"Memo";case ai:e=t._payload,t=t._init;try{return em(t(e))}catch{}}return null}function _C(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return em(e);case 8:return e===zp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Li(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function hE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function EC(t){var e=hE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Wc(t){t._valueTracker||(t._valueTracker=EC(t))}function fE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=hE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Hu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function tm(t,e){var n=e.checked;return et({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function zy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Li(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function mE(t,e){e=e.checked,e!=null&&Bp(t,"checked",e,!1)}function nm(t,e){mE(t,e);var n=Li(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?rm(t,e.type,n):e.hasOwnProperty("defaultValue")&&rm(t,e.type,Li(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function $y(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function rm(t,e,n){(e!=="number"||Hu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ka=Array.isArray;function bo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Li(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function im(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return et({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Hy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(q(92));if(Ka(n)){if(1<n.length)throw Error(q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Li(n)}}function pE(t,e){var n=Li(e.value),r=Li(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Wy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function gE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?gE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var qc,yE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(qc=qc||document.createElement("div"),qc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=qc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function xl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var sl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},TC=["Webkit","ms","Moz","O"];Object.keys(sl).forEach(function(t){TC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),sl[e]=sl[t]})});function vE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||sl.hasOwnProperty(t)&&sl[t]?(""+e).trim():e+"px"}function wE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=vE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var xC=et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function om(t,e){if(e){if(xC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function am(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lm=null;function Wp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cm=null,So=null,Io=null;function qy(t){if(t=ic(t)){if(typeof cm!="function")throw Error(q(280));var e=t.stateNode;e&&(e=Xd(e),cm(t.stateNode,t.type,e))}}function _E(t){So?Io?Io.push(t):Io=[t]:So=t}function EE(){if(So){var t=So,e=Io;if(Io=So=null,qy(t),e)for(t=0;t<e.length;t++)qy(e[t])}}function TE(t,e){return t(e)}function xE(){}var ef=!1;function bE(t,e,n){if(ef)return t(e,n);ef=!0;try{return TE(t,e,n)}finally{ef=!1,(So!==null||Io!==null)&&(xE(),EE())}}function bl(t,e){var n=t.stateNode;if(n===null)return null;var r=Xd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(q(231,e,typeof n));return n}var um=!1;if(Vr)try{var ka={};Object.defineProperty(ka,"passive",{get:function(){um=!0}}),window.addEventListener("test",ka,ka),window.removeEventListener("test",ka,ka)}catch{um=!1}function bC(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var ol=!1,Wu=null,qu=!1,dm=null,SC={onError:function(t){ol=!0,Wu=t}};function IC(t,e,n,r,i,s,o,a,l){ol=!1,Wu=null,bC.apply(SC,arguments)}function CC(t,e,n,r,i,s,o,a,l){if(IC.apply(this,arguments),ol){if(ol){var u=Wu;ol=!1,Wu=null}else throw Error(q(198));qu||(qu=!0,dm=u)}}function Ms(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function SE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ky(t){if(Ms(t)!==t)throw Error(q(188))}function PC(t){var e=t.alternate;if(!e){if(e=Ms(t),e===null)throw Error(q(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ky(i),t;if(s===r)return Ky(i),e;s=s.sibling}throw Error(q(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?t:e}function IE(t){return t=PC(t),t!==null?CE(t):null}function CE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=CE(t);if(e!==null)return e;t=t.sibling}return null}var PE=gn.unstable_scheduleCallback,Gy=gn.unstable_cancelCallback,AC=gn.unstable_shouldYield,RC=gn.unstable_requestPaint,lt=gn.unstable_now,NC=gn.unstable_getCurrentPriorityLevel,qp=gn.unstable_ImmediatePriority,AE=gn.unstable_UserBlockingPriority,Ku=gn.unstable_NormalPriority,kC=gn.unstable_LowPriority,RE=gn.unstable_IdlePriority,Kd=null,nr=null;function DC(t){if(nr&&typeof nr.onCommitFiberRoot=="function")try{nr.onCommitFiberRoot(Kd,t,void 0,(t.current.flags&128)===128)}catch{}}var Fn=Math.clz32?Math.clz32:VC,LC=Math.log,MC=Math.LN2;function VC(t){return t>>>=0,t===0?32:31-(LC(t)/MC|0)|0}var Kc=64,Gc=4194304;function Ga(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Gu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Ga(a):(s&=o,s!==0&&(r=Ga(s)))}else o=n&~i,o!==0?r=Ga(o):s!==0&&(r=Ga(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Fn(e),i=1<<n,r|=t[n],e&=~i;return r}function OC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function FC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Fn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=OC(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function hm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function NE(){var t=Kc;return Kc<<=1,!(Kc&4194240)&&(Kc=64),t}function tf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function nc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Fn(e),t[e]=n}function UC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Fn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Kp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Fn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var De=0;function kE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var DE,Gp,LE,ME,VE,fm=!1,Qc=[],Ei=null,Ti=null,xi=null,Sl=new Map,Il=new Map,ci=[],jC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qy(t,e){switch(t){case"focusin":case"focusout":Ei=null;break;case"dragenter":case"dragleave":Ti=null;break;case"mouseover":case"mouseout":xi=null;break;case"pointerover":case"pointerout":Sl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(e.pointerId)}}function Da(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ic(e),e!==null&&Gp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function BC(t,e,n,r,i){switch(e){case"focusin":return Ei=Da(Ei,t,e,n,r,i),!0;case"dragenter":return Ti=Da(Ti,t,e,n,r,i),!0;case"mouseover":return xi=Da(xi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Sl.set(s,Da(Sl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Il.set(s,Da(Il.get(s)||null,t,e,n,r,i)),!0}return!1}function OE(t){var e=ms(t.target);if(e!==null){var n=Ms(e);if(n!==null){if(e=n.tag,e===13){if(e=SE(n),e!==null){t.blockedOn=e,VE(t.priority,function(){LE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=mm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);lm=r,n.target.dispatchEvent(r),lm=null}else return e=ic(n),e!==null&&Gp(e),t.blockedOn=n,!1;e.shift()}return!0}function Yy(t,e,n){wu(t)&&n.delete(e)}function zC(){fm=!1,Ei!==null&&wu(Ei)&&(Ei=null),Ti!==null&&wu(Ti)&&(Ti=null),xi!==null&&wu(xi)&&(xi=null),Sl.forEach(Yy),Il.forEach(Yy)}function La(t,e){t.blockedOn===e&&(t.blockedOn=null,fm||(fm=!0,gn.unstable_scheduleCallback(gn.unstable_NormalPriority,zC)))}function Cl(t){function e(i){return La(i,t)}if(0<Qc.length){La(Qc[0],t);for(var n=1;n<Qc.length;n++){var r=Qc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ei!==null&&La(Ei,t),Ti!==null&&La(Ti,t),xi!==null&&La(xi,t),Sl.forEach(e),Il.forEach(e),n=0;n<ci.length;n++)r=ci[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ci.length&&(n=ci[0],n.blockedOn===null);)OE(n),n.blockedOn===null&&ci.shift()}var Co=Wr.ReactCurrentBatchConfig,Qu=!0;function $C(t,e,n,r){var i=De,s=Co.transition;Co.transition=null;try{De=1,Qp(t,e,n,r)}finally{De=i,Co.transition=s}}function HC(t,e,n,r){var i=De,s=Co.transition;Co.transition=null;try{De=4,Qp(t,e,n,r)}finally{De=i,Co.transition=s}}function Qp(t,e,n,r){if(Qu){var i=mm(t,e,n,r);if(i===null)hf(t,e,r,Yu,n),Qy(t,r);else if(BC(i,t,e,n,r))r.stopPropagation();else if(Qy(t,r),e&4&&-1<jC.indexOf(t)){for(;i!==null;){var s=ic(i);if(s!==null&&DE(s),s=mm(t,e,n,r),s===null&&hf(t,e,r,Yu,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else hf(t,e,r,null,n)}}var Yu=null;function mm(t,e,n,r){if(Yu=null,t=Wp(r),t=ms(t),t!==null)if(e=Ms(t),e===null)t=null;else if(n=e.tag,n===13){if(t=SE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Yu=t,null}function FE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(NC()){case qp:return 1;case AE:return 4;case Ku:case kC:return 16;case RE:return 536870912;default:return 16}default:return 16}}var pi=null,Yp=null,_u=null;function UE(){if(_u)return _u;var t,e=Yp,n=e.length,r,i="value"in pi?pi.value:pi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return _u=i.slice(t,1<r?1-r:void 0)}function Eu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Yc(){return!0}function Xy(){return!1}function wn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Yc:Xy,this.isPropagationStopped=Xy,this}return et(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yc)},persist:function(){},isPersistent:Yc}),e}var ia={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xp=wn(ia),rc=et({},ia,{view:0,detail:0}),WC=wn(rc),nf,rf,Ma,Gd=et({},rc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ma&&(Ma&&t.type==="mousemove"?(nf=t.screenX-Ma.screenX,rf=t.screenY-Ma.screenY):rf=nf=0,Ma=t),nf)},movementY:function(t){return"movementY"in t?t.movementY:rf}}),Jy=wn(Gd),qC=et({},Gd,{dataTransfer:0}),KC=wn(qC),GC=et({},rc,{relatedTarget:0}),sf=wn(GC),QC=et({},ia,{animationName:0,elapsedTime:0,pseudoElement:0}),YC=wn(QC),XC=et({},ia,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),JC=wn(XC),ZC=et({},ia,{data:0}),Zy=wn(ZC),eP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=nP[t])?!!e[t]:!1}function Jp(){return rP}var iP=et({},rc,{key:function(t){if(t.key){var e=eP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Eu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?tP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jp,charCode:function(t){return t.type==="keypress"?Eu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Eu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),sP=wn(iP),oP=et({},Gd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ev=wn(oP),aP=et({},rc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jp}),lP=wn(aP),cP=et({},ia,{propertyName:0,elapsedTime:0,pseudoElement:0}),uP=wn(cP),dP=et({},Gd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),hP=wn(dP),fP=[9,13,27,32],Zp=Vr&&"CompositionEvent"in window,al=null;Vr&&"documentMode"in document&&(al=document.documentMode);var mP=Vr&&"TextEvent"in window&&!al,jE=Vr&&(!Zp||al&&8<al&&11>=al),tv=String.fromCharCode(32),nv=!1;function BE(t,e){switch(t){case"keyup":return fP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ao=!1;function pP(t,e){switch(t){case"compositionend":return zE(e);case"keypress":return e.which!==32?null:(nv=!0,tv);case"textInput":return t=e.data,t===tv&&nv?null:t;default:return null}}function gP(t,e){if(ao)return t==="compositionend"||!Zp&&BE(t,e)?(t=UE(),_u=Yp=pi=null,ao=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return jE&&e.locale!=="ko"?null:e.data;default:return null}}var yP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!yP[t.type]:e==="textarea"}function $E(t,e,n,r){_E(r),e=Xu(e,"onChange"),0<e.length&&(n=new Xp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ll=null,Pl=null;function vP(t){eT(t,0)}function Qd(t){var e=uo(t);if(fE(e))return t}function wP(t,e){if(t==="change")return e}var HE=!1;if(Vr){var of;if(Vr){var af="oninput"in document;if(!af){var iv=document.createElement("div");iv.setAttribute("oninput","return;"),af=typeof iv.oninput=="function"}of=af}else of=!1;HE=of&&(!document.documentMode||9<document.documentMode)}function sv(){ll&&(ll.detachEvent("onpropertychange",WE),Pl=ll=null)}function WE(t){if(t.propertyName==="value"&&Qd(Pl)){var e=[];$E(e,Pl,t,Wp(t)),bE(vP,e)}}function _P(t,e,n){t==="focusin"?(sv(),ll=e,Pl=n,ll.attachEvent("onpropertychange",WE)):t==="focusout"&&sv()}function EP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Qd(Pl)}function TP(t,e){if(t==="click")return Qd(e)}function xP(t,e){if(t==="input"||t==="change")return Qd(e)}function bP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Bn=typeof Object.is=="function"?Object.is:bP;function Al(t,e){if(Bn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Yf.call(e,i)||!Bn(t[i],e[i]))return!1}return!0}function ov(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function av(t,e){var n=ov(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ov(n)}}function qE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?qE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function KE(){for(var t=window,e=Hu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Hu(t.document)}return e}function eg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function SP(t){var e=KE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&qE(n.ownerDocument.documentElement,n)){if(r!==null&&eg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=av(n,s);var o=av(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var IP=Vr&&"documentMode"in document&&11>=document.documentMode,lo=null,pm=null,cl=null,gm=!1;function lv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gm||lo==null||lo!==Hu(r)||(r=lo,"selectionStart"in r&&eg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),cl&&Al(cl,r)||(cl=r,r=Xu(pm,"onSelect"),0<r.length&&(e=new Xp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=lo)))}function Xc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var co={animationend:Xc("Animation","AnimationEnd"),animationiteration:Xc("Animation","AnimationIteration"),animationstart:Xc("Animation","AnimationStart"),transitionend:Xc("Transition","TransitionEnd")},lf={},GE={};Vr&&(GE=document.createElement("div").style,"AnimationEvent"in window||(delete co.animationend.animation,delete co.animationiteration.animation,delete co.animationstart.animation),"TransitionEvent"in window||delete co.transitionend.transition);function Yd(t){if(lf[t])return lf[t];if(!co[t])return t;var e=co[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in GE)return lf[t]=e[n];return t}var QE=Yd("animationend"),YE=Yd("animationiteration"),XE=Yd("animationstart"),JE=Yd("transitionend"),ZE=new Map,cv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hi(t,e){ZE.set(t,e),Ls(e,[t])}for(var cf=0;cf<cv.length;cf++){var uf=cv[cf],CP=uf.toLowerCase(),PP=uf[0].toUpperCase()+uf.slice(1);Hi(CP,"on"+PP)}Hi(QE,"onAnimationEnd");Hi(YE,"onAnimationIteration");Hi(XE,"onAnimationStart");Hi("dblclick","onDoubleClick");Hi("focusin","onFocus");Hi("focusout","onBlur");Hi(JE,"onTransitionEnd");Vo("onMouseEnter",["mouseout","mouseover"]);Vo("onMouseLeave",["mouseout","mouseover"]);Vo("onPointerEnter",["pointerout","pointerover"]);Vo("onPointerLeave",["pointerout","pointerover"]);Ls("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ls("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ls("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ls("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ls("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ls("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AP=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qa));function uv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,CC(r,e,void 0,t),t.currentTarget=null}function eT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;uv(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;uv(i,a,u),s=l}}}if(qu)throw t=dm,qu=!1,dm=null,t}function We(t,e){var n=e[Em];n===void 0&&(n=e[Em]=new Set);var r=t+"__bubble";n.has(r)||(tT(e,t,2,!1),n.add(r))}function df(t,e,n){var r=0;e&&(r|=4),tT(n,t,r,e)}var Jc="_reactListening"+Math.random().toString(36).slice(2);function Rl(t){if(!t[Jc]){t[Jc]=!0,lE.forEach(function(n){n!=="selectionchange"&&(AP.has(n)||df(n,!1,t),df(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Jc]||(e[Jc]=!0,df("selectionchange",!1,e))}}function tT(t,e,n,r){switch(FE(e)){case 1:var i=$C;break;case 4:i=HC;break;default:i=Qp}n=i.bind(null,e,n,t),i=void 0,!um||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function hf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ms(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}bE(function(){var u=s,d=Wp(n),h=[];e:{var p=ZE.get(t);if(p!==void 0){var y=Xp,E=t;switch(t){case"keypress":if(Eu(n)===0)break e;case"keydown":case"keyup":y=sP;break;case"focusin":E="focus",y=sf;break;case"focusout":E="blur",y=sf;break;case"beforeblur":case"afterblur":y=sf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Jy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=KC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=lP;break;case QE:case YE:case XE:y=YC;break;case JE:y=uP;break;case"scroll":y=WC;break;case"wheel":y=hP;break;case"copy":case"cut":case"paste":y=JC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=ev}var b=(e&4)!==0,R=!b&&t==="scroll",T=b?p!==null?p+"Capture":null:p;b=[];for(var _=u,I;_!==null;){I=_;var L=I.stateNode;if(I.tag===5&&L!==null&&(I=L,T!==null&&(L=bl(_,T),L!=null&&b.push(Nl(_,L,I)))),R)break;_=_.return}0<b.length&&(p=new y(p,E,null,n,d),h.push({event:p,listeners:b}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",p&&n!==lm&&(E=n.relatedTarget||n.fromElement)&&(ms(E)||E[Or]))break e;if((y||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,y?(E=n.relatedTarget||n.toElement,y=u,E=E?ms(E):null,E!==null&&(R=Ms(E),E!==R||E.tag!==5&&E.tag!==6)&&(E=null)):(y=null,E=u),y!==E)){if(b=Jy,L="onMouseLeave",T="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(b=ev,L="onPointerLeave",T="onPointerEnter",_="pointer"),R=y==null?p:uo(y),I=E==null?p:uo(E),p=new b(L,_+"leave",y,n,d),p.target=R,p.relatedTarget=I,L=null,ms(d)===u&&(b=new b(T,_+"enter",E,n,d),b.target=I,b.relatedTarget=R,L=b),R=L,y&&E)t:{for(b=y,T=E,_=0,I=b;I;I=Js(I))_++;for(I=0,L=T;L;L=Js(L))I++;for(;0<_-I;)b=Js(b),_--;for(;0<I-_;)T=Js(T),I--;for(;_--;){if(b===T||T!==null&&b===T.alternate)break t;b=Js(b),T=Js(T)}b=null}else b=null;y!==null&&dv(h,p,y,b,!1),E!==null&&R!==null&&dv(h,R,E,b,!0)}}e:{if(p=u?uo(u):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var j=wP;else if(rv(p))if(HE)j=xP;else{j=EP;var k=_P}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(j=TP);if(j&&(j=j(t,u))){$E(h,j,n,d);break e}k&&k(t,p,u),t==="focusout"&&(k=p._wrapperState)&&k.controlled&&p.type==="number"&&rm(p,"number",p.value)}switch(k=u?uo(u):window,t){case"focusin":(rv(k)||k.contentEditable==="true")&&(lo=k,pm=u,cl=null);break;case"focusout":cl=pm=lo=null;break;case"mousedown":gm=!0;break;case"contextmenu":case"mouseup":case"dragend":gm=!1,lv(h,n,d);break;case"selectionchange":if(IP)break;case"keydown":case"keyup":lv(h,n,d)}var P;if(Zp)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else ao?BE(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(jE&&n.locale!=="ko"&&(ao||w!=="onCompositionStart"?w==="onCompositionEnd"&&ao&&(P=UE()):(pi=d,Yp="value"in pi?pi.value:pi.textContent,ao=!0)),k=Xu(u,w),0<k.length&&(w=new Zy(w,t,null,n,d),h.push({event:w,listeners:k}),P?w.data=P:(P=zE(n),P!==null&&(w.data=P)))),(P=mP?pP(t,n):gP(t,n))&&(u=Xu(u,"onBeforeInput"),0<u.length&&(d=new Zy("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=P))}eT(h,e)})}function Nl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Xu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=bl(t,n),s!=null&&r.unshift(Nl(t,s,i)),s=bl(t,e),s!=null&&r.push(Nl(t,s,i))),t=t.return}return r}function Js(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function dv(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=bl(n,s),l!=null&&o.unshift(Nl(n,l,a))):i||(l=bl(n,s),l!=null&&o.push(Nl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var RP=/\r\n?/g,NP=/\u0000|\uFFFD/g;function hv(t){return(typeof t=="string"?t:""+t).replace(RP,`
`).replace(NP,"")}function Zc(t,e,n){if(e=hv(e),hv(t)!==e&&n)throw Error(q(425))}function Ju(){}var ym=null,vm=null;function wm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var _m=typeof setTimeout=="function"?setTimeout:void 0,kP=typeof clearTimeout=="function"?clearTimeout:void 0,fv=typeof Promise=="function"?Promise:void 0,DP=typeof queueMicrotask=="function"?queueMicrotask:typeof fv<"u"?function(t){return fv.resolve(null).then(t).catch(LP)}:_m;function LP(t){setTimeout(function(){throw t})}function ff(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Cl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Cl(e)}function bi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function mv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var sa=Math.random().toString(36).slice(2),Zn="__reactFiber$"+sa,kl="__reactProps$"+sa,Or="__reactContainer$"+sa,Em="__reactEvents$"+sa,MP="__reactListeners$"+sa,VP="__reactHandles$"+sa;function ms(t){var e=t[Zn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Or]||n[Zn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=mv(t);t!==null;){if(n=t[Zn])return n;t=mv(t)}return e}t=n,n=t.parentNode}return null}function ic(t){return t=t[Zn]||t[Or],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function uo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function Xd(t){return t[kl]||null}var Tm=[],ho=-1;function Wi(t){return{current:t}}function Ke(t){0>ho||(t.current=Tm[ho],Tm[ho]=null,ho--)}function Ue(t,e){ho++,Tm[ho]=t.current,t.current=e}var Mi={},Ht=Wi(Mi),on=Wi(!1),bs=Mi;function Oo(t,e){var n=t.type.contextTypes;if(!n)return Mi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function an(t){return t=t.childContextTypes,t!=null}function Zu(){Ke(on),Ke(Ht)}function pv(t,e,n){if(Ht.current!==Mi)throw Error(q(168));Ue(Ht,e),Ue(on,n)}function nT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(q(108,_C(t)||"Unknown",i));return et({},n,r)}function ed(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Mi,bs=Ht.current,Ue(Ht,t),Ue(on,on.current),!0}function gv(t,e,n){var r=t.stateNode;if(!r)throw Error(q(169));n?(t=nT(t,e,bs),r.__reactInternalMemoizedMergedChildContext=t,Ke(on),Ke(Ht),Ue(Ht,t)):Ke(on),Ue(on,n)}var Er=null,Jd=!1,mf=!1;function rT(t){Er===null?Er=[t]:Er.push(t)}function OP(t){Jd=!0,rT(t)}function qi(){if(!mf&&Er!==null){mf=!0;var t=0,e=De;try{var n=Er;for(De=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Er=null,Jd=!1}catch(i){throw Er!==null&&(Er=Er.slice(t+1)),PE(qp,qi),i}finally{De=e,mf=!1}}return null}var fo=[],mo=0,td=null,nd=0,Sn=[],In=0,Ss=null,Tr=1,xr="";function as(t,e){fo[mo++]=nd,fo[mo++]=td,td=t,nd=e}function iT(t,e,n){Sn[In++]=Tr,Sn[In++]=xr,Sn[In++]=Ss,Ss=t;var r=Tr;t=xr;var i=32-Fn(r)-1;r&=~(1<<i),n+=1;var s=32-Fn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Tr=1<<32-Fn(e)+i|n<<i|r,xr=s+t}else Tr=1<<s|n<<i|r,xr=t}function tg(t){t.return!==null&&(as(t,1),iT(t,1,0))}function ng(t){for(;t===td;)td=fo[--mo],fo[mo]=null,nd=fo[--mo],fo[mo]=null;for(;t===Ss;)Ss=Sn[--In],Sn[In]=null,xr=Sn[--In],Sn[In]=null,Tr=Sn[--In],Sn[In]=null}var pn=null,fn=null,Qe=!1,On=null;function sT(t,e){var n=Cn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function yv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,pn=t,fn=bi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,pn=t,fn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ss!==null?{id:Tr,overflow:xr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Cn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,pn=t,fn=null,!0):!1;default:return!1}}function xm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function bm(t){if(Qe){var e=fn;if(e){var n=e;if(!yv(t,e)){if(xm(t))throw Error(q(418));e=bi(n.nextSibling);var r=pn;e&&yv(t,e)?sT(r,n):(t.flags=t.flags&-4097|2,Qe=!1,pn=t)}}else{if(xm(t))throw Error(q(418));t.flags=t.flags&-4097|2,Qe=!1,pn=t}}}function vv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;pn=t}function eu(t){if(t!==pn)return!1;if(!Qe)return vv(t),Qe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!wm(t.type,t.memoizedProps)),e&&(e=fn)){if(xm(t))throw oT(),Error(q(418));for(;e;)sT(t,e),e=bi(e.nextSibling)}if(vv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){fn=bi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}fn=null}}else fn=pn?bi(t.stateNode.nextSibling):null;return!0}function oT(){for(var t=fn;t;)t=bi(t.nextSibling)}function Fo(){fn=pn=null,Qe=!1}function rg(t){On===null?On=[t]:On.push(t)}var FP=Wr.ReactCurrentBatchConfig;function Va(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,t))}return t}function tu(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function wv(t){var e=t._init;return e(t._payload)}function aT(t){function e(T,_){if(t){var I=T.deletions;I===null?(T.deletions=[_],T.flags|=16):I.push(_)}}function n(T,_){if(!t)return null;for(;_!==null;)e(T,_),_=_.sibling;return null}function r(T,_){for(T=new Map;_!==null;)_.key!==null?T.set(_.key,_):T.set(_.index,_),_=_.sibling;return T}function i(T,_){return T=Pi(T,_),T.index=0,T.sibling=null,T}function s(T,_,I){return T.index=I,t?(I=T.alternate,I!==null?(I=I.index,I<_?(T.flags|=2,_):I):(T.flags|=2,_)):(T.flags|=1048576,_)}function o(T){return t&&T.alternate===null&&(T.flags|=2),T}function a(T,_,I,L){return _===null||_.tag!==6?(_=Ef(I,T.mode,L),_.return=T,_):(_=i(_,I),_.return=T,_)}function l(T,_,I,L){var j=I.type;return j===oo?d(T,_,I.props.children,L,I.key):_!==null&&(_.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ai&&wv(j)===_.type)?(L=i(_,I.props),L.ref=Va(T,_,I),L.return=T,L):(L=Pu(I.type,I.key,I.props,null,T.mode,L),L.ref=Va(T,_,I),L.return=T,L)}function u(T,_,I,L){return _===null||_.tag!==4||_.stateNode.containerInfo!==I.containerInfo||_.stateNode.implementation!==I.implementation?(_=Tf(I,T.mode,L),_.return=T,_):(_=i(_,I.children||[]),_.return=T,_)}function d(T,_,I,L,j){return _===null||_.tag!==7?(_=Es(I,T.mode,L,j),_.return=T,_):(_=i(_,I),_.return=T,_)}function h(T,_,I){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Ef(""+_,T.mode,I),_.return=T,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Hc:return I=Pu(_.type,_.key,_.props,null,T.mode,I),I.ref=Va(T,null,_),I.return=T,I;case so:return _=Tf(_,T.mode,I),_.return=T,_;case ai:var L=_._init;return h(T,L(_._payload),I)}if(Ka(_)||Na(_))return _=Es(_,T.mode,I,null),_.return=T,_;tu(T,_)}return null}function p(T,_,I,L){var j=_!==null?_.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return j!==null?null:a(T,_,""+I,L);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Hc:return I.key===j?l(T,_,I,L):null;case so:return I.key===j?u(T,_,I,L):null;case ai:return j=I._init,p(T,_,j(I._payload),L)}if(Ka(I)||Na(I))return j!==null?null:d(T,_,I,L,null);tu(T,I)}return null}function y(T,_,I,L,j){if(typeof L=="string"&&L!==""||typeof L=="number")return T=T.get(I)||null,a(_,T,""+L,j);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Hc:return T=T.get(L.key===null?I:L.key)||null,l(_,T,L,j);case so:return T=T.get(L.key===null?I:L.key)||null,u(_,T,L,j);case ai:var k=L._init;return y(T,_,I,k(L._payload),j)}if(Ka(L)||Na(L))return T=T.get(I)||null,d(_,T,L,j,null);tu(_,L)}return null}function E(T,_,I,L){for(var j=null,k=null,P=_,w=_=0,x=null;P!==null&&w<I.length;w++){P.index>w?(x=P,P=null):x=P.sibling;var A=p(T,P,I[w],L);if(A===null){P===null&&(P=x);break}t&&P&&A.alternate===null&&e(T,P),_=s(A,_,w),k===null?j=A:k.sibling=A,k=A,P=x}if(w===I.length)return n(T,P),Qe&&as(T,w),j;if(P===null){for(;w<I.length;w++)P=h(T,I[w],L),P!==null&&(_=s(P,_,w),k===null?j=P:k.sibling=P,k=P);return Qe&&as(T,w),j}for(P=r(T,P);w<I.length;w++)x=y(P,T,w,I[w],L),x!==null&&(t&&x.alternate!==null&&P.delete(x.key===null?w:x.key),_=s(x,_,w),k===null?j=x:k.sibling=x,k=x);return t&&P.forEach(function(D){return e(T,D)}),Qe&&as(T,w),j}function b(T,_,I,L){var j=Na(I);if(typeof j!="function")throw Error(q(150));if(I=j.call(I),I==null)throw Error(q(151));for(var k=j=null,P=_,w=_=0,x=null,A=I.next();P!==null&&!A.done;w++,A=I.next()){P.index>w?(x=P,P=null):x=P.sibling;var D=p(T,P,A.value,L);if(D===null){P===null&&(P=x);break}t&&P&&D.alternate===null&&e(T,P),_=s(D,_,w),k===null?j=D:k.sibling=D,k=D,P=x}if(A.done)return n(T,P),Qe&&as(T,w),j;if(P===null){for(;!A.done;w++,A=I.next())A=h(T,A.value,L),A!==null&&(_=s(A,_,w),k===null?j=A:k.sibling=A,k=A);return Qe&&as(T,w),j}for(P=r(T,P);!A.done;w++,A=I.next())A=y(P,T,w,A.value,L),A!==null&&(t&&A.alternate!==null&&P.delete(A.key===null?w:A.key),_=s(A,_,w),k===null?j=A:k.sibling=A,k=A);return t&&P.forEach(function(V){return e(T,V)}),Qe&&as(T,w),j}function R(T,_,I,L){if(typeof I=="object"&&I!==null&&I.type===oo&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case Hc:e:{for(var j=I.key,k=_;k!==null;){if(k.key===j){if(j=I.type,j===oo){if(k.tag===7){n(T,k.sibling),_=i(k,I.props.children),_.return=T,T=_;break e}}else if(k.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ai&&wv(j)===k.type){n(T,k.sibling),_=i(k,I.props),_.ref=Va(T,k,I),_.return=T,T=_;break e}n(T,k);break}else e(T,k);k=k.sibling}I.type===oo?(_=Es(I.props.children,T.mode,L,I.key),_.return=T,T=_):(L=Pu(I.type,I.key,I.props,null,T.mode,L),L.ref=Va(T,_,I),L.return=T,T=L)}return o(T);case so:e:{for(k=I.key;_!==null;){if(_.key===k)if(_.tag===4&&_.stateNode.containerInfo===I.containerInfo&&_.stateNode.implementation===I.implementation){n(T,_.sibling),_=i(_,I.children||[]),_.return=T,T=_;break e}else{n(T,_);break}else e(T,_);_=_.sibling}_=Tf(I,T.mode,L),_.return=T,T=_}return o(T);case ai:return k=I._init,R(T,_,k(I._payload),L)}if(Ka(I))return E(T,_,I,L);if(Na(I))return b(T,_,I,L);tu(T,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,_!==null&&_.tag===6?(n(T,_.sibling),_=i(_,I),_.return=T,T=_):(n(T,_),_=Ef(I,T.mode,L),_.return=T,T=_),o(T)):n(T,_)}return R}var Uo=aT(!0),lT=aT(!1),rd=Wi(null),id=null,po=null,ig=null;function sg(){ig=po=id=null}function og(t){var e=rd.current;Ke(rd),t._currentValue=e}function Sm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Po(t,e){id=t,ig=po=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(sn=!0),t.firstContext=null)}function An(t){var e=t._currentValue;if(ig!==t)if(t={context:t,memoizedValue:e,next:null},po===null){if(id===null)throw Error(q(308));po=t,id.dependencies={lanes:0,firstContext:t}}else po=po.next=t;return e}var ps=null;function ag(t){ps===null?ps=[t]:ps.push(t)}function cT(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,ag(e)):(n.next=i.next,i.next=n),e.interleaved=n,Fr(t,r)}function Fr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var li=!1;function lg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Pr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Si(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Re&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Fr(t,n)}return i=r.interleaved,i===null?(e.next=e,ag(r)):(e.next=i.next,i.next=e),r.interleaved=e,Fr(t,n)}function Tu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Kp(t,n)}}function _v(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function sd(t,e,n,r){var i=t.updateQueue;li=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=u=l=null,a=s;do{var p=a.lane,y=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=t,b=a;switch(p=e,y=n,b.tag){case 1:if(E=b.payload,typeof E=="function"){h=E.call(y,h,p);break e}h=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=b.payload,p=typeof E=="function"?E.call(y,h,p):E,p==null)break e;h=et({},h,p);break e;case 2:li=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else y={eventTime:y,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=y,l=h):d=d.next=y,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Cs|=o,t.lanes=o,t.memoizedState=h}}function Ev(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(q(191,i));i.call(r)}}}var sc={},rr=Wi(sc),Dl=Wi(sc),Ll=Wi(sc);function gs(t){if(t===sc)throw Error(q(174));return t}function cg(t,e){switch(Ue(Ll,e),Ue(Dl,t),Ue(rr,sc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:sm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=sm(e,t)}Ke(rr),Ue(rr,e)}function jo(){Ke(rr),Ke(Dl),Ke(Ll)}function dT(t){gs(Ll.current);var e=gs(rr.current),n=sm(e,t.type);e!==n&&(Ue(Dl,t),Ue(rr,n))}function ug(t){Dl.current===t&&(Ke(rr),Ke(Dl))}var Xe=Wi(0);function od(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var pf=[];function dg(){for(var t=0;t<pf.length;t++)pf[t]._workInProgressVersionPrimary=null;pf.length=0}var xu=Wr.ReactCurrentDispatcher,gf=Wr.ReactCurrentBatchConfig,Is=0,Ze=null,mt=null,vt=null,ad=!1,ul=!1,Ml=0,UP=0;function Vt(){throw Error(q(321))}function hg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Bn(t[n],e[n]))return!1;return!0}function fg(t,e,n,r,i,s){if(Is=s,Ze=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,xu.current=t===null||t.memoizedState===null?$P:HP,t=n(r,i),ul){s=0;do{if(ul=!1,Ml=0,25<=s)throw Error(q(301));s+=1,vt=mt=null,e.updateQueue=null,xu.current=WP,t=n(r,i)}while(ul)}if(xu.current=ld,e=mt!==null&&mt.next!==null,Is=0,vt=mt=Ze=null,ad=!1,e)throw Error(q(300));return t}function mg(){var t=Ml!==0;return Ml=0,t}function Jn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Ze.memoizedState=vt=t:vt=vt.next=t,vt}function Rn(){if(mt===null){var t=Ze.alternate;t=t!==null?t.memoizedState:null}else t=mt.next;var e=vt===null?Ze.memoizedState:vt.next;if(e!==null)vt=e,mt=t;else{if(t===null)throw Error(q(310));mt=t,t={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},vt===null?Ze.memoizedState=vt=t:vt=vt.next=t}return vt}function Vl(t,e){return typeof e=="function"?e(t):e}function yf(t){var e=Rn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=mt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((Is&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Ze.lanes|=d,Cs|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Bn(r,e.memoizedState)||(sn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ze.lanes|=s,Cs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function vf(t){var e=Rn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Bn(s,e.memoizedState)||(sn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function hT(){}function fT(t,e){var n=Ze,r=Rn(),i=e(),s=!Bn(r.memoizedState,i);if(s&&(r.memoizedState=i,sn=!0),r=r.queue,pg(gT.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||vt!==null&&vt.memoizedState.tag&1){if(n.flags|=2048,Ol(9,pT.bind(null,n,r,i,e),void 0,null),wt===null)throw Error(q(349));Is&30||mT(n,e,i)}return i}function mT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ze.updateQueue,e===null?(e={lastEffect:null,stores:null},Ze.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function pT(t,e,n,r){e.value=n,e.getSnapshot=r,yT(e)&&vT(t)}function gT(t,e,n){return n(function(){yT(e)&&vT(t)})}function yT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Bn(t,n)}catch{return!0}}function vT(t){var e=Fr(t,1);e!==null&&Un(e,t,1,-1)}function Tv(t){var e=Jn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vl,lastRenderedState:t},e.queue=t,t=t.dispatch=zP.bind(null,Ze,t),[e.memoizedState,t]}function Ol(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ze.updateQueue,e===null?(e={lastEffect:null,stores:null},Ze.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function wT(){return Rn().memoizedState}function bu(t,e,n,r){var i=Jn();Ze.flags|=t,i.memoizedState=Ol(1|e,n,void 0,r===void 0?null:r)}function Zd(t,e,n,r){var i=Rn();r=r===void 0?null:r;var s=void 0;if(mt!==null){var o=mt.memoizedState;if(s=o.destroy,r!==null&&hg(r,o.deps)){i.memoizedState=Ol(e,n,s,r);return}}Ze.flags|=t,i.memoizedState=Ol(1|e,n,s,r)}function xv(t,e){return bu(8390656,8,t,e)}function pg(t,e){return Zd(2048,8,t,e)}function _T(t,e){return Zd(4,2,t,e)}function ET(t,e){return Zd(4,4,t,e)}function TT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function xT(t,e,n){return n=n!=null?n.concat([t]):null,Zd(4,4,TT.bind(null,e,t),n)}function gg(){}function bT(t,e){var n=Rn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&hg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ST(t,e){var n=Rn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&hg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function IT(t,e,n){return Is&21?(Bn(n,e)||(n=NE(),Ze.lanes|=n,Cs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,sn=!0),t.memoizedState=n)}function jP(t,e){var n=De;De=n!==0&&4>n?n:4,t(!0);var r=gf.transition;gf.transition={};try{t(!1),e()}finally{De=n,gf.transition=r}}function CT(){return Rn().memoizedState}function BP(t,e,n){var r=Ci(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},PT(t))AT(e,n);else if(n=cT(t,e,n,r),n!==null){var i=Qt();Un(n,t,r,i),RT(n,e,r)}}function zP(t,e,n){var r=Ci(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(PT(t))AT(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Bn(a,o)){var l=e.interleaved;l===null?(i.next=i,ag(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=cT(t,e,i,r),n!==null&&(i=Qt(),Un(n,t,r,i),RT(n,e,r))}}function PT(t){var e=t.alternate;return t===Ze||e!==null&&e===Ze}function AT(t,e){ul=ad=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function RT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Kp(t,n)}}var ld={readContext:An,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},$P={readContext:An,useCallback:function(t,e){return Jn().memoizedState=[t,e===void 0?null:e],t},useContext:An,useEffect:xv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,bu(4194308,4,TT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return bu(4194308,4,t,e)},useInsertionEffect:function(t,e){return bu(4,2,t,e)},useMemo:function(t,e){var n=Jn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Jn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=BP.bind(null,Ze,t),[r.memoizedState,t]},useRef:function(t){var e=Jn();return t={current:t},e.memoizedState=t},useState:Tv,useDebugValue:gg,useDeferredValue:function(t){return Jn().memoizedState=t},useTransition:function(){var t=Tv(!1),e=t[0];return t=jP.bind(null,t[1]),Jn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ze,i=Jn();if(Qe){if(n===void 0)throw Error(q(407));n=n()}else{if(n=e(),wt===null)throw Error(q(349));Is&30||mT(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,xv(gT.bind(null,r,s,t),[t]),r.flags|=2048,Ol(9,pT.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Jn(),e=wt.identifierPrefix;if(Qe){var n=xr,r=Tr;n=(r&~(1<<32-Fn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ml++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=UP++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},HP={readContext:An,useCallback:bT,useContext:An,useEffect:pg,useImperativeHandle:xT,useInsertionEffect:_T,useLayoutEffect:ET,useMemo:ST,useReducer:yf,useRef:wT,useState:function(){return yf(Vl)},useDebugValue:gg,useDeferredValue:function(t){var e=Rn();return IT(e,mt.memoizedState,t)},useTransition:function(){var t=yf(Vl)[0],e=Rn().memoizedState;return[t,e]},useMutableSource:hT,useSyncExternalStore:fT,useId:CT,unstable_isNewReconciler:!1},WP={readContext:An,useCallback:bT,useContext:An,useEffect:pg,useImperativeHandle:xT,useInsertionEffect:_T,useLayoutEffect:ET,useMemo:ST,useReducer:vf,useRef:wT,useState:function(){return vf(Vl)},useDebugValue:gg,useDeferredValue:function(t){var e=Rn();return mt===null?e.memoizedState=t:IT(e,mt.memoizedState,t)},useTransition:function(){var t=vf(Vl)[0],e=Rn().memoizedState;return[t,e]},useMutableSource:hT,useSyncExternalStore:fT,useId:CT,unstable_isNewReconciler:!1};function Ln(t,e){if(t&&t.defaultProps){e=et({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Im(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:et({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var eh={isMounted:function(t){return(t=t._reactInternals)?Ms(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Qt(),i=Ci(t),s=Pr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Si(t,s,i),e!==null&&(Un(e,t,i,r),Tu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Qt(),i=Ci(t),s=Pr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Si(t,s,i),e!==null&&(Un(e,t,i,r),Tu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Qt(),r=Ci(t),i=Pr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Si(t,i,r),e!==null&&(Un(e,t,r,n),Tu(e,t,r))}};function bv(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Al(n,r)||!Al(i,s):!0}function NT(t,e,n){var r=!1,i=Mi,s=e.contextType;return typeof s=="object"&&s!==null?s=An(s):(i=an(e)?bs:Ht.current,r=e.contextTypes,s=(r=r!=null)?Oo(t,i):Mi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=eh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Sv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&eh.enqueueReplaceState(e,e.state,null)}function Cm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},lg(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=An(s):(s=an(e)?bs:Ht.current,i.context=Oo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Im(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&eh.enqueueReplaceState(i,i.state,null),sd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Bo(t,e){try{var n="",r=e;do n+=wC(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function wf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Pm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var qP=typeof WeakMap=="function"?WeakMap:Map;function kT(t,e,n){n=Pr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ud||(ud=!0,Fm=r),Pm(t,e)},n}function DT(t,e,n){n=Pr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Pm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Pm(t,e),typeof r!="function"&&(Ii===null?Ii=new Set([this]):Ii.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Iv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new qP;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=oA.bind(null,t,e,n),e.then(t,t))}function Cv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Pv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Pr(-1,1),e.tag=2,Si(n,e,1))),n.lanes|=1),t)}var KP=Wr.ReactCurrentOwner,sn=!1;function Kt(t,e,n,r){e.child=t===null?lT(e,null,n,r):Uo(e,t.child,n,r)}function Av(t,e,n,r,i){n=n.render;var s=e.ref;return Po(e,i),r=fg(t,e,n,r,s,i),n=mg(),t!==null&&!sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ur(t,e,i)):(Qe&&n&&tg(e),e.flags|=1,Kt(t,e,r,i),e.child)}function Rv(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!bg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,LT(t,e,s,r,i)):(t=Pu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Al,n(o,r)&&t.ref===e.ref)return Ur(t,e,i)}return e.flags|=1,t=Pi(s,r),t.ref=e.ref,t.return=e,e.child=t}function LT(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Al(s,r)&&t.ref===e.ref)if(sn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(sn=!0);else return e.lanes=t.lanes,Ur(t,e,i)}return Am(t,e,n,r,i)}function MT(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(yo,dn),dn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ue(yo,dn),dn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ue(yo,dn),dn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ue(yo,dn),dn|=r;return Kt(t,e,i,n),e.child}function VT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Am(t,e,n,r,i){var s=an(n)?bs:Ht.current;return s=Oo(e,s),Po(e,i),n=fg(t,e,n,r,s,i),r=mg(),t!==null&&!sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ur(t,e,i)):(Qe&&r&&tg(e),e.flags|=1,Kt(t,e,n,i),e.child)}function Nv(t,e,n,r,i){if(an(n)){var s=!0;ed(e)}else s=!1;if(Po(e,i),e.stateNode===null)Su(t,e),NT(e,n,r),Cm(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=An(u):(u=an(n)?bs:Ht.current,u=Oo(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Sv(e,o,r,u),li=!1;var p=e.memoizedState;o.state=p,sd(e,r,o,i),l=e.memoizedState,a!==r||p!==l||on.current||li?(typeof d=="function"&&(Im(e,n,d,r),l=e.memoizedState),(a=li||bv(e,n,a,r,p,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,uT(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Ln(e.type,a),o.props=u,h=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=An(l):(l=an(n)?bs:Ht.current,l=Oo(e,l));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&Sv(e,o,r,l),li=!1,p=e.memoizedState,o.state=p,sd(e,r,o,i);var E=e.memoizedState;a!==h||p!==E||on.current||li?(typeof y=="function"&&(Im(e,n,y,r),E=e.memoizedState),(u=li||bv(e,n,u,r,p,E,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,E,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,E,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),o.props=r,o.state=E,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Rm(t,e,n,r,s,i)}function Rm(t,e,n,r,i,s){VT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&gv(e,n,!1),Ur(t,e,s);r=e.stateNode,KP.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Uo(e,t.child,null,s),e.child=Uo(e,null,a,s)):Kt(t,e,a,s),e.memoizedState=r.state,i&&gv(e,n,!0),e.child}function OT(t){var e=t.stateNode;e.pendingContext?pv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&pv(t,e.context,!1),cg(t,e.containerInfo)}function kv(t,e,n,r,i){return Fo(),rg(i),e.flags|=256,Kt(t,e,n,r),e.child}var Nm={dehydrated:null,treeContext:null,retryLane:0};function km(t){return{baseLanes:t,cachePool:null,transitions:null}}function FT(t,e,n){var r=e.pendingProps,i=Xe.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ue(Xe,i&1),t===null)return bm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=rh(o,r,0,null),t=Es(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=km(n),e.memoizedState=Nm,t):yg(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return GP(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Pi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Pi(a,s):(s=Es(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?km(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Nm,r}return s=t.child,t=s.sibling,r=Pi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function yg(t,e){return e=rh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function nu(t,e,n,r){return r!==null&&rg(r),Uo(e,t.child,null,n),t=yg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function GP(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=wf(Error(q(422))),nu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=rh({mode:"visible",children:r.children},i,0,null),s=Es(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Uo(e,t.child,null,o),e.child.memoizedState=km(o),e.memoizedState=Nm,s);if(!(e.mode&1))return nu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(q(419)),r=wf(s,r,void 0),nu(t,e,o,r)}if(a=(o&t.childLanes)!==0,sn||a){if(r=wt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Fr(t,i),Un(r,t,i,-1))}return xg(),r=wf(Error(q(421))),nu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=aA.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,fn=bi(i.nextSibling),pn=e,Qe=!0,On=null,t!==null&&(Sn[In++]=Tr,Sn[In++]=xr,Sn[In++]=Ss,Tr=t.id,xr=t.overflow,Ss=e),e=yg(e,r.children),e.flags|=4096,e)}function Dv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Sm(t.return,e,n)}function _f(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function UT(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Kt(t,e,r.children,n),r=Xe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Dv(t,n,e);else if(t.tag===19)Dv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ue(Xe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&od(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),_f(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&od(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}_f(e,!0,n,null,s);break;case"together":_f(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Su(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ur(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Cs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,n=Pi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Pi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function QP(t,e,n){switch(e.tag){case 3:OT(e),Fo();break;case 5:dT(e);break;case 1:an(e.type)&&ed(e);break;case 4:cg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ue(rd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ue(Xe,Xe.current&1),e.flags|=128,null):n&e.child.childLanes?FT(t,e,n):(Ue(Xe,Xe.current&1),t=Ur(t,e,n),t!==null?t.sibling:null);Ue(Xe,Xe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return UT(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ue(Xe,Xe.current),r)break;return null;case 22:case 23:return e.lanes=0,MT(t,e,n)}return Ur(t,e,n)}var jT,Dm,BT,zT;jT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Dm=function(){};BT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,gs(rr.current);var s=null;switch(n){case"input":i=tm(t,i),r=tm(t,r),s=[];break;case"select":i=et({},i,{value:void 0}),r=et({},r,{value:void 0}),s=[];break;case"textarea":i=im(t,i),r=im(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ju)}om(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Tl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Tl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&We("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};zT=function(t,e,n,r){n!==r&&(e.flags|=4)};function Oa(t,e){if(!Qe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ot(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function YP(t,e,n){var r=e.pendingProps;switch(ng(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(e),null;case 1:return an(e.type)&&Zu(),Ot(e),null;case 3:return r=e.stateNode,jo(),Ke(on),Ke(Ht),dg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(eu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,On!==null&&(Bm(On),On=null))),Dm(t,e),Ot(e),null;case 5:ug(e);var i=gs(Ll.current);if(n=e.type,t!==null&&e.stateNode!=null)BT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(q(166));return Ot(e),null}if(t=gs(rr.current),eu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Zn]=e,r[kl]=s,t=(e.mode&1)!==0,n){case"dialog":We("cancel",r),We("close",r);break;case"iframe":case"object":case"embed":We("load",r);break;case"video":case"audio":for(i=0;i<Qa.length;i++)We(Qa[i],r);break;case"source":We("error",r);break;case"img":case"image":case"link":We("error",r),We("load",r);break;case"details":We("toggle",r);break;case"input":zy(r,s),We("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},We("invalid",r);break;case"textarea":Hy(r,s),We("invalid",r)}om(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Zc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Zc(r.textContent,a,t),i=["children",""+a]):Tl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&We("scroll",r)}switch(n){case"input":Wc(r),$y(r,s,!0);break;case"textarea":Wc(r),Wy(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ju)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=gE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Zn]=e,t[kl]=r,jT(t,e,!1,!1),e.stateNode=t;e:{switch(o=am(n,r),n){case"dialog":We("cancel",t),We("close",t),i=r;break;case"iframe":case"object":case"embed":We("load",t),i=r;break;case"video":case"audio":for(i=0;i<Qa.length;i++)We(Qa[i],t);i=r;break;case"source":We("error",t),i=r;break;case"img":case"image":case"link":We("error",t),We("load",t),i=r;break;case"details":We("toggle",t),i=r;break;case"input":zy(t,r),i=tm(t,r),We("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=et({},r,{value:void 0}),We("invalid",t);break;case"textarea":Hy(t,r),i=im(t,r),We("invalid",t);break;default:i=r}om(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?wE(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&yE(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&xl(t,l):typeof l=="number"&&xl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Tl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&We("scroll",t):l!=null&&Bp(t,s,l,o))}switch(n){case"input":Wc(t),$y(t,r,!1);break;case"textarea":Wc(t),Wy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Li(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?bo(t,!!r.multiple,s,!1):r.defaultValue!=null&&bo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ju)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ot(e),null;case 6:if(t&&e.stateNode!=null)zT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(q(166));if(n=gs(Ll.current),gs(rr.current),eu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Zn]=e,(s=r.nodeValue!==n)&&(t=pn,t!==null))switch(t.tag){case 3:Zc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Zc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Zn]=e,e.stateNode=r}return Ot(e),null;case 13:if(Ke(Xe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Qe&&fn!==null&&e.mode&1&&!(e.flags&128))oT(),Fo(),e.flags|=98560,s=!1;else if(s=eu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(q(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(q(317));s[Zn]=e}else Fo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ot(e),s=!1}else On!==null&&(Bm(On),On=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Xe.current&1?pt===0&&(pt=3):xg())),e.updateQueue!==null&&(e.flags|=4),Ot(e),null);case 4:return jo(),Dm(t,e),t===null&&Rl(e.stateNode.containerInfo),Ot(e),null;case 10:return og(e.type._context),Ot(e),null;case 17:return an(e.type)&&Zu(),Ot(e),null;case 19:if(Ke(Xe),s=e.memoizedState,s===null)return Ot(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Oa(s,!1);else{if(pt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=od(t),o!==null){for(e.flags|=128,Oa(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ue(Xe,Xe.current&1|2),e.child}t=t.sibling}s.tail!==null&&lt()>zo&&(e.flags|=128,r=!0,Oa(s,!1),e.lanes=4194304)}else{if(!r)if(t=od(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Oa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Qe)return Ot(e),null}else 2*lt()-s.renderingStartTime>zo&&n!==1073741824&&(e.flags|=128,r=!0,Oa(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=lt(),e.sibling=null,n=Xe.current,Ue(Xe,r?n&1|2:n&1),e):(Ot(e),null);case 22:case 23:return Tg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?dn&1073741824&&(Ot(e),e.subtreeFlags&6&&(e.flags|=8192)):Ot(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function XP(t,e){switch(ng(e),e.tag){case 1:return an(e.type)&&Zu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return jo(),Ke(on),Ke(Ht),dg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ug(e),null;case 13:if(Ke(Xe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));Fo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ke(Xe),null;case 4:return jo(),null;case 10:return og(e.type._context),null;case 22:case 23:return Tg(),null;case 24:return null;default:return null}}var ru=!1,Bt=!1,JP=typeof WeakSet=="function"?WeakSet:Set,Z=null;function go(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){it(t,e,r)}else n.current=null}function Lm(t,e,n){try{n()}catch(r){it(t,e,r)}}var Lv=!1;function ZP(t,e){if(ym=Qu,t=KE(),eg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,p=null;t:for(;;){for(var y;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)p=h,h=y;for(;;){if(h===t)break t;if(p===n&&++u===i&&(a=o),p===s&&++d===r&&(l=o),(y=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(vm={focusedElem:t,selectionRange:n},Qu=!1,Z=e;Z!==null;)if(e=Z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Z=t;else for(;Z!==null;){e=Z;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var b=E.memoizedProps,R=E.memoizedState,T=e.stateNode,_=T.getSnapshotBeforeUpdate(e.elementType===e.type?b:Ln(e.type,b),R);T.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(L){it(e,e.return,L)}if(t=e.sibling,t!==null){t.return=e.return,Z=t;break}Z=e.return}return E=Lv,Lv=!1,E}function dl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Lm(e,n,s)}i=i.next}while(i!==r)}}function th(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Mm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function $T(t){var e=t.alternate;e!==null&&(t.alternate=null,$T(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Zn],delete e[kl],delete e[Em],delete e[MP],delete e[VP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function HT(t){return t.tag===5||t.tag===3||t.tag===4}function Mv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||HT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ju));else if(r!==4&&(t=t.child,t!==null))for(Vm(t,e,n),t=t.sibling;t!==null;)Vm(t,e,n),t=t.sibling}function Om(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Om(t,e,n),t=t.sibling;t!==null;)Om(t,e,n),t=t.sibling}var St=null,Mn=!1;function ri(t,e,n){for(n=n.child;n!==null;)WT(t,e,n),n=n.sibling}function WT(t,e,n){if(nr&&typeof nr.onCommitFiberUnmount=="function")try{nr.onCommitFiberUnmount(Kd,n)}catch{}switch(n.tag){case 5:Bt||go(n,e);case 6:var r=St,i=Mn;St=null,ri(t,e,n),St=r,Mn=i,St!==null&&(Mn?(t=St,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):St.removeChild(n.stateNode));break;case 18:St!==null&&(Mn?(t=St,n=n.stateNode,t.nodeType===8?ff(t.parentNode,n):t.nodeType===1&&ff(t,n),Cl(t)):ff(St,n.stateNode));break;case 4:r=St,i=Mn,St=n.stateNode.containerInfo,Mn=!0,ri(t,e,n),St=r,Mn=i;break;case 0:case 11:case 14:case 15:if(!Bt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Lm(n,e,o),i=i.next}while(i!==r)}ri(t,e,n);break;case 1:if(!Bt&&(go(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){it(n,e,a)}ri(t,e,n);break;case 21:ri(t,e,n);break;case 22:n.mode&1?(Bt=(r=Bt)||n.memoizedState!==null,ri(t,e,n),Bt=r):ri(t,e,n);break;default:ri(t,e,n)}}function Vv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new JP),e.forEach(function(r){var i=lA.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Dn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:St=a.stateNode,Mn=!1;break e;case 3:St=a.stateNode.containerInfo,Mn=!0;break e;case 4:St=a.stateNode.containerInfo,Mn=!0;break e}a=a.return}if(St===null)throw Error(q(160));WT(s,o,i),St=null,Mn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){it(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)qT(e,t),e=e.sibling}function qT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Dn(e,t),Xn(t),r&4){try{dl(3,t,t.return),th(3,t)}catch(b){it(t,t.return,b)}try{dl(5,t,t.return)}catch(b){it(t,t.return,b)}}break;case 1:Dn(e,t),Xn(t),r&512&&n!==null&&go(n,n.return);break;case 5:if(Dn(e,t),Xn(t),r&512&&n!==null&&go(n,n.return),t.flags&32){var i=t.stateNode;try{xl(i,"")}catch(b){it(t,t.return,b)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&mE(i,s),am(a,o);var u=am(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?wE(i,h):d==="dangerouslySetInnerHTML"?yE(i,h):d==="children"?xl(i,h):Bp(i,d,h,u)}switch(a){case"input":nm(i,s);break;case"textarea":pE(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?bo(i,!!s.multiple,y,!1):p!==!!s.multiple&&(s.defaultValue!=null?bo(i,!!s.multiple,s.defaultValue,!0):bo(i,!!s.multiple,s.multiple?[]:"",!1))}i[kl]=s}catch(b){it(t,t.return,b)}}break;case 6:if(Dn(e,t),Xn(t),r&4){if(t.stateNode===null)throw Error(q(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(b){it(t,t.return,b)}}break;case 3:if(Dn(e,t),Xn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Cl(e.containerInfo)}catch(b){it(t,t.return,b)}break;case 4:Dn(e,t),Xn(t);break;case 13:Dn(e,t),Xn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(_g=lt())),r&4&&Vv(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Bt=(u=Bt)||d,Dn(e,t),Bt=u):Dn(e,t),Xn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Z=t,d=t.child;d!==null;){for(h=Z=d;Z!==null;){switch(p=Z,y=p.child,p.tag){case 0:case 11:case 14:case 15:dl(4,p,p.return);break;case 1:go(p,p.return);var E=p.stateNode;if(typeof E.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(b){it(r,n,b)}}break;case 5:go(p,p.return);break;case 22:if(p.memoizedState!==null){Fv(h);continue}}y!==null?(y.return=p,Z=y):Fv(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=vE("display",o))}catch(b){it(t,t.return,b)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(b){it(t,t.return,b)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Dn(e,t),Xn(t),r&4&&Vv(t);break;case 21:break;default:Dn(e,t),Xn(t)}}function Xn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(HT(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(xl(i,""),r.flags&=-33);var s=Mv(t);Om(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Mv(t);Vm(t,a,o);break;default:throw Error(q(161))}}catch(l){it(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function eA(t,e,n){Z=t,KT(t)}function KT(t,e,n){for(var r=(t.mode&1)!==0;Z!==null;){var i=Z,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ru;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Bt;a=ru;var u=Bt;if(ru=o,(Bt=l)&&!u)for(Z=i;Z!==null;)o=Z,l=o.child,o.tag===22&&o.memoizedState!==null?Uv(i):l!==null?(l.return=o,Z=l):Uv(i);for(;s!==null;)Z=s,KT(s),s=s.sibling;Z=i,ru=a,Bt=u}Ov(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Z=s):Ov(t)}}function Ov(t){for(;Z!==null;){var e=Z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Bt||th(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Bt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ln(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Ev(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ev(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Cl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Bt||e.flags&512&&Mm(e)}catch(p){it(e,e.return,p)}}if(e===t){Z=null;break}if(n=e.sibling,n!==null){n.return=e.return,Z=n;break}Z=e.return}}function Fv(t){for(;Z!==null;){var e=Z;if(e===t){Z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Z=n;break}Z=e.return}}function Uv(t){for(;Z!==null;){var e=Z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{th(4,e)}catch(l){it(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){it(e,i,l)}}var s=e.return;try{Mm(e)}catch(l){it(e,s,l)}break;case 5:var o=e.return;try{Mm(e)}catch(l){it(e,o,l)}}}catch(l){it(e,e.return,l)}if(e===t){Z=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Z=a;break}Z=e.return}}var tA=Math.ceil,cd=Wr.ReactCurrentDispatcher,vg=Wr.ReactCurrentOwner,Pn=Wr.ReactCurrentBatchConfig,Re=0,wt=null,dt=null,Rt=0,dn=0,yo=Wi(0),pt=0,Fl=null,Cs=0,nh=0,wg=0,hl=null,tn=null,_g=0,zo=1/0,_r=null,ud=!1,Fm=null,Ii=null,iu=!1,gi=null,dd=0,fl=0,Um=null,Iu=-1,Cu=0;function Qt(){return Re&6?lt():Iu!==-1?Iu:Iu=lt()}function Ci(t){return t.mode&1?Re&2&&Rt!==0?Rt&-Rt:FP.transition!==null?(Cu===0&&(Cu=NE()),Cu):(t=De,t!==0||(t=window.event,t=t===void 0?16:FE(t.type)),t):1}function Un(t,e,n,r){if(50<fl)throw fl=0,Um=null,Error(q(185));nc(t,n,r),(!(Re&2)||t!==wt)&&(t===wt&&(!(Re&2)&&(nh|=n),pt===4&&ui(t,Rt)),ln(t,r),n===1&&Re===0&&!(e.mode&1)&&(zo=lt()+500,Jd&&qi()))}function ln(t,e){var n=t.callbackNode;FC(t,e);var r=Gu(t,t===wt?Rt:0);if(r===0)n!==null&&Gy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Gy(n),e===1)t.tag===0?OP(jv.bind(null,t)):rT(jv.bind(null,t)),DP(function(){!(Re&6)&&qi()}),n=null;else{switch(kE(r)){case 1:n=qp;break;case 4:n=AE;break;case 16:n=Ku;break;case 536870912:n=RE;break;default:n=Ku}n=tx(n,GT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function GT(t,e){if(Iu=-1,Cu=0,Re&6)throw Error(q(327));var n=t.callbackNode;if(Ao()&&t.callbackNode!==n)return null;var r=Gu(t,t===wt?Rt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=hd(t,r);else{e=r;var i=Re;Re|=2;var s=YT();(wt!==t||Rt!==e)&&(_r=null,zo=lt()+500,_s(t,e));do try{iA();break}catch(a){QT(t,a)}while(1);sg(),cd.current=s,Re=i,dt!==null?e=0:(wt=null,Rt=0,e=pt)}if(e!==0){if(e===2&&(i=hm(t),i!==0&&(r=i,e=jm(t,i))),e===1)throw n=Fl,_s(t,0),ui(t,r),ln(t,lt()),n;if(e===6)ui(t,r);else{if(i=t.current.alternate,!(r&30)&&!nA(i)&&(e=hd(t,r),e===2&&(s=hm(t),s!==0&&(r=s,e=jm(t,s))),e===1))throw n=Fl,_s(t,0),ui(t,r),ln(t,lt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(q(345));case 2:ls(t,tn,_r);break;case 3:if(ui(t,r),(r&130023424)===r&&(e=_g+500-lt(),10<e)){if(Gu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Qt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=_m(ls.bind(null,t,tn,_r),e);break}ls(t,tn,_r);break;case 4:if(ui(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Fn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=lt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*tA(r/1960))-r,10<r){t.timeoutHandle=_m(ls.bind(null,t,tn,_r),r);break}ls(t,tn,_r);break;case 5:ls(t,tn,_r);break;default:throw Error(q(329))}}}return ln(t,lt()),t.callbackNode===n?GT.bind(null,t):null}function jm(t,e){var n=hl;return t.current.memoizedState.isDehydrated&&(_s(t,e).flags|=256),t=hd(t,e),t!==2&&(e=tn,tn=n,e!==null&&Bm(e)),t}function Bm(t){tn===null?tn=t:tn.push.apply(tn,t)}function nA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Bn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ui(t,e){for(e&=~wg,e&=~nh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Fn(e),r=1<<n;t[n]=-1,e&=~r}}function jv(t){if(Re&6)throw Error(q(327));Ao();var e=Gu(t,0);if(!(e&1))return ln(t,lt()),null;var n=hd(t,e);if(t.tag!==0&&n===2){var r=hm(t);r!==0&&(e=r,n=jm(t,r))}if(n===1)throw n=Fl,_s(t,0),ui(t,e),ln(t,lt()),n;if(n===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ls(t,tn,_r),ln(t,lt()),null}function Eg(t,e){var n=Re;Re|=1;try{return t(e)}finally{Re=n,Re===0&&(zo=lt()+500,Jd&&qi())}}function Ps(t){gi!==null&&gi.tag===0&&!(Re&6)&&Ao();var e=Re;Re|=1;var n=Pn.transition,r=De;try{if(Pn.transition=null,De=1,t)return t()}finally{De=r,Pn.transition=n,Re=e,!(Re&6)&&qi()}}function Tg(){dn=yo.current,Ke(yo)}function _s(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,kP(n)),dt!==null)for(n=dt.return;n!==null;){var r=n;switch(ng(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zu();break;case 3:jo(),Ke(on),Ke(Ht),dg();break;case 5:ug(r);break;case 4:jo();break;case 13:Ke(Xe);break;case 19:Ke(Xe);break;case 10:og(r.type._context);break;case 22:case 23:Tg()}n=n.return}if(wt=t,dt=t=Pi(t.current,null),Rt=dn=e,pt=0,Fl=null,wg=nh=Cs=0,tn=hl=null,ps!==null){for(e=0;e<ps.length;e++)if(n=ps[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ps=null}return t}function QT(t,e){do{var n=dt;try{if(sg(),xu.current=ld,ad){for(var r=Ze.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ad=!1}if(Is=0,vt=mt=Ze=null,ul=!1,Ml=0,vg.current=null,n===null||n.return===null){pt=1,Fl=e,dt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Rt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=Cv(o);if(y!==null){y.flags&=-257,Pv(y,o,a,s,e),y.mode&1&&Iv(s,u,e),e=y,l=u;var E=e.updateQueue;if(E===null){var b=new Set;b.add(l),e.updateQueue=b}else E.add(l);break e}else{if(!(e&1)){Iv(s,u,e),xg();break e}l=Error(q(426))}}else if(Qe&&a.mode&1){var R=Cv(o);if(R!==null){!(R.flags&65536)&&(R.flags|=256),Pv(R,o,a,s,e),rg(Bo(l,a));break e}}s=l=Bo(l,a),pt!==4&&(pt=2),hl===null?hl=[s]:hl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var T=kT(s,l,e);_v(s,T);break e;case 1:a=l;var _=s.type,I=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Ii===null||!Ii.has(I)))){s.flags|=65536,e&=-e,s.lanes|=e;var L=DT(s,a,e);_v(s,L);break e}}s=s.return}while(s!==null)}JT(n)}catch(j){e=j,dt===n&&n!==null&&(dt=n=n.return);continue}break}while(1)}function YT(){var t=cd.current;return cd.current=ld,t===null?ld:t}function xg(){(pt===0||pt===3||pt===2)&&(pt=4),wt===null||!(Cs&268435455)&&!(nh&268435455)||ui(wt,Rt)}function hd(t,e){var n=Re;Re|=2;var r=YT();(wt!==t||Rt!==e)&&(_r=null,_s(t,e));do try{rA();break}catch(i){QT(t,i)}while(1);if(sg(),Re=n,cd.current=r,dt!==null)throw Error(q(261));return wt=null,Rt=0,pt}function rA(){for(;dt!==null;)XT(dt)}function iA(){for(;dt!==null&&!AC();)XT(dt)}function XT(t){var e=ex(t.alternate,t,dn);t.memoizedProps=t.pendingProps,e===null?JT(t):dt=e,vg.current=null}function JT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=XP(n,e),n!==null){n.flags&=32767,dt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pt=6,dt=null;return}}else if(n=YP(n,e,dn),n!==null){dt=n;return}if(e=e.sibling,e!==null){dt=e;return}dt=e=t}while(e!==null);pt===0&&(pt=5)}function ls(t,e,n){var r=De,i=Pn.transition;try{Pn.transition=null,De=1,sA(t,e,n,r)}finally{Pn.transition=i,De=r}return null}function sA(t,e,n,r){do Ao();while(gi!==null);if(Re&6)throw Error(q(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(UC(t,s),t===wt&&(dt=wt=null,Rt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||iu||(iu=!0,tx(Ku,function(){return Ao(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Pn.transition,Pn.transition=null;var o=De;De=1;var a=Re;Re|=4,vg.current=null,ZP(t,n),qT(n,t),SP(vm),Qu=!!ym,vm=ym=null,t.current=n,eA(n),RC(),Re=a,De=o,Pn.transition=s}else t.current=n;if(iu&&(iu=!1,gi=t,dd=i),s=t.pendingLanes,s===0&&(Ii=null),DC(n.stateNode),ln(t,lt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ud)throw ud=!1,t=Fm,Fm=null,t;return dd&1&&t.tag!==0&&Ao(),s=t.pendingLanes,s&1?t===Um?fl++:(fl=0,Um=t):fl=0,qi(),null}function Ao(){if(gi!==null){var t=kE(dd),e=Pn.transition,n=De;try{if(Pn.transition=null,De=16>t?16:t,gi===null)var r=!1;else{if(t=gi,gi=null,dd=0,Re&6)throw Error(q(331));var i=Re;for(Re|=4,Z=t.current;Z!==null;){var s=Z,o=s.child;if(Z.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Z=u;Z!==null;){var d=Z;switch(d.tag){case 0:case 11:case 15:dl(8,d,s)}var h=d.child;if(h!==null)h.return=d,Z=h;else for(;Z!==null;){d=Z;var p=d.sibling,y=d.return;if($T(d),d===u){Z=null;break}if(p!==null){p.return=y,Z=p;break}Z=y}}}var E=s.alternate;if(E!==null){var b=E.child;if(b!==null){E.child=null;do{var R=b.sibling;b.sibling=null,b=R}while(b!==null)}}Z=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Z=o;else e:for(;Z!==null;){if(s=Z,s.flags&2048)switch(s.tag){case 0:case 11:case 15:dl(9,s,s.return)}var T=s.sibling;if(T!==null){T.return=s.return,Z=T;break e}Z=s.return}}var _=t.current;for(Z=_;Z!==null;){o=Z;var I=o.child;if(o.subtreeFlags&2064&&I!==null)I.return=o,Z=I;else e:for(o=_;Z!==null;){if(a=Z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:th(9,a)}}catch(j){it(a,a.return,j)}if(a===o){Z=null;break e}var L=a.sibling;if(L!==null){L.return=a.return,Z=L;break e}Z=a.return}}if(Re=i,qi(),nr&&typeof nr.onPostCommitFiberRoot=="function")try{nr.onPostCommitFiberRoot(Kd,t)}catch{}r=!0}return r}finally{De=n,Pn.transition=e}}return!1}function Bv(t,e,n){e=Bo(n,e),e=kT(t,e,1),t=Si(t,e,1),e=Qt(),t!==null&&(nc(t,1,e),ln(t,e))}function it(t,e,n){if(t.tag===3)Bv(t,t,n);else for(;e!==null;){if(e.tag===3){Bv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ii===null||!Ii.has(r))){t=Bo(n,t),t=DT(e,t,1),e=Si(e,t,1),t=Qt(),e!==null&&(nc(e,1,t),ln(e,t));break}}e=e.return}}function oA(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Qt(),t.pingedLanes|=t.suspendedLanes&n,wt===t&&(Rt&n)===n&&(pt===4||pt===3&&(Rt&130023424)===Rt&&500>lt()-_g?_s(t,0):wg|=n),ln(t,e)}function ZT(t,e){e===0&&(t.mode&1?(e=Gc,Gc<<=1,!(Gc&130023424)&&(Gc=4194304)):e=1);var n=Qt();t=Fr(t,e),t!==null&&(nc(t,e,n),ln(t,n))}function aA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ZT(t,n)}function lA(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(e),ZT(t,n)}var ex;ex=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||on.current)sn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return sn=!1,QP(t,e,n);sn=!!(t.flags&131072)}else sn=!1,Qe&&e.flags&1048576&&iT(e,nd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Su(t,e),t=e.pendingProps;var i=Oo(e,Ht.current);Po(e,n),i=fg(null,e,r,t,i,n);var s=mg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,an(r)?(s=!0,ed(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,lg(e),i.updater=eh,e.stateNode=i,i._reactInternals=e,Cm(e,r,t,n),e=Rm(null,e,r,!0,s,n)):(e.tag=0,Qe&&s&&tg(e),Kt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Su(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=uA(r),t=Ln(r,t),i){case 0:e=Am(null,e,r,t,n);break e;case 1:e=Nv(null,e,r,t,n);break e;case 11:e=Av(null,e,r,t,n);break e;case 14:e=Rv(null,e,r,Ln(r.type,t),n);break e}throw Error(q(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ln(r,i),Am(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ln(r,i),Nv(t,e,r,i,n);case 3:e:{if(OT(e),t===null)throw Error(q(387));r=e.pendingProps,s=e.memoizedState,i=s.element,uT(t,e),sd(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Bo(Error(q(423)),e),e=kv(t,e,r,n,i);break e}else if(r!==i){i=Bo(Error(q(424)),e),e=kv(t,e,r,n,i);break e}else for(fn=bi(e.stateNode.containerInfo.firstChild),pn=e,Qe=!0,On=null,n=lT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fo(),r===i){e=Ur(t,e,n);break e}Kt(t,e,r,n)}e=e.child}return e;case 5:return dT(e),t===null&&bm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,wm(r,i)?o=null:s!==null&&wm(r,s)&&(e.flags|=32),VT(t,e),Kt(t,e,o,n),e.child;case 6:return t===null&&bm(e),null;case 13:return FT(t,e,n);case 4:return cg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Uo(e,null,r,n):Kt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ln(r,i),Av(t,e,r,i,n);case 7:return Kt(t,e,e.pendingProps,n),e.child;case 8:return Kt(t,e,e.pendingProps.children,n),e.child;case 12:return Kt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ue(rd,r._currentValue),r._currentValue=o,s!==null)if(Bn(s.value,o)){if(s.children===i.children&&!on.current){e=Ur(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Pr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Sm(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(q(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Sm(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Kt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Po(e,n),i=An(i),r=r(i),e.flags|=1,Kt(t,e,r,n),e.child;case 14:return r=e.type,i=Ln(r,e.pendingProps),i=Ln(r.type,i),Rv(t,e,r,i,n);case 15:return LT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ln(r,i),Su(t,e),e.tag=1,an(r)?(t=!0,ed(e)):t=!1,Po(e,n),NT(e,r,i),Cm(e,r,i,n),Rm(null,e,r,!0,t,n);case 19:return UT(t,e,n);case 22:return MT(t,e,n)}throw Error(q(156,e.tag))};function tx(t,e){return PE(t,e)}function cA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(t,e,n,r){return new cA(t,e,n,r)}function bg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function uA(t){if(typeof t=="function")return bg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===$p)return 11;if(t===Hp)return 14}return 2}function Pi(t,e){var n=t.alternate;return n===null?(n=Cn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Pu(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")bg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case oo:return Es(n.children,i,s,e);case zp:o=8,i|=8;break;case Xf:return t=Cn(12,n,e,i|2),t.elementType=Xf,t.lanes=s,t;case Jf:return t=Cn(13,n,e,i),t.elementType=Jf,t.lanes=s,t;case Zf:return t=Cn(19,n,e,i),t.elementType=Zf,t.lanes=s,t;case dE:return rh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case cE:o=10;break e;case uE:o=9;break e;case $p:o=11;break e;case Hp:o=14;break e;case ai:o=16,r=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=Cn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Es(t,e,n,r){return t=Cn(7,t,r,e),t.lanes=n,t}function rh(t,e,n,r){return t=Cn(22,t,r,e),t.elementType=dE,t.lanes=n,t.stateNode={isHidden:!1},t}function Ef(t,e,n){return t=Cn(6,t,null,e),t.lanes=n,t}function Tf(t,e,n){return e=Cn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function dA(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tf(0),this.expirationTimes=tf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Sg(t,e,n,r,i,s,o,a,l){return t=new dA(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Cn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},lg(s),t}function hA(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:so,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function nx(t){if(!t)return Mi;t=t._reactInternals;e:{if(Ms(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(an(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var n=t.type;if(an(n))return nT(t,n,e)}return e}function rx(t,e,n,r,i,s,o,a,l){return t=Sg(n,r,!0,t,i,s,o,a,l),t.context=nx(null),n=t.current,r=Qt(),i=Ci(n),s=Pr(r,i),s.callback=e??null,Si(n,s,i),t.current.lanes=i,nc(t,i,r),ln(t,r),t}function ih(t,e,n,r){var i=e.current,s=Qt(),o=Ci(i);return n=nx(n),e.context===null?e.context=n:e.pendingContext=n,e=Pr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Si(i,e,o),t!==null&&(Un(t,i,o,s),Tu(t,i,o)),o}function fd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function zv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ig(t,e){zv(t,e),(t=t.alternate)&&zv(t,e)}function fA(){return null}var ix=typeof reportError=="function"?reportError:function(t){console.error(t)};function Cg(t){this._internalRoot=t}sh.prototype.render=Cg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));ih(t,e,null,null)};sh.prototype.unmount=Cg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ps(function(){ih(null,t,null,null)}),e[Or]=null}};function sh(t){this._internalRoot=t}sh.prototype.unstable_scheduleHydration=function(t){if(t){var e=ME();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ci.length&&e!==0&&e<ci[n].priority;n++);ci.splice(n,0,t),n===0&&OE(t)}};function Pg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function oh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function $v(){}function mA(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=fd(o);s.call(u)}}var o=rx(e,r,t,0,null,!1,!1,"",$v);return t._reactRootContainer=o,t[Or]=o.current,Rl(t.nodeType===8?t.parentNode:t),Ps(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=fd(l);a.call(u)}}var l=Sg(t,0,!1,null,null,!1,!1,"",$v);return t._reactRootContainer=l,t[Or]=l.current,Rl(t.nodeType===8?t.parentNode:t),Ps(function(){ih(e,l,n,r)}),l}function ah(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=fd(o);a.call(l)}}ih(e,o,t,i)}else o=mA(n,e,t,i,r);return fd(o)}DE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ga(e.pendingLanes);n!==0&&(Kp(e,n|1),ln(e,lt()),!(Re&6)&&(zo=lt()+500,qi()))}break;case 13:Ps(function(){var r=Fr(t,1);if(r!==null){var i=Qt();Un(r,t,1,i)}}),Ig(t,1)}};Gp=function(t){if(t.tag===13){var e=Fr(t,134217728);if(e!==null){var n=Qt();Un(e,t,134217728,n)}Ig(t,134217728)}};LE=function(t){if(t.tag===13){var e=Ci(t),n=Fr(t,e);if(n!==null){var r=Qt();Un(n,t,e,r)}Ig(t,e)}};ME=function(){return De};VE=function(t,e){var n=De;try{return De=t,e()}finally{De=n}};cm=function(t,e,n){switch(e){case"input":if(nm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Xd(r);if(!i)throw Error(q(90));fE(r),nm(r,i)}}}break;case"textarea":pE(t,n);break;case"select":e=n.value,e!=null&&bo(t,!!n.multiple,e,!1)}};TE=Eg;xE=Ps;var pA={usingClientEntryPoint:!1,Events:[ic,uo,Xd,_E,EE,Eg]},Fa={findFiberByHostInstance:ms,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gA={bundleType:Fa.bundleType,version:Fa.version,rendererPackageName:Fa.rendererPackageName,rendererConfig:Fa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=IE(t),t===null?null:t.stateNode},findFiberByHostInstance:Fa.findFiberByHostInstance||fA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!su.isDisabled&&su.supportsFiber)try{Kd=su.inject(gA),nr=su}catch{}}vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pA;vn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pg(e))throw Error(q(200));return hA(t,e,null,n)};vn.createRoot=function(t,e){if(!Pg(t))throw Error(q(299));var n=!1,r="",i=ix;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Sg(t,1,!1,null,null,n,!1,r,i),t[Or]=e.current,Rl(t.nodeType===8?t.parentNode:t),new Cg(e)};vn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=IE(e),t=t===null?null:t.stateNode,t};vn.flushSync=function(t){return Ps(t)};vn.hydrate=function(t,e,n){if(!oh(e))throw Error(q(200));return ah(null,t,e,!0,n)};vn.hydrateRoot=function(t,e,n){if(!Pg(t))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=ix;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=rx(e,null,t,1,n??null,i,!1,s,o),t[Or]=e.current,Rl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new sh(e)};vn.render=function(t,e,n){if(!oh(e))throw Error(q(200));return ah(null,t,e,!1,n)};vn.unmountComponentAtNode=function(t){if(!oh(t))throw Error(q(40));return t._reactRootContainer?(Ps(function(){ah(null,null,t,!1,function(){t._reactRootContainer=null,t[Or]=null})}),!0):!1};vn.unstable_batchedUpdates=Eg;vn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!oh(n))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return ah(t,e,n,!1,r)};vn.version="18.3.1-next-f1338f8080-20240426";function sx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sx)}catch(t){console.error(t)}}sx(),sE.exports=vn;var Ag=sE.exports;const yA=q_(Ag),vA=W_({__proto__:null,default:yA},[Ag]);var ox,Hv=Ag;ox=Hv.createRoot,Hv.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ge(){return Ge=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ge.apply(this,arguments)}var ot;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ot||(ot={}));const Wv="popstate";function wA(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Ul("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:As(i)}return EA(e,n,null,t)}function ye(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function $o(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _A(){return Math.random().toString(36).substr(2,8)}function qv(t,e){return{usr:t.state,key:t.key,idx:e}}function Ul(t,e,n,r){return n===void 0&&(n=null),Ge({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?qr(e):e,{state:n,key:e&&e.key||r||_A()})}function As(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function qr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function EA(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=ot.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(Ge({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=ot.Pop;let R=d(),T=R==null?null:R-u;u=R,l&&l({action:a,location:b.location,delta:T})}function p(R,T){a=ot.Push;let _=Ul(b.location,R,T);n&&n(_,R),u=d()+1;let I=qv(_,u),L=b.createHref(_);try{o.pushState(I,"",L)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(L)}s&&l&&l({action:a,location:b.location,delta:1})}function y(R,T){a=ot.Replace;let _=Ul(b.location,R,T);n&&n(_,R),u=d();let I=qv(_,u),L=b.createHref(_);o.replaceState(I,"",L),s&&l&&l({action:a,location:b.location,delta:0})}function E(R){let T=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof R=="string"?R:As(R);return _=_.replace(/ $/,"%20"),ye(T,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,T)}let b={get action(){return a},get location(){return t(i,o)},listen(R){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Wv,h),l=R,()=>{i.removeEventListener(Wv,h),l=null}},createHref(R){return e(i,R)},createURL:E,encodeLocation(R){let T=E(R);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:p,replace:y,go(R){return o.go(R)}};return b}var Le;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Le||(Le={}));const TA=new Set(["lazy","caseSensitive","path","id","index","children"]);function xA(t){return t.index===!0}function md(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,String(s)],a=typeof i.id=="string"?i.id:o.join("-");if(ye(i.index!==!0||!i.children,"Cannot specify children on an index route"),ye(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),xA(i)){let l=Ge({},i,e(i),{id:a});return r[a]=l,l}else{let l=Ge({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=md(i.children,e,o,r)),l}})}function hs(t,e,n){return n===void 0&&(n="/"),Au(t,e,n,!1)}function Au(t,e,n,r){let i=typeof e=="string"?qr(e):e,s=jr(i.pathname||"/",n);if(s==null)return null;let o=ax(t);SA(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=VA(s);a=LA(o[l],u,r)}return a}function bA(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function ax(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ye(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Ar([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(ye(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),ax(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:kA(u,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of lx(s.path))i(s,o,l)}),e}function lx(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=lx(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function SA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:DA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const IA=/^:[\w-]+$/,CA=3,PA=2,AA=1,RA=10,NA=-2,Kv=t=>t==="*";function kA(t,e){let n=t.split("/"),r=n.length;return n.some(Kv)&&(r+=NA),e&&(r+=PA),n.filter(i=>!Kv(i)).reduce((i,s)=>i+(IA.test(s)?CA:s===""?AA:RA),r)}function DA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function LA(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=pd({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),p=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=pd({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Ar([s,h.pathname]),pathnameBase:UA(Ar([s,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(s=Ar([s,h.pathnameBase]))}return o}function pd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=MA(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:p,isOptional:y}=d;if(p==="*"){let b=a[h]||"";o=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const E=a[h];return y&&!E?u[p]=void 0:u[p]=(E||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function MA(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),$o(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function VA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $o(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function jr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function OA(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?qr(t):t;return{pathname:n?n.startsWith("/")?n:FA(n,e):e,search:jA(r),hash:BA(i)}}function FA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function xf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function cx(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function lh(t,e){let n=cx(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function ch(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=qr(t):(i=Ge({},t),ye(!i.pathname||!i.pathname.includes("?"),xf("?","pathname","search",i)),ye(!i.pathname||!i.pathname.includes("#"),xf("#","pathname","hash",i)),ye(!i.search||!i.search.includes("#"),xf("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=OA(i,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Ar=t=>t.join("/").replace(/\/\/+/g,"/"),UA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),jA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,BA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class gd{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function uh(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ux=["post","put","patch","delete"],zA=new Set(ux),$A=["get",...ux],HA=new Set($A),WA=new Set([301,302,303,307,308]),qA=new Set([307,308]),bf={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},KA={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ua={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Rg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,GA=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),dx="remix-router-transitions";function QA(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;ye(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let M=t.detectErrorBoundary;i=O=>({hasErrorBoundary:M(O)})}else i=GA;let s={},o=md(t.routes,i,void 0,s),a,l=t.basename||"/",u=t.dataStrategy||ZA,d=t.patchRoutesOnNavigation,h=Ge({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),p=null,y=new Set,E=null,b=null,R=null,T=t.hydrationData!=null,_=hs(o,t.history.location,l),I=null;if(_==null&&!d){let M=Zt(404,{pathname:t.history.location.pathname}),{matches:O,route:U}=i1(o);_=O,I={[U.id]:M}}_&&!t.hydrationData&&ns(_,o,t.history.location.pathname).active&&(_=null);let L;if(_)if(_.some(M=>M.route.lazy))L=!1;else if(!_.some(M=>M.route.loader))L=!0;else if(h.v7_partialHydration){let M=t.hydrationData?t.hydrationData.loaderData:null,O=t.hydrationData?t.hydrationData.errors:null;if(O){let U=_.findIndex(H=>O[H.route.id]!==void 0);L=_.slice(0,U+1).every(H=>!$m(H.route,M,O))}else L=_.every(U=>!$m(U.route,M,O))}else L=t.hydrationData!=null;else if(L=!1,_=[],h.v7_partialHydration){let M=ns(null,o,t.history.location.pathname);M.active&&M.matches&&(_=M.matches)}let j,k={historyAction:t.history.action,location:t.history.location,matches:_,initialized:L,navigation:bf,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||I,fetchers:new Map,blockers:new Map},P=ot.Pop,w=!1,x,A=!1,D=new Map,V=null,N=!1,le=!1,K=[],we=new Set,re=new Map,W=0,ie=-1,ce=new Map,Ae=new Set,Se=new Map,Ve=new Map,ft=new Set,Tt=new Map,xt=new Map,qt;function $h(){if(p=t.history.listen(M=>{let{action:O,location:U,delta:H}=M;if(qt){qt(),qt=void 0;return}$o(xt.size===0||H!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Q=Hs({currentLocation:k.location,nextLocation:U,historyAction:O});if(Q&&H!=null){let se=new Promise(fe=>{qt=fe});t.history.go(H*-1),$s(Q,{state:"blocked",location:U,proceed(){$s(Q,{state:"proceeding",proceed:void 0,reset:void 0,location:U}),se.then(()=>t.history.go(H))},reset(){let fe=new Map(k.blockers);fe.set(Q,Ua),ct({blockers:fe})}});return}return Nn(O,U)}),n){fR(e,D);let M=()=>mR(e,D);e.addEventListener("pagehide",M),V=()=>e.removeEventListener("pagehide",M)}return k.initialized||Nn(ot.Pop,k.location,{initialHydration:!0}),j}function Hh(){p&&p(),V&&V(),y.clear(),x&&x.abort(),k.fetchers.forEach((M,O)=>es(O)),k.blockers.forEach((M,O)=>Rc(O))}function js(M){return y.add(M),()=>y.delete(M)}function ct(M,O){O===void 0&&(O={}),k=Ge({},k,M);let U=[],H=[];h.v7_fetcherPersist&&k.fetchers.forEach((Q,se)=>{Q.state==="idle"&&(ft.has(se)?H.push(se):U.push(se))}),[...y].forEach(Q=>Q(k,{deletedFetchers:H,viewTransitionOpts:O.viewTransitionOpts,flushSync:O.flushSync===!0})),h.v7_fetcherPersist&&(U.forEach(Q=>k.fetchers.delete(Q)),H.forEach(Q=>es(Q)))}function Hn(M,O,U){var H,Q;let{flushSync:se}=U===void 0?{}:U,fe=k.actionData!=null&&k.navigation.formMethod!=null&&Vn(k.navigation.formMethod)&&k.navigation.state==="loading"&&((H=M.state)==null?void 0:H._isRedirect)!==!0,Y;O.actionData?Object.keys(O.actionData).length>0?Y=O.actionData:Y=null:fe?Y=k.actionData:Y=null;let te=O.loaderData?n1(k.loaderData,O.loaderData,O.matches||[],O.errors):k.loaderData,J=k.blockers;J.size>0&&(J=new Map(J),J.forEach((_e,nt)=>J.set(nt,Ua)));let ne=w===!0||k.navigation.formMethod!=null&&Vn(k.navigation.formMethod)&&((Q=M.state)==null?void 0:Q._isRedirect)!==!0;a&&(o=a,a=void 0),N||P===ot.Pop||(P===ot.Push?t.history.push(M,M.state):P===ot.Replace&&t.history.replace(M,M.state));let ve;if(P===ot.Pop){let _e=D.get(k.location.pathname);_e&&_e.has(M.pathname)?ve={currentLocation:k.location,nextLocation:M}:D.has(M.pathname)&&(ve={currentLocation:M,nextLocation:k.location})}else if(A){let _e=D.get(k.location.pathname);_e?_e.add(M.pathname):(_e=new Set([M.pathname]),D.set(k.location.pathname,_e)),ve={currentLocation:k.location,nextLocation:M}}ct(Ge({},O,{actionData:Y,loaderData:te,historyAction:P,location:M,initialized:!0,navigation:bf,revalidation:"idle",restoreScrollPosition:qn(M,O.matches||k.matches),preventScrollReset:ne,blockers:J}),{viewTransitionOpts:ve,flushSync:se===!0}),P=ot.Pop,w=!1,A=!1,N=!1,le=!1,K=[]}async function Bs(M,O){if(typeof M=="number"){t.history.go(M);return}let U=zm(k.location,k.matches,l,h.v7_prependBasename,M,h.v7_relativeSplatPath,O==null?void 0:O.fromRouteId,O==null?void 0:O.relative),{path:H,submission:Q,error:se}=Gv(h.v7_normalizeFormMethod,!1,U,O),fe=k.location,Y=Ul(k.location,H,O&&O.state);Y=Ge({},Y,t.history.encodeLocation(Y));let te=O&&O.replace!=null?O.replace:void 0,J=ot.Push;te===!0?J=ot.Replace:te===!1||Q!=null&&Vn(Q.formMethod)&&Q.formAction===k.location.pathname+k.location.search&&(J=ot.Replace);let ne=O&&"preventScrollReset"in O?O.preventScrollReset===!0:void 0,ve=(O&&O.flushSync)===!0,_e=Hs({currentLocation:fe,nextLocation:Y,historyAction:J});if(_e){$s(_e,{state:"blocked",location:Y,proceed(){$s(_e,{state:"proceeding",proceed:void 0,reset:void 0,location:Y}),Bs(M,O)},reset(){let nt=new Map(k.blockers);nt.set(_e,Ua),ct({blockers:nt})}});return}return await Nn(J,Y,{submission:Q,pendingError:se,preventScrollReset:ne,replace:O&&O.replace,enableViewTransition:O&&O.viewTransition,flushSync:ve})}function ga(){if(Ji(),ct({revalidation:"loading"}),k.navigation.state!=="submitting"){if(k.navigation.state==="idle"){Nn(k.historyAction,k.location,{startUninterruptedRevalidation:!0});return}Nn(P||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation,enableViewTransition:A===!0})}}async function Nn(M,O,U){x&&x.abort(),x=null,P=M,N=(U&&U.startUninterruptedRevalidation)===!0,Ea(k.location,k.matches),w=(U&&U.preventScrollReset)===!0,A=(U&&U.enableViewTransition)===!0;let H=a||o,Q=U&&U.overrideNavigation,se=hs(H,O,l),fe=(U&&U.flushSync)===!0,Y=ns(se,H,O.pathname);if(Y.active&&Y.matches&&(se=Y.matches),!se){let{error:be,notFoundMatches:Ie,route:$e}=Ws(O.pathname);Hn(O,{matches:Ie,loaderData:{},errors:{[$e.id]:be}},{flushSync:fe});return}if(k.initialized&&!le&&sR(k.location,O)&&!(U&&U.submission&&Vn(U.submission.formMethod))){Hn(O,{matches:se},{flushSync:fe});return}x=new AbortController;let te=Zs(t.history,O,x.signal,U&&U.submission),J;if(U&&U.pendingError)J=[fs(se).route.id,{type:Le.error,error:U.pendingError}];else if(U&&U.submission&&Vn(U.submission.formMethod)){let be=await xc(te,O,U.submission,se,Y.active,{replace:U.replace,flushSync:fe});if(be.shortCircuited)return;if(be.pendingActionResult){let[Ie,$e]=be.pendingActionResult;if(hn($e)&&uh($e.error)&&$e.error.status===404){x=null,Hn(O,{matches:be.matches,loaderData:{},errors:{[Ie]:$e.error}});return}}se=be.matches||se,J=be.pendingActionResult,Q=Sf(O,U.submission),fe=!1,Y.active=!1,te=Zs(t.history,te.url,te.signal)}let{shortCircuited:ne,matches:ve,loaderData:_e,errors:nt}=await bc(te,O,se,Y.active,Q,U&&U.submission,U&&U.fetcherSubmission,U&&U.replace,U&&U.initialHydration===!0,fe,J);ne||(x=null,Hn(O,Ge({matches:ve||se},r1(J),{loaderData:_e,errors:nt})))}async function xc(M,O,U,H,Q,se){se===void 0&&(se={}),Ji();let fe=dR(O,U);if(ct({navigation:fe},{flushSync:se.flushSync===!0}),Q){let J=await pr(H,O.pathname,M.signal);if(J.type==="aborted")return{shortCircuited:!0};if(J.type==="error"){let ne=fs(J.partialMatches).route.id;return{matches:J.partialMatches,pendingActionResult:[ne,{type:Le.error,error:J.error}]}}else if(J.matches)H=J.matches;else{let{notFoundMatches:ne,error:ve,route:_e}=Ws(O.pathname);return{matches:ne,pendingActionResult:[_e.id,{type:Le.error,error:ve}]}}}let Y,te=Ya(H,O);if(!te.route.action&&!te.route.lazy)Y={type:Le.error,error:Zt(405,{method:M.method,pathname:O.pathname,routeId:te.route.id})};else if(Y=(await mr("action",k,M,[te],H,null))[te.route.id],M.signal.aborted)return{shortCircuited:!0};if(ys(Y)){let J;return se&&se.replace!=null?J=se.replace:J=Zv(Y.response.headers.get("Location"),new URL(M.url),l)===k.location.pathname+k.location.search,await fr(M,Y,!0,{submission:U,replace:J}),{shortCircuited:!0}}if(yi(Y))throw Zt(400,{type:"defer-action"});if(hn(Y)){let J=fs(H,te.route.id);return(se&&se.replace)!==!0&&(P=ot.Push),{matches:H,pendingActionResult:[J.route.id,Y]}}return{matches:H,pendingActionResult:[te.route.id,Y]}}async function bc(M,O,U,H,Q,se,fe,Y,te,J,ne){let ve=Q||Sf(O,se),_e=se||fe||o1(ve),nt=!N&&(!h.v7_partialHydration||!te);if(H){if(nt){let Fe=Sc(ne);ct(Ge({navigation:ve},Fe!==void 0?{actionData:Fe}:{}),{flushSync:J})}let ge=await pr(U,O.pathname,M.signal);if(ge.type==="aborted")return{shortCircuited:!0};if(ge.type==="error"){let Fe=fs(ge.partialMatches).route.id;return{matches:ge.partialMatches,loaderData:{},errors:{[Fe]:ge.error}}}else if(ge.matches)U=ge.matches;else{let{error:Fe,notFoundMatches:Zr,route:ei}=Ws(O.pathname);return{matches:Zr,loaderData:{},errors:{[ei.id]:Fe}}}}let be=a||o,[Ie,$e]=Yv(t.history,k,U,_e,O,h.v7_partialHydration&&te===!0,h.v7_skipActionErrorRevalidation,le,K,we,ft,Se,Ae,be,l,ne);if(qs(ge=>!(U&&U.some(Fe=>Fe.route.id===ge))||Ie&&Ie.some(Fe=>Fe.route.id===ge)),ie=++W,Ie.length===0&&$e.length===0){let ge=va();return Hn(O,Ge({matches:U,loaderData:{},errors:ne&&hn(ne[1])?{[ne[0]]:ne[1].error}:null},r1(ne),ge?{fetchers:new Map(k.fetchers)}:{}),{flushSync:J}),{shortCircuited:!0}}if(nt){let ge={};if(!H){ge.navigation=ve;let Fe=Sc(ne);Fe!==void 0&&(ge.actionData=Fe)}$e.length>0&&(ge.fetchers=Ic($e)),ct(ge,{flushSync:J})}$e.forEach(ge=>{Wn(ge.key),ge.controller&&re.set(ge.key,ge.controller)});let Kn=()=>$e.forEach(ge=>Wn(ge.key));x&&x.signal.addEventListener("abort",Kn);let{loaderResults:gr,fetcherResults:Tn}=await zs(k,U,Ie,$e,M);if(M.signal.aborted)return{shortCircuited:!0};x&&x.signal.removeEventListener("abort",Kn),$e.forEach(ge=>re.delete(ge.key));let cn=ou(gr);if(cn)return await fr(M,cn.result,!0,{replace:Y}),{shortCircuited:!0};if(cn=ou(Tn),cn)return Ae.add(cn.key),await fr(M,cn.result,!0,{replace:Y}),{shortCircuited:!0};let{loaderData:Ta,errors:Gn}=t1(k,U,gr,ne,$e,Tn,Tt);Tt.forEach((ge,Fe)=>{ge.subscribe(Zr=>{(Zr||ge.done)&&Tt.delete(Fe)})}),h.v7_partialHydration&&te&&k.errors&&(Gn=Ge({},k.errors,Gn));let Qn=va(),Jr=wa(ie),Yn=Qn||Jr||$e.length>0;return Ge({matches:U,loaderData:Ta,errors:Gn},Yn?{fetchers:new Map(k.fetchers)}:{})}function Sc(M){if(M&&!hn(M[1]))return{[M[0]]:M[1].data};if(k.actionData)return Object.keys(k.actionData).length===0?null:k.actionData}function Ic(M){return M.forEach(O=>{let U=k.fetchers.get(O.key),H=ja(void 0,U?U.data:void 0);k.fetchers.set(O.key,H)}),new Map(k.fetchers)}function Cc(M,O,U,H){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Wn(M);let Q=(H&&H.flushSync)===!0,se=a||o,fe=zm(k.location,k.matches,l,h.v7_prependBasename,U,h.v7_relativeSplatPath,O,H==null?void 0:H.relative),Y=hs(se,fe,l),te=ns(Y,se,fe);if(te.active&&te.matches&&(Y=te.matches),!Y){ze(M,O,Zt(404,{pathname:fe}),{flushSync:Q});return}let{path:J,submission:ne,error:ve}=Gv(h.v7_normalizeFormMethod,!0,fe,H);if(ve){ze(M,O,ve,{flushSync:Q});return}let _e=Ya(Y,J),nt=(H&&H.preventScrollReset)===!0;if(ne&&Vn(ne.formMethod)){ya(M,O,J,_e,Y,te.active,Q,nt,ne);return}Se.set(M,{routeId:O,path:J}),Pc(M,O,J,_e,Y,te.active,Q,nt,ne)}async function ya(M,O,U,H,Q,se,fe,Y,te){Ji(),Se.delete(M);function J(Ye){if(!Ye.route.action&&!Ye.route.lazy){let yr=Zt(405,{method:te.formMethod,pathname:U,routeId:O});return ze(M,O,yr,{flushSync:fe}),!0}return!1}if(!se&&J(H))return;let ne=k.fetchers.get(M);Be(M,hR(te,ne),{flushSync:fe});let ve=new AbortController,_e=Zs(t.history,U,ve.signal,te);if(se){let Ye=await pr(Q,U,_e.signal);if(Ye.type==="aborted")return;if(Ye.type==="error"){ze(M,O,Ye.error,{flushSync:fe});return}else if(Ye.matches){if(Q=Ye.matches,H=Ya(Q,U),J(H))return}else{ze(M,O,Zt(404,{pathname:U}),{flushSync:fe});return}}re.set(M,ve);let nt=W,Ie=(await mr("action",k,_e,[H],Q,M))[H.route.id];if(_e.signal.aborted){re.get(M)===ve&&re.delete(M);return}if(h.v7_fetcherPersist&&ft.has(M)){if(ys(Ie)||hn(Ie)){Be(M,si(void 0));return}}else{if(ys(Ie))if(re.delete(M),ie>nt){Be(M,si(void 0));return}else return Ae.add(M),Be(M,ja(te)),fr(_e,Ie,!1,{fetcherSubmission:te,preventScrollReset:Y});if(hn(Ie)){ze(M,O,Ie.error);return}}if(yi(Ie))throw Zt(400,{type:"defer-action"});let $e=k.navigation.location||k.location,Kn=Zs(t.history,$e,ve.signal),gr=a||o,Tn=k.navigation.state!=="idle"?hs(gr,k.navigation.location,l):k.matches;ye(Tn,"Didn't find any matches after fetcher action");let cn=++W;ce.set(M,cn);let Ta=ja(te,Ie.data);k.fetchers.set(M,Ta);let[Gn,Qn]=Yv(t.history,k,Tn,te,$e,!1,h.v7_skipActionErrorRevalidation,le,K,we,ft,Se,Ae,gr,l,[H.route.id,Ie]);Qn.filter(Ye=>Ye.key!==M).forEach(Ye=>{let yr=Ye.key,Gs=k.fetchers.get(yr),xa=ja(void 0,Gs?Gs.data:void 0);k.fetchers.set(yr,xa),Wn(yr),Ye.controller&&re.set(yr,Ye.controller)}),ct({fetchers:new Map(k.fetchers)});let Jr=()=>Qn.forEach(Ye=>Wn(Ye.key));ve.signal.addEventListener("abort",Jr);let{loaderResults:Yn,fetcherResults:ge}=await zs(k,Tn,Gn,Qn,Kn);if(ve.signal.aborted)return;ve.signal.removeEventListener("abort",Jr),ce.delete(M),re.delete(M),Qn.forEach(Ye=>re.delete(Ye.key));let Fe=ou(Yn);if(Fe)return fr(Kn,Fe.result,!1,{preventScrollReset:Y});if(Fe=ou(ge),Fe)return Ae.add(Fe.key),fr(Kn,Fe.result,!1,{preventScrollReset:Y});let{loaderData:Zr,errors:ei}=t1(k,Tn,Yn,void 0,Qn,ge,Tt);if(k.fetchers.has(M)){let Ye=si(Ie.data);k.fetchers.set(M,Ye)}wa(cn),k.navigation.state==="loading"&&cn>ie?(ye(P,"Expected pending action"),x&&x.abort(),Hn(k.navigation.location,{matches:Tn,loaderData:Zr,errors:ei,fetchers:new Map(k.fetchers)})):(ct({errors:ei,loaderData:n1(k.loaderData,Zr,Tn,ei),fetchers:new Map(k.fetchers)}),le=!1)}async function Pc(M,O,U,H,Q,se,fe,Y,te){let J=k.fetchers.get(M);Be(M,ja(te,J?J.data:void 0),{flushSync:fe});let ne=new AbortController,ve=Zs(t.history,U,ne.signal);if(se){let Ie=await pr(Q,U,ve.signal);if(Ie.type==="aborted")return;if(Ie.type==="error"){ze(M,O,Ie.error,{flushSync:fe});return}else if(Ie.matches)Q=Ie.matches,H=Ya(Q,U);else{ze(M,O,Zt(404,{pathname:U}),{flushSync:fe});return}}re.set(M,ne);let _e=W,be=(await mr("loader",k,ve,[H],Q,M))[H.route.id];if(yi(be)&&(be=await Ng(be,ve.signal,!0)||be),re.get(M)===ne&&re.delete(M),!ve.signal.aborted){if(ft.has(M)){Be(M,si(void 0));return}if(ys(be))if(ie>_e){Be(M,si(void 0));return}else{Ae.add(M),await fr(ve,be,!1,{preventScrollReset:Y});return}if(hn(be)){ze(M,O,be.error);return}ye(!yi(be),"Unhandled fetcher deferred data"),Be(M,si(be.data))}}async function fr(M,O,U,H){let{submission:Q,fetcherSubmission:se,preventScrollReset:fe,replace:Y}=H===void 0?{}:H;O.response.headers.has("X-Remix-Revalidate")&&(le=!0);let te=O.response.headers.get("Location");ye(te,"Expected a Location header on the redirect Response"),te=Zv(te,new URL(M.url),l);let J=Ul(k.location,te,{_isRedirect:!0});if(n){let Ie=!1;if(O.response.headers.has("X-Remix-Reload-Document"))Ie=!0;else if(Rg.test(te)){const $e=t.history.createURL(te);Ie=$e.origin!==e.location.origin||jr($e.pathname,l)==null}if(Ie){Y?e.location.replace(te):e.location.assign(te);return}}x=null;let ne=Y===!0||O.response.headers.has("X-Remix-Replace")?ot.Replace:ot.Push,{formMethod:ve,formAction:_e,formEncType:nt}=k.navigation;!Q&&!se&&ve&&_e&&nt&&(Q=o1(k.navigation));let be=Q||se;if(qA.has(O.response.status)&&be&&Vn(be.formMethod))await Nn(ne,J,{submission:Ge({},be,{formAction:te}),preventScrollReset:fe||w,enableViewTransition:U?A:void 0});else{let Ie=Sf(J,Q);await Nn(ne,J,{overrideNavigation:Ie,fetcherSubmission:se,preventScrollReset:fe||w,enableViewTransition:U?A:void 0})}}async function mr(M,O,U,H,Q,se){let fe,Y={};try{fe=await eR(u,M,O,U,H,Q,se,s,i)}catch(te){return H.forEach(J=>{Y[J.route.id]={type:Le.error,error:te}}),Y}for(let[te,J]of Object.entries(fe))if(oR(J)){let ne=J.result;Y[te]={type:Le.redirect,response:rR(ne,U,te,Q,l,h.v7_relativeSplatPath)}}else Y[te]=await nR(J);return Y}async function zs(M,O,U,H,Q){let se=M.matches,fe=mr("loader",M,Q,U,O,null),Y=Promise.all(H.map(async ne=>{if(ne.matches&&ne.match&&ne.controller){let _e=(await mr("loader",M,Zs(t.history,ne.path,ne.controller.signal),[ne.match],ne.matches,ne.key))[ne.match.route.id];return{[ne.key]:_e}}else return Promise.resolve({[ne.key]:{type:Le.error,error:Zt(404,{pathname:ne.path})}})})),te=await fe,J=(await Y).reduce((ne,ve)=>Object.assign(ne,ve),{});return await Promise.all([cR(O,te,Q.signal,se,M.loaderData),uR(O,J,H)]),{loaderResults:te,fetcherResults:J}}function Ji(){le=!0,K.push(...qs()),Se.forEach((M,O)=>{re.has(O)&&we.add(O),Wn(O)})}function Be(M,O,U){U===void 0&&(U={}),k.fetchers.set(M,O),ct({fetchers:new Map(k.fetchers)},{flushSync:(U&&U.flushSync)===!0})}function ze(M,O,U,H){H===void 0&&(H={});let Q=fs(k.matches,O);es(M),ct({errors:{[Q.route.id]:U},fetchers:new Map(k.fetchers)},{flushSync:(H&&H.flushSync)===!0})}function Zi(M){return h.v7_fetcherPersist&&(Ve.set(M,(Ve.get(M)||0)+1),ft.has(M)&&ft.delete(M)),k.fetchers.get(M)||KA}function es(M){let O=k.fetchers.get(M);re.has(M)&&!(O&&O.state==="loading"&&ce.has(M))&&Wn(M),Se.delete(M),ce.delete(M),Ae.delete(M),ft.delete(M),we.delete(M),k.fetchers.delete(M)}function Ac(M){if(h.v7_fetcherPersist){let O=(Ve.get(M)||0)-1;O<=0?(Ve.delete(M),ft.add(M)):Ve.set(M,O)}else es(M);ct({fetchers:new Map(k.fetchers)})}function Wn(M){let O=re.get(M);O&&(O.abort(),re.delete(M))}function Xr(M){for(let O of M){let U=Zi(O),H=si(U.data);k.fetchers.set(O,H)}}function va(){let M=[],O=!1;for(let U of Ae){let H=k.fetchers.get(U);ye(H,"Expected fetcher: "+U),H.state==="loading"&&(Ae.delete(U),M.push(U),O=!0)}return Xr(M),O}function wa(M){let O=[];for(let[U,H]of ce)if(H<M){let Q=k.fetchers.get(U);ye(Q,"Expected fetcher: "+U),Q.state==="loading"&&(Wn(U),ce.delete(U),O.push(U))}return Xr(O),O.length>0}function _a(M,O){let U=k.blockers.get(M)||Ua;return xt.get(M)!==O&&xt.set(M,O),U}function Rc(M){k.blockers.delete(M),xt.delete(M)}function $s(M,O){let U=k.blockers.get(M)||Ua;ye(U.state==="unblocked"&&O.state==="blocked"||U.state==="blocked"&&O.state==="blocked"||U.state==="blocked"&&O.state==="proceeding"||U.state==="blocked"&&O.state==="unblocked"||U.state==="proceeding"&&O.state==="unblocked","Invalid blocker state transition: "+U.state+" -> "+O.state);let H=new Map(k.blockers);H.set(M,O),ct({blockers:H})}function Hs(M){let{currentLocation:O,nextLocation:U,historyAction:H}=M;if(xt.size===0)return;xt.size>1&&$o(!1,"A router only supports one blocker at a time");let Q=Array.from(xt.entries()),[se,fe]=Q[Q.length-1],Y=k.blockers.get(se);if(!(Y&&Y.state==="proceeding")&&fe({currentLocation:O,nextLocation:U,historyAction:H}))return se}function Ws(M){let O=Zt(404,{pathname:M}),U=a||o,{matches:H,route:Q}=i1(U);return qs(),{notFoundMatches:H,route:Q,error:O}}function qs(M){let O=[];return Tt.forEach((U,H)=>{(!M||M(H))&&(U.cancel(),O.push(H),Tt.delete(H))}),O}function ts(M,O,U){if(E=M,R=O,b=U||null,!T&&k.navigation===bf){T=!0;let H=qn(k.location,k.matches);H!=null&&ct({restoreScrollPosition:H})}return()=>{E=null,R=null,b=null}}function Ks(M,O){return b&&b(M,O.map(H=>bA(H,k.loaderData)))||M.key}function Ea(M,O){if(E&&R){let U=Ks(M,O);E[U]=R()}}function qn(M,O){if(E){let U=Ks(M,O),H=E[U];if(typeof H=="number")return H}return null}function ns(M,O,U){if(d)if(M){if(Object.keys(M[0].params).length>0)return{active:!0,matches:Au(O,U,l,!0)}}else return{active:!0,matches:Au(O,U,l,!0)||[]};return{active:!1,matches:null}}async function pr(M,O,U){if(!d)return{type:"success",matches:M};let H=M;for(;;){let Q=a==null,se=a||o,fe=s;try{await d({path:O,matches:H,patch:(J,ne)=>{U.aborted||Jv(J,ne,se,fe,i)}})}catch(J){return{type:"error",error:J,partialMatches:H}}finally{Q&&!U.aborted&&(o=[...o])}if(U.aborted)return{type:"aborted"};let Y=hs(se,O,l);if(Y)return{type:"success",matches:Y};let te=Au(se,O,l,!0);if(!te||H.length===te.length&&H.every((J,ne)=>J.route.id===te[ne].route.id))return{type:"success",matches:null};H=te}}function Nc(M){s={},a=md(M,i,void 0,s)}function rs(M,O){let U=a==null;Jv(M,O,a||o,s,i),U&&(o=[...o],ct({}))}return j={get basename(){return l},get future(){return h},get state(){return k},get routes(){return o},get window(){return e},initialize:$h,subscribe:js,enableScrollRestoration:ts,navigate:Bs,fetch:Cc,revalidate:ga,createHref:M=>t.history.createHref(M),encodeLocation:M=>t.history.encodeLocation(M),getFetcher:Zi,deleteFetcher:Ac,dispose:Hh,getBlocker:_a,deleteBlocker:Rc,patchRoutes:rs,_internalFetchControllers:re,_internalActiveDeferreds:Tt,_internalSetRoutes:Nc},j}function YA(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function zm(t,e,n,r,i,s,o,a){let l,u;if(o){l=[];for(let h of e)if(l.push(h),h.route.id===o){u=h;break}}else l=e,u=e[e.length-1];let d=ch(i||".",lh(l,s),jr(t.pathname,n)||t.pathname,a==="path");if(i==null&&(d.search=t.search,d.hash=t.hash),(i==null||i===""||i===".")&&u){let h=kg(d.search);if(u.route.index&&!h)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&h){let p=new URLSearchParams(d.search),y=p.getAll("index");p.delete("index"),y.filter(b=>b).forEach(b=>p.append("index",b));let E=p.toString();d.search=E?"?"+E:""}}return r&&n!=="/"&&(d.pathname=d.pathname==="/"?n:Ar([n,d.pathname])),As(d)}function Gv(t,e,n,r){if(!r||!YA(r))return{path:n};if(r.formMethod&&!lR(r.formMethod))return{path:n,error:Zt(405,{method:r.formMethod})};let i=()=>({path:n,error:Zt(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=mx(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Vn(o))return i();let p=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((y,E)=>{let[b,R]=E;return""+y+b+"="+R+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:p}}}else if(r.formEncType==="application/json"){if(!Vn(o))return i();try{let p=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:p,text:void 0}}}catch{return i()}}}ye(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=Hm(r.formData),u=r.formData;else if(r.body instanceof FormData)l=Hm(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=e1(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=e1(l)}catch{return i()}let d={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Vn(d.formMethod))return{path:n,submission:d};let h=qr(n);return e&&h.search&&kg(h.search)&&l.append("index",""),h.search="?"+l,{path:As(h),submission:d}}function Qv(t,e,n){n===void 0&&(n=!1);let r=t.findIndex(i=>i.route.id===e);return r>=0?t.slice(0,n?r+1:r):t}function Yv(t,e,n,r,i,s,o,a,l,u,d,h,p,y,E,b){let R=b?hn(b[1])?b[1].error:b[1].data:void 0,T=t.createURL(e.location),_=t.createURL(i),I=n;s&&e.errors?I=Qv(n,Object.keys(e.errors)[0],!0):b&&hn(b[1])&&(I=Qv(n,b[0]));let L=b?b[1].statusCode:void 0,j=o&&L&&L>=400,k=I.filter((w,x)=>{let{route:A}=w;if(A.lazy)return!0;if(A.loader==null)return!1;if(s)return $m(A,e.loaderData,e.errors);if(XA(e.loaderData,e.matches[x],w)||l.some(N=>N===w.route.id))return!0;let D=e.matches[x],V=w;return Xv(w,Ge({currentUrl:T,currentParams:D.params,nextUrl:_,nextParams:V.params},r,{actionResult:R,actionStatus:L,defaultShouldRevalidate:j?!1:a||T.pathname+T.search===_.pathname+_.search||T.search!==_.search||hx(D,V)}))}),P=[];return h.forEach((w,x)=>{if(s||!n.some(le=>le.route.id===w.routeId)||d.has(x))return;let A=hs(y,w.path,E);if(!A){P.push({key:x,routeId:w.routeId,path:w.path,matches:null,match:null,controller:null});return}let D=e.fetchers.get(x),V=Ya(A,w.path),N=!1;p.has(x)?N=!1:u.has(x)?(u.delete(x),N=!0):D&&D.state!=="idle"&&D.data===void 0?N=a:N=Xv(V,Ge({currentUrl:T,currentParams:e.matches[e.matches.length-1].params,nextUrl:_,nextParams:n[n.length-1].params},r,{actionResult:R,actionStatus:L,defaultShouldRevalidate:j?!1:a})),N&&P.push({key:x,routeId:w.routeId,path:w.path,matches:A,match:V,controller:new AbortController})}),[k,P]}function $m(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function XA(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function hx(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Xv(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function Jv(t,e,n,r,i){var s;let o;if(t){let u=r[t];ye(u,"No route found to patch children into: routeId = "+t),u.children||(u.children=[]),o=u.children}else o=n;let a=e.filter(u=>!o.some(d=>fx(u,d))),l=md(a,i,[t||"_","patch",String(((s=o)==null?void 0:s.length)||"0")],r);o.push(...l)}function fx(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var i;return(i=e.children)==null?void 0:i.some(s=>fx(n,s))}):!1}async function JA(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];ye(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";$o(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!TA.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,Ge({},e(i),{lazy:void 0}))}async function ZA(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,s,o)=>Object.assign(i,{[n[o].route.id]:s}),{})}async function eR(t,e,n,r,i,s,o,a,l,u){let d=s.map(y=>y.route.lazy?JA(y.route,l,a):void 0),h=s.map((y,E)=>{let b=d[E],R=i.some(_=>_.route.id===y.route.id);return Ge({},y,{shouldLoad:R,resolve:async _=>(_&&r.method==="GET"&&(y.route.lazy||y.route.loader)&&(R=!0),R?tR(e,r,y,b,_,u):Promise.resolve({type:Le.data,result:void 0}))})}),p=await t({matches:h,request:r,params:s[0].params,fetcherKey:o,context:u});try{await Promise.all(d)}catch{}return p}async function tR(t,e,n,r,i,s){let o,a,l=u=>{let d,h=new Promise((E,b)=>d=b);a=()=>d(),e.signal.addEventListener("abort",a);let p=E=>typeof u!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):u({request:e,params:n.params,context:s},...E!==void 0?[E]:[]),y=(async()=>{try{return{type:"data",result:await(i?i(b=>p(b)):p())}}catch(E){return{type:"error",result:E}}})();return Promise.race([y,h])};try{let u=n.route[t];if(r)if(u){let d,[h]=await Promise.all([l(u).catch(p=>{d=p}),r]);if(d!==void 0)throw d;o=h}else if(await r,u=n.route[t],u)o=await l(u);else if(t==="action"){let d=new URL(e.url),h=d.pathname+d.search;throw Zt(405,{method:e.method,pathname:h,routeId:n.route.id})}else return{type:Le.data,result:void 0};else if(u)o=await l(u);else{let d=new URL(e.url),h=d.pathname+d.search;throw Zt(404,{pathname:h})}ye(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(u){return{type:Le.error,result:u}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function nR(t){let{result:e,type:n}=t;if(px(e)){let u;try{let d=e.headers.get("Content-Type");d&&/\bapplication\/json\b/.test(d)?e.body==null?u=null:u=await e.json():u=await e.text()}catch(d){return{type:Le.error,error:d}}return n===Le.error?{type:Le.error,error:new gd(e.status,e.statusText,u),statusCode:e.status,headers:e.headers}:{type:Le.data,data:u,statusCode:e.status,headers:e.headers}}if(n===Le.error){if(s1(e)){var r;if(e.data instanceof Error){var i;return{type:Le.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status}}e=new gd(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:Le.error,error:e,statusCode:uh(e)?e.status:void 0}}if(aR(e)){var s,o;return{type:Le.deferred,deferredData:e,statusCode:(s=e.init)==null?void 0:s.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(s1(e)){var a,l;return{type:Le.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:Le.data,data:e}}function rR(t,e,n,r,i,s){let o=t.headers.get("Location");if(ye(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Rg.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=zm(new URL(e.url),a,i,!0,o,s),t.headers.set("Location",o)}return t}function Zv(t,e,n){if(Rg.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=jr(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function Zs(t,e,n,r){let i=t.createURL(mx(e)).toString(),s={signal:n};if(r&&Vn(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=Hm(r.formData):s.body=r.formData}return new Request(i,s)}function Hm(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function e1(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function iR(t,e,n,r,i){let s={},o=null,a,l=!1,u={},d=n&&hn(n[1])?n[1].error:void 0;return t.forEach(h=>{if(!(h.route.id in e))return;let p=h.route.id,y=e[p];if(ye(!ys(y),"Cannot handle redirect results in processLoaderData"),hn(y)){let E=y.error;if(d!==void 0&&(E=d,d=void 0),o=o||{},i)o[p]=E;else{let b=fs(t,p);o[b.route.id]==null&&(o[b.route.id]=E)}s[p]=void 0,l||(l=!0,a=uh(y.error)?y.error.status:500),y.headers&&(u[p]=y.headers)}else yi(y)?(r.set(p,y.deferredData),s[p]=y.deferredData.data,y.statusCode!=null&&y.statusCode!==200&&!l&&(a=y.statusCode),y.headers&&(u[p]=y.headers)):(s[p]=y.data,y.statusCode&&y.statusCode!==200&&!l&&(a=y.statusCode),y.headers&&(u[p]=y.headers))}),d!==void 0&&n&&(o={[n[0]]:d},s[n[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:u}}function t1(t,e,n,r,i,s,o){let{loaderData:a,errors:l}=iR(e,n,r,o,!1);return i.forEach(u=>{let{key:d,match:h,controller:p}=u,y=s[d];if(ye(y,"Did not find corresponding fetcher result"),!(p&&p.signal.aborted))if(hn(y)){let E=fs(t.matches,h==null?void 0:h.route.id);l&&l[E.route.id]||(l=Ge({},l,{[E.route.id]:y.error})),t.fetchers.delete(d)}else if(ys(y))ye(!1,"Unhandled fetcher revalidation redirect");else if(yi(y))ye(!1,"Unhandled fetcher deferred data");else{let E=si(y.data);t.fetchers.set(d,E)}}),{loaderData:a,errors:l}}function n1(t,e,n,r){let i=Ge({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function r1(t){return t?hn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function fs(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function i1(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Zt(t,e){let{pathname:n,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new gd(t||500,a,new Error(l),!0)}function ou(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(ys(i))return{key:r,result:i}}}function mx(t){let e=typeof t=="string"?qr(t):t;return As(Ge({},e,{hash:""}))}function sR(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function oR(t){return px(t.result)&&WA.has(t.result.status)}function yi(t){return t.type===Le.deferred}function hn(t){return t.type===Le.error}function ys(t){return(t&&t.type)===Le.redirect}function s1(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function aR(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function px(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function lR(t){return HA.has(t.toLowerCase())}function Vn(t){return zA.has(t.toLowerCase())}async function cR(t,e,n,r,i){let s=Object.entries(e);for(let o=0;o<s.length;o++){let[a,l]=s[o],u=t.find(p=>(p==null?void 0:p.route.id)===a);if(!u)continue;let d=r.find(p=>p.route.id===u.route.id),h=d!=null&&!hx(d,u)&&(i&&i[u.route.id])!==void 0;yi(l)&&h&&await Ng(l,n,!1).then(p=>{p&&(e[a]=p)})}}async function uR(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:s,controller:o}=n[r],a=e[i];t.find(u=>(u==null?void 0:u.route.id)===s)&&yi(a)&&(ye(o,"Expected an AbortController for revalidating fetcher deferred result"),await Ng(a,o.signal,!0).then(u=>{u&&(e[i]=u)}))}}async function Ng(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Le.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Le.error,error:i}}return{type:Le.data,data:t.deferredData.data}}}function kg(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Ya(t,e){let n=typeof e=="string"?qr(e).search:e.search;if(t[t.length-1].route.index&&kg(n||""))return t[t.length-1];let r=cx(t);return r[r.length-1]}function o1(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Sf(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function dR(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function ja(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function hR(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function si(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function fR(t,e){try{let n=t.sessionStorage.getItem(dx);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function mR(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(dx,JSON.stringify(n))}catch(r){$o(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jl(){return jl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jl.apply(this,arguments)}const oc=v.createContext(null),Dg=v.createContext(null),Kr=v.createContext(null),dh=v.createContext(null),Gr=v.createContext({outlet:null,matches:[],isDataRoute:!1}),gx=v.createContext(null);function pR(t,e){let{relative:n}=e===void 0?{}:e;oa()||ye(!1);let{basename:r,navigator:i}=v.useContext(Kr),{hash:s,pathname:o,search:a}=hh(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Ar([r,o])),i.createHref({pathname:l,search:a,hash:s})}function oa(){return v.useContext(dh)!=null}function Qr(){return oa()||ye(!1),v.useContext(dh).location}function yx(t){v.useContext(Kr).static||v.useLayoutEffect(t)}function _n(){let{isDataRoute:t}=v.useContext(Gr);return t?AR():gR()}function gR(){oa()||ye(!1);let t=v.useContext(oc),{basename:e,future:n,navigator:r}=v.useContext(Kr),{matches:i}=v.useContext(Gr),{pathname:s}=Qr(),o=JSON.stringify(lh(i,n.v7_relativeSplatPath)),a=v.useRef(!1);return yx(()=>{a.current=!0}),v.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=ch(u,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ar([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,s,t])}const yR=v.createContext(null);function vR(t){let e=v.useContext(Gr).outlet;return e&&v.createElement(yR.Provider,{value:t},e)}function hh(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=v.useContext(Kr),{matches:i}=v.useContext(Gr),{pathname:s}=Qr(),o=JSON.stringify(lh(i,r.v7_relativeSplatPath));return v.useMemo(()=>ch(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function wR(t,e,n,r){oa()||ye(!1);let{navigator:i}=v.useContext(Kr),{matches:s}=v.useContext(Gr),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Qr(),d;if(e){var h;let R=typeof e=="string"?qr(e):e;l==="/"||(h=R.pathname)!=null&&h.startsWith(l)||ye(!1),d=R}else d=u;let p=d.pathname||"/",y=p;if(l!=="/"){let R=l.replace(/^\//,"").split("/");y="/"+p.replace(/^\//,"").split("/").slice(R.length).join("/")}let E=hs(t,{pathname:y}),b=bR(E&&E.map(R=>Object.assign({},R,{params:Object.assign({},a,R.params),pathname:Ar([l,i.encodeLocation?i.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?l:Ar([l,i.encodeLocation?i.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),s,n,r);return e&&b?v.createElement(dh.Provider,{value:{location:jl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ot.Pop}},b):b}function _R(){let t=PR(),e=uh(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),n?v.createElement("pre",{style:i},n):null,s)}const ER=v.createElement(_R,null);class TR extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?v.createElement(Gr.Provider,{value:this.props.routeContext},v.createElement(gx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function xR(t){let{routeContext:e,match:n,children:r}=t,i=v.useContext(oc);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(Gr.Provider,{value:e},r)}function bR(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||ye(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:p,errors:y}=n,E=h.route.loader&&p[h.route.id]===void 0&&(!y||y[h.route.id]===void 0);if(h.route.lazy||E){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let y,E=!1,b=null,R=null;n&&(y=a&&h.route.id?a[h.route.id]:void 0,b=h.route.errorElement||ER,l&&(u<0&&p===0?(RR("route-fallback",!1),E=!0,R=null):u===p&&(E=!0,R=h.route.hydrateFallbackElement||null)));let T=e.concat(o.slice(0,p+1)),_=()=>{let I;return y?I=b:E?I=R:h.route.Component?I=v.createElement(h.route.Component,null):h.route.element?I=h.route.element:I=d,v.createElement(xR,{match:h,routeContext:{outlet:d,matches:T,isDataRoute:n!=null},children:I})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?v.createElement(TR,{location:n.location,revalidation:n.revalidation,component:b,error:y,children:_(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):_()},null)}var vx=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(vx||{}),yd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(yd||{});function SR(t){let e=v.useContext(oc);return e||ye(!1),e}function IR(t){let e=v.useContext(Dg);return e||ye(!1),e}function CR(t){let e=v.useContext(Gr);return e||ye(!1),e}function wx(t){let e=CR(),n=e.matches[e.matches.length-1];return n.route.id||ye(!1),n.route.id}function PR(){var t;let e=v.useContext(gx),n=IR(yd.UseRouteError),r=wx(yd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function AR(){let{router:t}=SR(vx.UseNavigateStable),e=wx(yd.UseNavigateStable),n=v.useRef(!1);return yx(()=>{n.current=!0}),v.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,jl({fromRouteId:e},s)))},[t,e])}const a1={};function RR(t,e,n){!e&&!a1[t]&&(a1[t]=!0)}function Wm(t){let{to:e,replace:n,state:r,relative:i}=t;oa()||ye(!1);let{future:s,static:o}=v.useContext(Kr),{matches:a}=v.useContext(Gr),{pathname:l}=Qr(),u=_n(),d=ch(e,lh(a,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(d);return v.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:i}),[u,h,i,n,r]),null}function NR(t){return vR(t.context)}function kR(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ot.Pop,navigator:s,static:o=!1,future:a}=t;oa()&&ye(!1);let l=e.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:l,navigator:s,static:o,future:jl({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=qr(r));let{pathname:d="/",search:h="",hash:p="",state:y=null,key:E="default"}=r,b=v.useMemo(()=>{let R=jr(d,l);return R==null?null:{location:{pathname:R,search:h,hash:p,state:y,key:E},navigationType:i}},[l,d,h,p,y,E,i]);return b==null?null:v.createElement(Kr.Provider,{value:u},v.createElement(dh.Provider,{children:n,value:b}))}new Promise(()=>{});function DR(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:v.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:v.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:v.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ho(){return Ho=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ho.apply(this,arguments)}function _x(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function LR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function MR(t,e){return t.button===0&&(!e||e==="_self")&&!LR(t)}const VR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],OR=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],FR="6";try{window.__reactRouterVersion=FR}catch{}function UR(t,e){return QA({basename:e==null?void 0:e.basename,future:Ho({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:wA({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||jR(),routes:t,mapRouteProperties:DR,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function jR(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Ho({},e,{errors:BR(e.errors)})),e}function BR(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new gd(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const Ex=v.createContext({isTransitioning:!1}),zR=v.createContext(new Map),$R="startTransition",l1=oC[$R],HR="flushSync",c1=vA[HR];function WR(t){l1?l1(t):t()}function Ba(t){c1?c1(t):t()}let qR=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function KR(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=v.useState(n.state),[o,a]=v.useState(),[l,u]=v.useState({isTransitioning:!1}),[d,h]=v.useState(),[p,y]=v.useState(),[E,b]=v.useState(),R=v.useRef(new Map),{v7_startTransition:T}=r||{},_=v.useCallback(w=>{T?WR(w):w()},[T]),I=v.useCallback((w,x)=>{let{deletedFetchers:A,flushSync:D,viewTransitionOpts:V}=x;A.forEach(le=>R.current.delete(le)),w.fetchers.forEach((le,K)=>{le.data!==void 0&&R.current.set(K,le.data)});let N=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!V||N){D?Ba(()=>s(w)):_(()=>s(w));return}if(D){Ba(()=>{p&&(d&&d.resolve(),p.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:V.currentLocation,nextLocation:V.nextLocation})});let le=n.window.document.startViewTransition(()=>{Ba(()=>s(w))});le.finished.finally(()=>{Ba(()=>{h(void 0),y(void 0),a(void 0),u({isTransitioning:!1})})}),Ba(()=>y(le));return}p?(d&&d.resolve(),p.skipTransition(),b({state:w,currentLocation:V.currentLocation,nextLocation:V.nextLocation})):(a(w),u({isTransitioning:!0,flushSync:!1,currentLocation:V.currentLocation,nextLocation:V.nextLocation}))},[n.window,p,d,R,_]);v.useLayoutEffect(()=>n.subscribe(I),[n,I]),v.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new qR)},[l]),v.useEffect(()=>{if(d&&o&&n.window){let w=o,x=d.promise,A=n.window.document.startViewTransition(async()=>{_(()=>s(w)),await x});A.finished.finally(()=>{h(void 0),y(void 0),a(void 0),u({isTransitioning:!1})}),y(A)}},[_,o,d,n.window]),v.useEffect(()=>{d&&o&&i.location.key===o.location.key&&d.resolve()},[d,p,i.location,o]),v.useEffect(()=>{!l.isTransitioning&&E&&(a(E.state),u({isTransitioning:!0,flushSync:!1,currentLocation:E.currentLocation,nextLocation:E.nextLocation}),b(void 0))},[l.isTransitioning,E]),v.useEffect(()=>{},[]);let L=v.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:w=>n.navigate(w),push:(w,x,A)=>n.navigate(w,{state:x,preventScrollReset:A==null?void 0:A.preventScrollReset}),replace:(w,x,A)=>n.navigate(w,{replace:!0,state:x,preventScrollReset:A==null?void 0:A.preventScrollReset})}),[n]),j=n.basename||"/",k=v.useMemo(()=>({router:n,navigator:L,static:!1,basename:j}),[n,L,j]),P=v.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return v.createElement(v.Fragment,null,v.createElement(oc.Provider,{value:k},v.createElement(Dg.Provider,{value:i},v.createElement(zR.Provider,{value:R.current},v.createElement(Ex.Provider,{value:l},v.createElement(kR,{basename:j,location:i.location,navigationType:i.historyAction,navigator:L,future:P},i.initialized||n.future.v7_partialHydration?v.createElement(GR,{routes:n.routes,future:n.future,state:i}):e))))),null)}const GR=v.memo(QR);function QR(t){let{routes:e,future:n,state:r}=t;return wR(e,void 0,r,n)}const YR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",XR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gt=v.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:h}=e,p=_x(e,VR),{basename:y}=v.useContext(Kr),E,b=!1;if(typeof u=="string"&&XR.test(u)&&(E=u,YR))try{let I=new URL(window.location.href),L=u.startsWith("//")?new URL(I.protocol+u):new URL(u),j=jr(L.pathname,y);L.origin===I.origin&&j!=null?u=j+L.search+L.hash:b=!0}catch{}let R=pR(u,{relative:i}),T=ZR(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:h});function _(I){r&&r(I),I.defaultPrevented||T(I)}return v.createElement("a",Ho({},p,{href:E||R,onClick:b||s?r:_,ref:n,target:l}))}),Tx=v.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,viewTransition:u,children:d}=e,h=_x(e,OR),p=hh(l,{relative:h.relative}),y=Qr(),E=v.useContext(Dg),{navigator:b,basename:R}=v.useContext(Kr),T=E!=null&&eN(p)&&u===!0,_=b.encodeLocation?b.encodeLocation(p).pathname:p.pathname,I=y.pathname,L=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;i||(I=I.toLowerCase(),L=L?L.toLowerCase():null,_=_.toLowerCase()),L&&R&&(L=jr(L,R)||L);const j=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let k=I===_||!o&&I.startsWith(_)&&I.charAt(j)==="/",P=L!=null&&(L===_||!o&&L.startsWith(_)&&L.charAt(_.length)==="/"),w={isActive:k,isPending:P,isTransitioning:T},x=k?r:void 0,A;typeof s=="function"?A=s(w):A=[s,k?"active":null,P?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let D=typeof a=="function"?a(w):a;return v.createElement(Gt,Ho({},h,{"aria-current":x,className:A,ref:n,style:D,to:l,viewTransition:u}),typeof d=="function"?d(w):d)});var qm;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(qm||(qm={}));var u1;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(u1||(u1={}));function JR(t){let e=v.useContext(oc);return e||ye(!1),e}function ZR(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=_n(),u=Qr(),d=hh(t,{relative:o});return v.useCallback(h=>{if(MR(h,n)){h.preventDefault();let p=r!==void 0?r:As(u)===As(d);l(t,{replace:p,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[u,l,d,r,i,n,t,s,o,a])}function eN(t,e){e===void 0&&(e={});let n=v.useContext(Ex);n==null&&ye(!1);let{basename:r}=JR(qm.useViewTransitionState),i=hh(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=jr(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=jr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return pd(i.pathname,o)!=null||pd(i.pathname,s)!=null}function tN(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}function fh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Km=t=>Array.isArray(t);function xx(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Bl(t){return typeof t=="string"||Array.isArray(t)}function d1(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Lg(t,e,n,r){if(typeof e=="function"){const[i,s]=d1(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=d1(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function mh(t,e,n){const r=t.getProps();return Lg(r,e,n!==void 0?n:r.custom,t)}const Mg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Vg=["initial",...Mg],ac=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Vs=new Set(ac),ir=t=>t*1e3,Rr=t=>t/1e3,nN={type:"spring",stiffness:500,damping:25,restSpeed:10},rN=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),iN={type:"keyframes",duration:.8},sN={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},oN=(t,{keyframes:e})=>e.length>2?iN:Vs.has(t)?t.startsWith("scale")?rN(e[1]):nN:sN;function Og(t,e){return t?t[e]||t.default||t:void 0}const aN={skipAnimations:!1,useManualTiming:!1},lN=t=>t!==null;function ph(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(lN),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const Nt=t=>t;function cN(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(u){s.has(u)&&(l.schedule(u),t()),u(o)}const l={schedule:(u,d=!1,h=!1)=>{const y=h&&r?e:n;return d&&s.add(u),y.has(u)||y.add(u),u},cancel:u=>{n.delete(u),s.delete(u)},process:u=>{if(o=u,r){i=!0;return}r=!0,[e,n]=[n,e],n.clear(),e.forEach(a),r=!1,i&&(i=!1,l.process(u))}};return l}const au=["read","resolveKeyframes","update","preRender","render","postRender"],uN=40;function bx(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=au.reduce((T,_)=>(T[_]=cN(s),T),{}),{read:a,resolveKeyframes:l,update:u,preRender:d,render:h,postRender:p}=o,y=()=>{const T=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(T-i.timestamp,uN),1),i.timestamp=T,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),d.process(i),h.process(i),p.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(y))},E=()=>{n=!0,r=!0,i.isProcessing||t(y)};return{schedule:au.reduce((T,_)=>{const I=o[_];return T[_]=(L,j=!1,k=!1)=>(n||E(),I.schedule(L,j,k)),T},{}),cancel:T=>{for(let _=0;_<au.length;_++)o[au[_]].cancel(T)},state:i,steps:o}}const{schedule:Me,cancel:Vi,state:It,steps:If}=bx(typeof requestAnimationFrame<"u"?requestAnimationFrame:Nt,!0),Sx=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,dN=1e-7,hN=12;function fN(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=Sx(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>dN&&++a<hN);return o}function lc(t,e,n,r){if(t===e&&n===r)return Nt;const i=s=>fN(s,0,1,t,n);return s=>s===0||s===1?s:Sx(i(s),e,r)}const Ix=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Cx=t=>e=>1-t(1-e),Px=lc(.33,1.53,.69,.99),Fg=Cx(Px),Ax=Ix(Fg),Rx=t=>(t*=2)<1?.5*Fg(t):.5*(2-Math.pow(2,-10*(t-1))),Ug=t=>1-Math.sin(Math.acos(t)),Nx=Cx(Ug),kx=Ix(Ug),Dx=t=>/^0[^.\s]+$/u.test(t);function mN(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Dx(t):!0}let pN=Nt,Lx=Nt;const Mx=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),Vx=t=>e=>typeof e=="string"&&e.startsWith(t),Ox=Vx("--"),gN=Vx("var(--"),jg=t=>gN(t)?yN.test(t.split("/*")[0].trim()):!1,yN=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,vN=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function wN(t){const e=vN.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function Fx(t,e,n=1){const[r,i]=wN(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return Mx(o)?parseFloat(o):o}return jg(i)?Fx(i,e,n+1):i}const Oi=(t,e,n)=>n>e?e:n<t?t:n,aa={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},zl={...aa,transform:t=>Oi(0,1,t)},lu={...aa,default:1},cc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),oi=cc("deg"),sr=cc("%"),ue=cc("px"),_N=cc("vh"),EN=cc("vw"),h1={...sr,parse:t=>sr.parse(t)/100,transform:t=>sr.transform(t*100)},TN=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),f1=t=>t===aa||t===ue,m1=(t,e)=>parseFloat(t.split(", ")[e]),p1=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return m1(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?m1(s[1],t):0}},xN=new Set(["x","y","z"]),bN=ac.filter(t=>!xN.has(t));function SN(t){const e=[];return bN.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Wo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:p1(4,13),y:p1(5,14)};Wo.translateX=Wo.x;Wo.translateY=Wo.y;const Ux=t=>e=>e.test(t),IN={test:t=>t==="auto",parse:t=>t},jx=[aa,ue,sr,oi,EN,_N,IN],g1=t=>jx.find(Ux(t)),Ts=new Set;let Gm=!1,Qm=!1;function Bx(){if(Qm){const t=Array.from(Ts).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=SN(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Qm=!1,Gm=!1,Ts.forEach(t=>t.complete()),Ts.clear()}function zx(){Ts.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Qm=!0)})}function CN(){zx(),Bx()}class Bg{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ts.add(this),Gm||(Gm=!0,Me.read(zx),Me.resolveKeyframes(Bx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ts.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ts.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const ml=t=>Math.round(t*1e5)/1e5,zg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function PN(t){return t==null}const AN=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,$g=(t,e)=>n=>!!(typeof n=="string"&&AN.test(n)&&n.startsWith(t)||e&&!PN(n)&&Object.prototype.hasOwnProperty.call(n,e)),$x=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(zg);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},RN=t=>Oi(0,255,t),Cf={...aa,transform:t=>Math.round(RN(t))},vs={test:$g("rgb","red"),parse:$x("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Cf.transform(t)+", "+Cf.transform(e)+", "+Cf.transform(n)+", "+ml(zl.transform(r))+")"};function NN(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Ym={test:$g("#"),parse:NN,transform:vs.transform},vo={test:$g("hsl","hue"),parse:$x("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+sr.transform(ml(e))+", "+sr.transform(ml(n))+", "+ml(zl.transform(r))+")"},Ut={test:t=>vs.test(t)||Ym.test(t)||vo.test(t),parse:t=>vs.test(t)?vs.parse(t):vo.test(t)?vo.parse(t):Ym.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?vs.transform(t):vo.transform(t)},kN=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function DN(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(zg))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(kN))===null||n===void 0?void 0:n.length)||0)>0}const Hx="number",Wx="color",LN="var",MN="var(",y1="${}",VN=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function $l(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(VN,l=>(Ut.test(l)?(r.color.push(s),i.push(Wx),n.push(Ut.parse(l))):l.startsWith(MN)?(r.var.push(s),i.push(LN),n.push(l)):(r.number.push(s),i.push(Hx),n.push(parseFloat(l))),++s,y1)).split(y1);return{values:n,split:a,indexes:r,types:i}}function qx(t){return $l(t).values}function Kx(t){const{split:e,types:n}=$l(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===Hx?s+=ml(i[o]):a===Wx?s+=Ut.transform(i[o]):s+=i[o]}return s}}const ON=t=>typeof t=="number"?0:t;function FN(t){const e=qx(t);return Kx(t)(e.map(ON))}const Fi={test:DN,parse:qx,createTransformer:Kx,getAnimatableNone:FN},UN=new Set(["brightness","contrast","saturate","opacity"]);function jN(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(zg)||[];if(!r)return t;const i=n.replace(r,"");let s=UN.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const BN=/\b([a-z-]*)\(.*?\)/gu,Xm={...Fi,getAnimatableNone:t=>{const e=t.match(BN);return e?e.map(jN).join(" "):t}},zN={borderWidth:ue,borderTopWidth:ue,borderRightWidth:ue,borderBottomWidth:ue,borderLeftWidth:ue,borderRadius:ue,radius:ue,borderTopLeftRadius:ue,borderTopRightRadius:ue,borderBottomRightRadius:ue,borderBottomLeftRadius:ue,width:ue,maxWidth:ue,height:ue,maxHeight:ue,top:ue,right:ue,bottom:ue,left:ue,padding:ue,paddingTop:ue,paddingRight:ue,paddingBottom:ue,paddingLeft:ue,margin:ue,marginTop:ue,marginRight:ue,marginBottom:ue,marginLeft:ue,backgroundPositionX:ue,backgroundPositionY:ue},$N={rotate:oi,rotateX:oi,rotateY:oi,rotateZ:oi,scale:lu,scaleX:lu,scaleY:lu,scaleZ:lu,skew:oi,skewX:oi,skewY:oi,distance:ue,translateX:ue,translateY:ue,translateZ:ue,x:ue,y:ue,z:ue,perspective:ue,transformPerspective:ue,opacity:zl,originX:h1,originY:h1,originZ:ue},v1={...aa,transform:Math.round},Hg={...zN,...$N,zIndex:v1,size:ue,fillOpacity:zl,strokeOpacity:zl,numOctaves:v1},HN={...Hg,color:Ut,backgroundColor:Ut,outlineColor:Ut,fill:Ut,stroke:Ut,borderColor:Ut,borderTopColor:Ut,borderRightColor:Ut,borderBottomColor:Ut,borderLeftColor:Ut,filter:Xm,WebkitFilter:Xm},Wg=t=>HN[t];function Gx(t,e){let n=Wg(t);return n!==Xm&&(n=Fi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const WN=new Set(["auto","none","0"]);function qN(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!WN.has(s)&&$l(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=Gx(n,i)}class Qx extends Bg{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),jg(u))){const d=Fx(u,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!TN.has(r)||e.length!==2)return;const[i,s]=e,o=g1(i),a=g1(s);if(o!==a)if(f1(o)&&f1(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)mN(e[i])&&r.push(i);r.length&&qN(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Wo[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=Wo[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function qg(t){return typeof t=="function"}let Ru;function KN(){Ru=void 0}const or={now:()=>(Ru===void 0&&or.set(It.isProcessing||aN.useManualTiming?It.timestamp:performance.now()),Ru),set:t=>{Ru=t,queueMicrotask(KN)}},w1=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Fi.test(t)||t==="0")&&!t.startsWith("url("));function GN(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function QN(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=w1(i,e),a=w1(s,e);return!o||!a?!1:GN(t)||(n==="spring"||qg(n))&&r}const YN=40;class Yx{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=or.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>YN?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&CN(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=or.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!QN(e,r,i,s))if(o)this.options.duration=0;else{l==null||l(ph(e,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function Xx(t,e){return e?t*(1e3/e):0}const XN=5;function Jx(t,e,n){const r=Math.max(e-XN,0);return Xx(n-t(r),e-r)}const Pf=.001,JN=.01,_1=10,ZN=.05,ek=1;function tk({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s;pN(t<=ir(_1));let o=1-e;o=Oi(ZN,ek,o),t=Oi(JN,_1,Rr(t)),o<1?(i=u=>{const d=u*o,h=d*t,p=d-n,y=Jm(u,o),E=Math.exp(-h);return Pf-p/y*E},s=u=>{const h=u*o*t,p=h*n+n,y=Math.pow(o,2)*Math.pow(u,2)*t,E=Math.exp(-h),b=Jm(Math.pow(u,2),o);return(-i(u)+Pf>0?-1:1)*((p-y)*E)/b}):(i=u=>{const d=Math.exp(-u*t),h=(u-n)*t+1;return-Pf+d*h},s=u=>{const d=Math.exp(-u*t),h=(n-u)*(t*t);return d*h});const a=5/t,l=rk(i,s,a);if(t=ir(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const nk=12;function rk(t,e,n){let r=n;for(let i=1;i<nk;i++)r=r-t(r)/e(r);return r}function Jm(t,e){return t*Math.sqrt(1-e*e)}const ik=["duration","bounce"],sk=["stiffness","damping","mass"];function E1(t,e){return e.some(n=>t[n]!==void 0)}function ok(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!E1(t,sk)&&E1(t,ik)){const n=tk(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function Zx({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:u,duration:d,velocity:h,isResolvedFromDuration:p}=ok({...r,velocity:-Rr(r.velocity||0)}),y=h||0,E=l/(2*Math.sqrt(a*u)),b=s-i,R=Rr(Math.sqrt(a/u)),T=Math.abs(b)<5;n||(n=T?.01:2),e||(e=T?.005:.5);let _;if(E<1){const I=Jm(R,E);_=L=>{const j=Math.exp(-E*R*L);return s-j*((y+E*R*b)/I*Math.sin(I*L)+b*Math.cos(I*L))}}else if(E===1)_=I=>s-Math.exp(-R*I)*(b+(y+R*b)*I);else{const I=R*Math.sqrt(E*E-1);_=L=>{const j=Math.exp(-E*R*L),k=Math.min(I*L,300);return s-j*((y+E*R*b)*Math.sinh(k)+I*b*Math.cosh(k))/I}}return{calculatedDuration:p&&d||null,next:I=>{const L=_(I);if(p)o.done=I>=d;else{let j=0;E<1&&(j=I===0?ir(y):Jx(_,I,L));const k=Math.abs(j)<=n,P=Math.abs(s-L)<=e;o.done=k&&P}return o.value=o.done?s:L,o}}}function T1({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:d}){const h=t[0],p={done:!1,value:h},y=w=>a!==void 0&&w<a||l!==void 0&&w>l,E=w=>a===void 0?l:l===void 0||Math.abs(a-w)<Math.abs(l-w)?a:l;let b=n*e;const R=h+b,T=o===void 0?R:o(R);T!==R&&(b=T-h);const _=w=>-b*Math.exp(-w/r),I=w=>T+_(w),L=w=>{const x=_(w),A=I(w);p.done=Math.abs(x)<=u,p.value=p.done?T:A};let j,k;const P=w=>{y(p.value)&&(j=w,k=Zx({keyframes:[p.value,E(p.value)],velocity:Jx(I,w,p.value),damping:i,stiffness:s,restDelta:u,restSpeed:d}))};return P(0),{calculatedDuration:null,next:w=>{let x=!1;return!k&&j===void 0&&(x=!0,L(w),P(w)),j!==void 0&&w>=j?k.next(w-j):(!x&&L(w),p)}}}const ak=lc(.42,0,1,1),lk=lc(0,0,.58,1),e2=lc(.42,0,.58,1),ck=t=>Array.isArray(t)&&typeof t[0]!="number",Kg=t=>Array.isArray(t)&&typeof t[0]=="number",uk={linear:Nt,easeIn:ak,easeInOut:e2,easeOut:lk,circIn:Ug,circInOut:kx,circOut:Nx,backIn:Fg,backInOut:Ax,backOut:Px,anticipate:Rx},x1=t=>{if(Kg(t)){Lx(t.length===4);const[e,n,r,i]=t;return lc(e,n,r,i)}else if(typeof t=="string")return uk[t];return t},dk=(t,e)=>n=>e(t(n)),Nr=(...t)=>t.reduce(dk),qo=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Je=(t,e,n)=>t+(e-t)*n;function Af(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function hk({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=Af(l,a,t+1/3),s=Af(l,a,t),o=Af(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function vd(t,e){return n=>n>0?e:t}const Rf=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},fk=[Ym,vs,vo],mk=t=>fk.find(e=>e.test(t));function b1(t){const e=mk(t);if(!e)return!1;let n=e.parse(t);return e===vo&&(n=hk(n)),n}const S1=(t,e)=>{const n=b1(t),r=b1(e);if(!n||!r)return vd(t,e);const i={...n};return s=>(i.red=Rf(n.red,r.red,s),i.green=Rf(n.green,r.green,s),i.blue=Rf(n.blue,r.blue,s),i.alpha=Je(n.alpha,r.alpha,s),vs.transform(i))},Zm=new Set(["none","hidden"]);function pk(t,e){return Zm.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function gk(t,e){return n=>Je(t,e,n)}function Gg(t){return typeof t=="number"?gk:typeof t=="string"?jg(t)?vd:Ut.test(t)?S1:wk:Array.isArray(t)?t2:typeof t=="object"?Ut.test(t)?S1:yk:vd}function t2(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>Gg(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function yk(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Gg(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function vk(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const wk=(t,e)=>{const n=Fi.createTransformer(e),r=$l(t),i=$l(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Zm.has(t)&&!i.values.length||Zm.has(e)&&!r.values.length?pk(t,e):Nr(t2(vk(r,i),i.values),n):vd(t,e)};function n2(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Je(t,e,n):Gg(t)(t,e)}function _k(t,e,n){const r=[],i=n||n2,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Nt:e;a=Nr(l,a)}r.push(a)}return r}function Ek(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(Lx(s===e.length),s===1)return()=>e[0];if(s===2&&t[0]===t[1])return()=>e[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=_k(e,r,i),a=o.length,l=u=>{let d=0;if(a>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const h=qo(t[d],t[d+1],u);return o[d](h)};return n?u=>l(Oi(t[0],t[s-1],u)):l}function Tk(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=qo(0,e,r);t.push(Je(n,1,i))}}function xk(t){const e=[0];return Tk(e,t.length-1),e}function bk(t,e){return t.map(n=>n*e)}function Sk(t,e){return t.map(()=>e||e2).splice(0,t.length-1)}function wd({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=ck(r)?r.map(x1):x1(r),s={done:!1,value:e[0]},o=bk(n&&n.length===e.length?n:xk(e),t),a=Ek(o,e,{ease:Array.isArray(i)?i:Sk(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const I1=2e4;function Ik(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<I1;)e+=n,r=t.next(e);return e>=I1?1/0:e}const Ck=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Me.update(e,!0),stop:()=>Vi(e),now:()=>It.isProcessing?It.timestamp:or.now()}},Pk={decay:T1,inertia:T1,tween:wd,keyframes:wd,spring:Zx},Ak=t=>t/100;class Qg extends Yx{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||Bg,a=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=qg(n)?n:Pk[n]||wd;let l,u;a!==wd&&typeof e[0]!="number"&&(l=Nr(Ak,n2(e[0],e[1])),e=[0,100]);const d=a({...this.options,keyframes:e});s==="mirror"&&(u=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=Ik(d));const{calculatedDuration:h}=d,p=h+i,y=p*(r+1)-i;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:p,totalDuration:y}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:w}=this.options;return{done:!0,value:w[w.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=r;if(this.startTime===null)return s.next(0);const{delay:p,repeat:y,repeatType:E,repeatDelay:b,onUpdate:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const T=this.currentTime-p*(this.speed>=0?1:-1),_=this.speed>=0?T<0:T>d;this.currentTime=Math.max(T,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let I=this.currentTime,L=s;if(y){const w=Math.min(this.currentTime,d)/h;let x=Math.floor(w),A=w%1;!A&&w>=1&&(A=1),A===1&&x--,x=Math.min(x,y+1),!!(x%2)&&(E==="reverse"?(A=1-A,b&&(A-=b/h)):E==="mirror"&&(L=o)),I=Oi(0,1,A)*h}const j=_?{done:!1,value:l[0]}:L.next(I);a&&(j.value=a(j.value));let{done:k}=j;!_&&u!==null&&(k=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return P&&i!==void 0&&(j.value=ph(l,this.options,i)),R&&R(j.value),P&&this.finish(),j}get duration(){const{resolved:e}=this;return e?Rr(e.calculatedDuration):0}get time(){return Rr(this.currentTime)}set time(e){e=ir(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Rr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=Ck,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Rk=new Set(["opacity","clipPath","filter","transform"]),Nk=10,kk=(t,e)=>{let n="";const r=Math.max(Math.round(e/Nk),2);for(let i=0;i<r;i++)n+=t(qo(0,r-1,i))+", ";return`linear(${n.substring(0,n.length-2)})`};function Yg(t){let e;return()=>(e===void 0&&(e=t()),e)}const Dk={linearEasing:void 0};function Lk(t,e){const n=Yg(t);return()=>{var r;return(r=Dk[e])!==null&&r!==void 0?r:n()}}const _d=Lk(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function r2(t){return!!(typeof t=="function"&&_d()||!t||typeof t=="string"&&(t in ep||_d())||Kg(t)||Array.isArray(t)&&t.every(r2))}const Xa=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,ep={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Xa([0,.65,.55,1]),circOut:Xa([.55,0,1,.45]),backIn:Xa([.31,.01,.66,-.59]),backOut:Xa([.33,1.53,.69,.99])};function i2(t,e){if(t)return typeof t=="function"&&_d()?kk(t,e):Kg(t)?Xa(t):Array.isArray(t)?t.map(n=>i2(n,e)||ep.easeOut):ep[t]}function Mk(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const u={[e]:n};l&&(u.offset=l);const d=i2(a,i);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function C1(t,e){t.timeline=e,t.onfinish=null}const Vk=Yg(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Ed=10,Ok=2e4;function Fk(t){return qg(t.type)||t.type==="spring"||!r2(t.ease)}function Uk(t,e){const n=new Qg({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<Ok;)r=n.sample(s),i.push(r.value),s+=Ed;return{times:void 0,keyframes:i,duration:s-Ed,ease:"linear"}}const s2={anticipate:Rx,backInOut:Ax,circInOut:kx};function jk(t){return t in s2}class P1 extends Yx{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new Qx(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:i=300,times:s,ease:o,type:a,motionValue:l,name:u,startTime:d}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(typeof o=="string"&&_d()&&jk(o)&&(o=s2[o]),Fk(this.options)){const{onComplete:p,onUpdate:y,motionValue:E,element:b,...R}=this.options,T=Uk(e,R);e=T.keyframes,e.length===1&&(e[1]=e[0]),i=T.duration,s=T.times,o=T.ease,a="keyframes"}const h=Mk(l.owner.current,u,e,{...this.options,duration:i,times:s,ease:o});return h.startTime=d??this.calcStartTime(),this.pendingTimeline?(C1(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:p}=this.options;l.set(ph(e,this.options,n)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:i,times:s,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Rr(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Rr(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=ir(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Nt;const{animation:r}=n;C1(r,e)}return Nt}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:h,element:p,...y}=this.options,E=new Qg({...y,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),b=ir(this.time);u.setWithVelocity(E.sample(b-Ed).value,E.sample(b).value,Ed)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;return Vk()&&r&&Rk.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const Bk=Yg(()=>window.ScrollTimeline!==void 0);class zk{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>Bk()&&i.attachTimeline?i.attachTimeline(e):n(i));return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function $k({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...d}){return!!Object.keys(d).length}const Xg=(t,e,n,r={},i,s)=>o=>{const a=Og(r,t)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-ir(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};$k(a)||(d={...d,...oN(t,d)}),d.duration&&(d.duration=ir(d.duration)),d.repeatDelay&&(d.repeatDelay=ir(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!s&&e.get()!==void 0){const p=ph(d.keyframes,a);if(p!==void 0)return Me.update(()=>{d.onUpdate(p),d.onComplete()}),new zk([])}return!s&&P1.supports(d)?new P1(d):new Qg(d)},Hk=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Wk=t=>Km(t)?t[t.length-1]||0:t;function Jg(t,e){t.indexOf(e)===-1&&t.push(e)}function Zg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class e0{constructor(){this.subscriptions=[]}add(e){return Jg(this.subscriptions,e),()=>Zg(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const A1=30,qk=t=>!isNaN(parseFloat(t));class Kk{constructor(e,n={}){this.version="11.11.10",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=or.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=or.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=qk(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new e0);const r=this.events[e].add(n);return e==="change"?()=>{r(),Me.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=or.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>A1)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,A1);return Xx(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Hl(t,e){return new Kk(t,e)}function Gk(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Hl(n))}function Qk(t,e){const n=mh(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=Wk(s[o]);Gk(t,o,a)}}const t0=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Yk="framerAppearId",o2="data-"+t0(Yk);function a2(t){return t.props[o2]}const $t=t=>!!(t&&t.getVelocity);function Xk(t){return!!($t(t)&&t.add)}function tp(t,e){const n=t.getValue("willChange");if(Xk(n))return n.add(e)}function Jk({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function l2(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const u=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const h in l){const p=t.getValue(h,(s=t.latestValues[h])!==null&&s!==void 0?s:null),y=l[h];if(y===void 0||d&&Jk(d,h))continue;const E={delay:n,...Og(o||{},h)};let b=!1;if(window.MotionHandoffAnimation){const T=a2(t);if(T){const _=window.MotionHandoffAnimation(T,h,Me);_!==null&&(E.startTime=_,b=!0)}}tp(t,h),p.start(Xg(h,p,y,t.shouldReduceMotion&&Vs.has(h)?{type:!1}:E,t,b));const R=p.animation;R&&u.push(R)}return a&&Promise.all(u).then(()=>{Me.update(()=>{a&&Qk(t,a)})}),u}function np(t,e,n={}){var r;const i=mh(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(l2(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:p}=s;return Zk(t,e,d+u,h,p,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,d]=l==="beforeChildren"?[o,a]:[a,o];return u().then(()=>d())}else return Promise.all([o(),a(n.delay)])}function Zk(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(e5).forEach((u,d)=>{u.notify("AnimationStart",e),o.push(np(u,e,{...s,delay:n+l(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function e5(t,e){return t.sortNodePosition(e)}function t5(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>np(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=np(t,e,n);else{const i=typeof e=="function"?mh(t,e,n.custom):e;r=Promise.all(l2(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const n5=Vg.length;function c2(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?c2(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<n5;n++){const r=Vg[n],i=t.props[r];(Bl(i)||i===!1)&&(e[r]=i)}return e}const r5=[...Mg].reverse(),i5=Mg.length;function s5(t){return e=>Promise.all(e.map(({animation:n,options:r})=>t5(t,n,r)))}function o5(t){let e=s5(t),n=R1(),r=!0;const i=l=>(u,d)=>{var h;const p=mh(t,d,l==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(p){const{transition:y,transitionEnd:E,...b}=p;u={...u,...b,...E}}return u};function s(l){e=l(t)}function o(l){const{props:u}=t,d=c2(t.parent)||{},h=[],p=new Set;let y={},E=1/0;for(let R=0;R<i5;R++){const T=r5[R],_=n[T],I=u[T]!==void 0?u[T]:d[T],L=Bl(I),j=T===l?_.isActive:null;j===!1&&(E=R);let k=I===d[T]&&I!==u[T]&&L;if(k&&r&&t.manuallyAnimateOnMount&&(k=!1),_.protectedKeys={...y},!_.isActive&&j===null||!I&&!_.prevProp||fh(I)||typeof I=="boolean")continue;const P=a5(_.prevProp,I);let w=P||T===l&&_.isActive&&!k&&L||R>E&&L,x=!1;const A=Array.isArray(I)?I:[I];let D=A.reduce(i(T),{});j===!1&&(D={});const{prevResolvedValues:V={}}=_,N={...V,...D},le=re=>{w=!0,p.has(re)&&(x=!0,p.delete(re)),_.needsAnimating[re]=!0;const W=t.getValue(re);W&&(W.liveStyle=!1)};for(const re in N){const W=D[re],ie=V[re];if(y.hasOwnProperty(re))continue;let ce=!1;Km(W)&&Km(ie)?ce=!xx(W,ie):ce=W!==ie,ce?W!=null?le(re):p.add(re):W!==void 0&&p.has(re)?le(re):_.protectedKeys[re]=!0}_.prevProp=I,_.prevResolvedValues=D,_.isActive&&(y={...y,...D}),r&&t.blockInitialAnimation&&(w=!1),w&&(!(k&&P)||x)&&h.push(...A.map(re=>({animation:re,options:{type:T}})))}if(p.size){const R={};p.forEach(T=>{const _=t.getBaseTarget(T),I=t.getValue(T);I&&(I.liveStyle=!0),R[T]=_??null}),h.push({animation:R})}let b=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(b=!1),r=!1,b?e(h):Promise.resolve()}function a(l,u){var d;if(n[l].isActive===u)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(p=>{var y;return(y=p.animationState)===null||y===void 0?void 0:y.setActive(l,u)}),n[l].isActive=u;const h=o(l);for(const p in n)n[p].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=R1(),r=!0}}}function a5(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!xx(e,t):!1}function os(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function R1(){return{animate:os(!0),whileInView:os(),whileHover:os(),whileTap:os(),whileDrag:os(),whileFocus:os(),exit:os()}}class Ki{constructor(e){this.isMounted=!1,this.node=e}update(){}}class l5 extends Ki{constructor(e){super(e),e.animationState||(e.animationState=o5(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();fh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let c5=0;class u5 extends Ki{constructor(){super(...arguments),this.id=c5++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const d5={animation:{Feature:l5},exit:{Feature:u5}},u2=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function gh(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const h5=t=>e=>u2(e)&&t(e,gh(e));function br(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function kr(t,e,n,r){return br(t,e,h5(n),r)}const N1=(t,e)=>Math.abs(t-e);function f5(t,e){const n=N1(t.x,e.x),r=N1(t.y,e.y);return Math.sqrt(n**2+r**2)}class d2{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=kf(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,y=f5(h.offset,{x:0,y:0})>=3;if(!p&&!y)return;const{point:E}=h,{timestamp:b}=It;this.history.push({...E,timestamp:b});const{onStart:R,onMove:T}=this.handlers;p||(R&&R(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Nf(p,this.transformPagePoint),Me.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:y,onSessionEnd:E,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=kf(h.type==="pointercancel"?this.lastMoveEventInfo:Nf(p,this.transformPagePoint),this.history);this.startEvent&&y&&y(h,R),E&&E(h,R)},!u2(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=gh(e),a=Nf(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=It;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,kf(a,this.history)),this.removeListeners=Nr(kr(this.contextWindow,"pointermove",this.handlePointerMove),kr(this.contextWindow,"pointerup",this.handlePointerUp),kr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Vi(this.updatePoint)}}function Nf(t,e){return e?{point:e(t.point)}:t}function k1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function kf({point:t},e){return{point:t,delta:k1(t,h2(e)),offset:k1(t,m5(e)),velocity:p5(e,.1)}}function m5(t){return t[0]}function h2(t){return t[t.length-1]}function p5(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=h2(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>ir(e)));)n--;if(!r)return{x:0,y:0};const s=Rr(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function f2(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const D1=f2("dragHorizontal"),L1=f2("dragVertical");function m2(t){let e=!1;if(t==="y")e=L1();else if(t==="x")e=D1();else{const n=D1(),r=L1();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function p2(){const t=m2(!0);return t?(t(),!1):!0}function wo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const g2=1e-4,g5=1-g2,y5=1+g2,y2=.01,v5=0-y2,w5=0+y2;function yn(t){return t.max-t.min}function _5(t,e,n){return Math.abs(t-e)<=n}function M1(t,e,n,r=.5){t.origin=r,t.originPoint=Je(e.min,e.max,t.origin),t.scale=yn(n)/yn(e),t.translate=Je(n.min,n.max,t.origin)-t.originPoint,(t.scale>=g5&&t.scale<=y5||isNaN(t.scale))&&(t.scale=1),(t.translate>=v5&&t.translate<=w5||isNaN(t.translate))&&(t.translate=0)}function pl(t,e,n,r){M1(t.x,e.x,n.x,r?r.originX:void 0),M1(t.y,e.y,n.y,r?r.originY:void 0)}function V1(t,e,n){t.min=n.min+e.min,t.max=t.min+yn(e)}function E5(t,e,n){V1(t.x,e.x,n.x),V1(t.y,e.y,n.y)}function O1(t,e,n){t.min=e.min-n.min,t.max=t.min+yn(e)}function gl(t,e,n){O1(t.x,e.x,n.x),O1(t.y,e.y,n.y)}function T5(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Je(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Je(n,t,r.max):Math.min(t,n)),t}function F1(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function x5(t,{top:e,left:n,bottom:r,right:i}){return{x:F1(t.x,n,i),y:F1(t.y,e,r)}}function U1(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function b5(t,e){return{x:U1(t.x,e.x),y:U1(t.y,e.y)}}function S5(t,e){let n=.5;const r=yn(t),i=yn(e);return i>r?n=qo(e.min,e.max-r,t.min):r>i&&(n=qo(t.min,t.max-i,e.min)),Oi(0,1,n)}function I5(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const rp=.35;function C5(t=rp){return t===!1?t=0:t===!0&&(t=rp),{x:j1(t,"left","right"),y:j1(t,"top","bottom")}}function j1(t,e,n){return{min:B1(t,e),max:B1(t,n)}}function B1(t,e){return typeof t=="number"?t:t[e]||0}const z1=()=>({translate:0,scale:1,origin:0,originPoint:0}),_o=()=>({x:z1(),y:z1()}),$1=()=>({min:0,max:0}),st=()=>({x:$1(),y:$1()});function bn(t){return[t("x"),t("y")]}function v2({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function P5({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function A5(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Df(t){return t===void 0||t===1}function ip({scale:t,scaleX:e,scaleY:n}){return!Df(t)||!Df(e)||!Df(n)}function cs(t){return ip(t)||w2(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function w2(t){return H1(t.x)||H1(t.y)}function H1(t){return t&&t!=="0%"}function Td(t,e,n){const r=t-n,i=e*r;return n+i}function W1(t,e,n,r,i){return i!==void 0&&(t=Td(t,i,r)),Td(t,n,r)+e}function sp(t,e=0,n=1,r,i){t.min=W1(t.min,e,n,r,i),t.max=W1(t.max,e,n,r,i)}function _2(t,{x:e,y:n}){sp(t.x,e.translate,e.scale,e.originPoint),sp(t.y,n.translate,n.scale,n.originPoint)}const q1=.999999999999,K1=1.0000000000001;function R5(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&To(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,_2(t,o)),r&&cs(s.latestValues)&&To(t,s.latestValues))}e.x<K1&&e.x>q1&&(e.x=1),e.y<K1&&e.y>q1&&(e.y=1)}function Eo(t,e){t.min=t.min+e,t.max=t.max+e}function G1(t,e,n,r,i=.5){const s=Je(t.min,t.max,i);sp(t,e,n,s,r)}function To(t,e){G1(t.x,e.x,e.scaleX,e.scale,e.originX),G1(t.y,e.y,e.scaleY,e.scale,e.originY)}function E2(t,e){return v2(A5(t.getBoundingClientRect(),e))}function N5(t,e,n){const r=E2(t,n),{scroll:i}=e;return i&&(Eo(r.x,i.offset.x),Eo(r.y,i.offset.y)),r}const T2=({current:t})=>t?t.ownerDocument.defaultView:null,k5=new WeakMap;class D5{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=st(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(gh(d,"page").point)},s=(d,h)=>{const{drag:p,dragPropagation:y,onDragStart:E}=this.getProps();if(p&&!y&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=m2(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),bn(R=>{let T=this.getAxisMotionValue(R).get()||0;if(sr.test(T)){const{projection:_}=this.visualElement;if(_&&_.layout){const I=_.layout.layoutBox[R];I&&(T=yn(I)*(parseFloat(T)/100))}}this.originPoint[R]=T}),E&&Me.postRender(()=>E(d,h)),tp(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:p,dragDirectionLock:y,onDirectionLock:E,onDrag:b}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:R}=h;if(y&&this.currentDirection===null){this.currentDirection=L5(R),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",h.point,R),this.updateAxis("y",h.point,R),this.visualElement.render(),b&&b(d,h)},a=(d,h)=>this.stop(d,h),l=()=>bn(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new d2(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:T2(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Me.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!cu(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=T5(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&wo(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=x5(i.layoutBox,n):this.constraints=!1,this.elastic=C5(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&bn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=I5(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!wo(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=N5(r,i.root,this.visualElement.getTransformPagePoint());let o=b5(i.layout.layoutBox,s);if(n){const a=n(P5(o));this.hasMutatedConstraints=!!a,a&&(o=v2(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=bn(d=>{if(!cu(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const p=i?200:1e6,y=i?40:1e7,E={type:"inertia",velocity:r?e[d]:0,bounceStiffness:p,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,E)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return tp(this.visualElement,e),r.start(Xg(e,r,0,n,this.visualElement,!1))}stopAnimation(){bn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){bn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){bn(n=>{const{drag:r}=this.getProps();if(!cu(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Je(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!wo(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};bn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=S5({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),bn(o=>{if(!cu(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(Je(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;k5.set(this.visualElement,this);const e=this.visualElement.current,n=kr(e,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();wo(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Me.read(r);const o=br(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(bn(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=rp,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function cu(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function L5(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class M5 extends Ki{constructor(e){super(e),this.removeGroupControls=Nt,this.removeListeners=Nt,this.controls=new D5(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Nt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Q1=t=>(e,n)=>{t&&Me.postRender(()=>t(e,n))};class V5 extends Ki{constructor(){super(...arguments),this.removePointerDownListener=Nt}onPointerDown(e){this.session=new d2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:T2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Q1(e),onStart:Q1(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Me.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=kr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const yh=v.createContext(null);function O5(){const t=v.useContext(yh);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=v.useId();v.useEffect(()=>r(i),[]);const s=v.useCallback(()=>n&&n(i),[i,n]);return!e&&n?[!1,s]:[!0]}const n0=v.createContext({}),x2=v.createContext({}),Nu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Y1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const za={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ue.test(t))t=parseFloat(t);else return t;const n=Y1(t,e.target.x),r=Y1(t,e.target.y);return`${n}% ${r}%`}},F5={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Fi.parse(t);if(i.length>5)return r;const s=Fi.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=Je(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}},xd={};function U5(t){Object.assign(xd,t)}const{schedule:r0,cancel:KF}=bx(queueMicrotask,!1);class j5 extends v.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;U5(B5),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Nu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Me.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),r0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function b2(t){const[e,n]=O5(),r=v.useContext(n0);return f(j5,{...t,layoutGroup:r,switchLayoutGroup:v.useContext(x2),isPresent:e,safeToRemove:n})}const B5={borderRadius:{...za,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:za,borderTopRightRadius:za,borderBottomLeftRadius:za,borderBottomRightRadius:za,boxShadow:F5},S2=["TopLeft","TopRight","BottomLeft","BottomRight"],z5=S2.length,X1=t=>typeof t=="string"?parseFloat(t):t,J1=t=>typeof t=="number"||ue.test(t);function $5(t,e,n,r,i,s){i?(t.opacity=Je(0,n.opacity!==void 0?n.opacity:1,H5(r)),t.opacityExit=Je(e.opacity!==void 0?e.opacity:1,0,W5(r))):s&&(t.opacity=Je(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<z5;o++){const a=`border${S2[o]}Radius`;let l=Z1(e,a),u=Z1(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||J1(l)===J1(u)?(t[a]=Math.max(Je(X1(l),X1(u),r),0),(sr.test(u)||sr.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=Je(e.rotate||0,n.rotate||0,r))}function Z1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const H5=I2(0,.5,Nx),W5=I2(.5,.95,Nt);function I2(t,e,n){return r=>r<t?0:r>e?1:n(qo(t,e,r))}function ew(t,e){t.min=e.min,t.max=e.max}function xn(t,e){ew(t.x,e.x),ew(t.y,e.y)}function tw(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function nw(t,e,n,r,i){return t-=e,t=Td(t,1/n,r),i!==void 0&&(t=Td(t,1/i,r)),t}function q5(t,e=0,n=1,r=.5,i,s=t,o=t){if(sr.test(e)&&(e=parseFloat(e),e=Je(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Je(s.min,s.max,r);t===s&&(a-=e),t.min=nw(t.min,e,n,a,i),t.max=nw(t.max,e,n,a,i)}function rw(t,e,[n,r,i],s,o){q5(t,e[n],e[r],e[i],e.scale,s,o)}const K5=["x","scaleX","originX"],G5=["y","scaleY","originY"];function iw(t,e,n,r){rw(t.x,e,K5,n?n.x:void 0,r?r.x:void 0),rw(t.y,e,G5,n?n.y:void 0,r?r.y:void 0)}function sw(t){return t.translate===0&&t.scale===1}function C2(t){return sw(t.x)&&sw(t.y)}function ow(t,e){return t.min===e.min&&t.max===e.max}function Q5(t,e){return ow(t.x,e.x)&&ow(t.y,e.y)}function aw(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function P2(t,e){return aw(t.x,e.x)&&aw(t.y,e.y)}function lw(t){return yn(t.x)/yn(t.y)}function cw(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Y5{constructor(){this.members=[]}add(e){Jg(this.members,e),e.scheduleRender()}remove(e){if(Zg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function X5(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:p,skewX:y,skewY:E}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),p&&(r+=`rotateY(${p}deg) `),y&&(r+=`skewX(${y}deg) `),E&&(r+=`skewY(${E}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const J5=(t,e)=>t.depth-e.depth;class Z5{constructor(){this.children=[],this.isDirty=!1}add(e){Jg(this.children,e),this.isDirty=!0}remove(e){Zg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(J5),this.isDirty=!1,this.children.forEach(e)}}function ku(t){const e=$t(t)?t.get():t;return Hk(e)?e.toValue():e}function e4(t,e){const n=or.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Vi(r),t(s-e))};return Me.read(r,!0),()=>Vi(r)}function t4(t){return t instanceof SVGElement&&t.tagName!=="svg"}function n4(t,e,n){const r=$t(t)?t:Hl(t);return r.start(Xg("",r,e,n)),r.animation}const us={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Ja=typeof window<"u"&&window.MotionDebug!==void 0,Lf=["","X","Y","Z"],r4={visibility:"hidden"},uw=1e3;let i4=0;function Mf(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function A2(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=a2(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Me,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&A2(r)}function R2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=i4++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ja&&(us.totalNodes=us.resolvedTargetDeltas=us.recalculatedProjection=0),this.nodes.forEach(a4),this.nodes.forEach(h4),this.nodes.forEach(f4),this.nodes.forEach(l4),Ja&&window.MotionDebug.record(us)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Z5)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new e0),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=t4(o),this.instance=o;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let h;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=e4(p,250),Nu.hasAnimatedSinceResize&&(Nu.hasAnimatedSinceResize=!1,this.nodes.forEach(hw))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeTargetChanged:y,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||d.getDefaultTransition()||v4,{onLayoutAnimationStart:R,onLayoutAnimationComplete:T}=d.getProps(),_=!this.targetLayout||!P2(this.targetLayout,E)||y,I=!p&&y;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||I||p&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,I);const L={...Og(b,"layout"),onPlay:R,onComplete:T};(d.shouldReduceMotion||this.options.layoutRoot)&&(L.delay=0,L.type=!1),this.startAnimation(L)}else p||hw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Vi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(m4),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&A2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(dw);return}this.isUpdating||this.nodes.forEach(u4),this.isUpdating=!1,this.nodes.forEach(d4),this.nodes.forEach(s4),this.nodes.forEach(o4),this.clearAllSnapshots();const a=or.now();It.delta=Oi(0,1e3/60,a-It.timestamp),It.timestamp=a,It.isProcessing=!0,If.update.process(It),If.preRender.process(It),If.render.process(It),It.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,r0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(c4),this.sharedNodes.forEach(p4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Me.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Me.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=st(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!C2(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(a||cs(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),w4(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return st();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(_4))){const{scroll:d}=this.root;d&&(Eo(l.x,d.offset.x),Eo(l.y,d.offset.y))}return l}removeElementScroll(o){var a;const l=st();if(xn(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:p}=d;d!==this.root&&h&&p.layoutScroll&&(h.wasRoot&&xn(l,o),Eo(l.x,h.offset.x),Eo(l.y,h.offset.y))}return l}applyTransform(o,a=!1){const l=st();xn(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&To(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),cs(d.latestValues)&&To(l,d.latestValues)}return cs(this.latestValues)&&To(l,this.latestValues),l}removeTransform(o){const a=st();xn(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!cs(u.latestValues))continue;ip(u.latestValues)&&u.updateSnapshot();const d=st(),h=u.measurePageBox();xn(d,h),iw(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return cs(this.latestValues)&&iw(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==It.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=It.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=st(),this.relativeTargetOrigin=st(),gl(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),xn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=st(),this.targetWithTransforms=st()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),E5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):xn(this.target,this.layout.layoutBox),_2(this.target,this.targetDelta)):xn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=st(),this.relativeTargetOrigin=st(),gl(this.relativeTargetOrigin,this.target,y.target),xn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ja&&us.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||ip(this.parent.latestValues)||w2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===It.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;xn(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,y=this.treeScale.y;R5(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=st());const{target:E}=a;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(tw(this.prevProjectionDelta.x,this.projectionDelta.x),tw(this.prevProjectionDelta.y,this.projectionDelta.y)),pl(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==y||!cw(this.projectionDelta.x,this.prevProjectionDelta.x)||!cw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E)),Ja&&us.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=_o(),this.projectionDelta=_o(),this.projectionDeltaWithTransform=_o()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},h=_o();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=st(),y=l?l.source:void 0,E=this.layout?this.layout.source:void 0,b=y!==E,R=this.getStack(),T=!R||R.members.length<=1,_=!!(b&&!T&&this.options.crossfade===!0&&!this.path.some(y4));this.animationProgress=0;let I;this.mixTargetDelta=L=>{const j=L/1e3;fw(h.x,o.x,j),fw(h.y,o.y,j),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(gl(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),g4(this.relativeTarget,this.relativeTargetOrigin,p,j),I&&Q5(this.relativeTarget,I)&&(this.isProjectionDirty=!1),I||(I=st()),xn(I,this.relativeTarget)),b&&(this.animationValues=d,$5(d,u,this.latestValues,j,_,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Vi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Me.update(()=>{Nu.hasAnimatedSinceResize=!0,this.currentAnimation=n4(0,uw,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(uw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:d}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&N2(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||st();const h=yn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const p=yn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}xn(a,l),To(a,d),pl(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Y5),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&Mf("z",o,u,this.animationValues);for(let d=0;d<Lf.length;d++)Mf(`rotate${Lf[d]}`,o,u,this.animationValues),Mf(`skew${Lf[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return r4;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=ku(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=ku(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!cs(this.latestValues)&&(b.transform=d?d({},""):"none",this.hasProjected=!1),b}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=X5(this.projectionDeltaWithTransform,this.treeScale,p),d&&(u.transform=d(p,u.transform));const{x:y,y:E}=this.projectionDelta;u.transformOrigin=`${y.origin*100}% ${E.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const b in xd){if(p[b]===void 0)continue;const{correct:R,applyTo:T}=xd[b],_=u.transform==="none"?p[b]:R(p[b],h);if(T){const I=T.length;for(let L=0;L<I;L++)u[T[L]]=_}else u[b]=_}return this.options.layoutId&&(u.pointerEvents=h===this?ku(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(dw),this.root.sharedNodes.clear()}}}function s4(t){t.updateLayout()}function o4(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?bn(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],y=yn(p);p.min=r[h].min,p.max=p.min+y}):N2(s,n.layoutBox,r)&&bn(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],y=yn(r[h]);p.max=p.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+y)});const a=_o();pl(a,r,n.layoutBox);const l=_o();o?pl(l,t.applyTransform(i,!0),n.measuredBox):pl(l,r,n.layoutBox);const u=!C2(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:y}=h;if(p&&y){const E=st();gl(E,n.layoutBox,p.layoutBox);const b=st();gl(b,r,y.layoutBox),P2(E,b)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=E,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function a4(t){Ja&&us.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function l4(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function c4(t){t.clearSnapshot()}function dw(t){t.clearMeasurements()}function u4(t){t.isLayoutDirty=!1}function d4(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function hw(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function h4(t){t.resolveTargetDelta()}function f4(t){t.calcProjection()}function m4(t){t.resetSkewAndRotation()}function p4(t){t.removeLeadSnapshot()}function fw(t,e,n){t.translate=Je(e.translate,0,n),t.scale=Je(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function mw(t,e,n,r){t.min=Je(e.min,n.min,r),t.max=Je(e.max,n.max,r)}function g4(t,e,n,r){mw(t.x,e.x,n.x,r),mw(t.y,e.y,n.y,r)}function y4(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const v4={duration:.45,ease:[.4,0,.1,1]},pw=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),gw=pw("applewebkit/")&&!pw("chrome/")?Math.round:Nt;function yw(t){t.min=gw(t.min),t.max=gw(t.max)}function w4(t){yw(t.x),yw(t.y)}function N2(t,e,n){return t==="position"||t==="preserve-aspect"&&!_5(lw(e),lw(n),.2)}function _4(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const E4=R2({attachResizeListener:(t,e)=>br(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Vf={current:void 0},k2=R2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Vf.current){const t=new E4({});t.mount(window),t.setOptions({layoutScroll:!0}),Vf.current=t}return Vf.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),T4={pan:{Feature:V5},drag:{Feature:M5,ProjectionNode:k2,MeasureLayout:b2}};function vw(t,e){const n=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd",i=(s,o)=>{if(s.pointerType==="touch"||p2())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e);const l=a[r];l&&Me.postRender(()=>l(s,o))};return kr(t.current,n,i,{passive:!t.getProps()[r]})}class x4 extends Ki{mount(){this.unmount=Nr(vw(this.node,!0),vw(this.node,!1))}unmount(){}}class b4 extends Ki{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Nr(br(this.node.current,"focus",()=>this.onFocus()),br(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const D2=(t,e)=>e?t===e?!0:D2(t,e.parentElement):!1;function Of(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,gh(n))}class S4 extends Ki{constructor(){super(...arguments),this.removeStartListeners=Nt,this.removeEndListeners=Nt,this.removeAccessibleListeners=Nt,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=kr(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:h}=this.node.getProps(),p=!h&&!D2(this.node.current,a.target)?d:u;p&&Me.update(()=>p(a,l))},{passive:!(r.onTap||r.onPointerUp)}),o=kr(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Nr(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Of("up",(l,u)=>{const{onTap:d}=this.node.getProps();d&&Me.postRender(()=>d(l,u))})};this.removeEndListeners(),this.removeEndListeners=br(this.node.current,"keyup",o),Of("down",(a,l)=>{this.startPress(a,l)})},n=br(this.node.current,"keydown",e),r=()=>{this.isPressing&&Of("cancel",(s,o)=>this.cancelPress(s,o))},i=br(this.node.current,"blur",r);this.removeAccessibleListeners=Nr(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Me.postRender(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!p2()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Me.postRender(()=>r(e,n))}mount(){const e=this.node.getProps(),n=kr(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=br(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Nr(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const op=new WeakMap,Ff=new WeakMap,I4=t=>{const e=op.get(t.target);e&&e(t)},C4=t=>{t.forEach(I4)};function P4({root:t,...e}){const n=t||document;Ff.has(n)||Ff.set(n,{});const r=Ff.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(C4,{root:t,...e})),r[i]}function A4(t,e,n){const r=P4(e);return op.set(t,n),r.observe(t),()=>{op.delete(t),r.unobserve(t)}}const R4={some:0,all:1};class N4 extends Ki{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:R4[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),p=u?d:h;p&&p(l)};return A4(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(k4(e,n))&&this.startObserver()}unmount(){}}function k4({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const D4={inView:{Feature:N4},tap:{Feature:S4},focus:{Feature:b4},hover:{Feature:x4}},L4={layout:{ProjectionNode:k2,MeasureLayout:b2}},i0=v.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),vh=v.createContext({}),s0=typeof window<"u",L2=s0?v.useLayoutEffect:v.useEffect,M2=v.createContext({strict:!1});function M4(t,e,n,r,i){var s,o;const{visualElement:a}=v.useContext(vh),l=v.useContext(M2),u=v.useContext(yh),d=v.useContext(i0).reducedMotion,h=v.useRef();r=r||l.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const p=h.current,y=v.useContext(x2);p&&!p.projection&&i&&(p.type==="html"||p.type==="svg")&&V4(h.current,n,i,y),v.useInsertionEffect(()=>{p&&p.update(n,u)});const E=n[o2],b=v.useRef(!!E&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,E))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,E)));return L2(()=>{p&&(window.MotionIsMounted=!0,p.updateFeatures(),r0.render(p.render),b.current&&p.animationState&&p.animationState.animateChanges())}),v.useEffect(()=>{p&&(!b.current&&p.animationState&&p.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var R;(R=window.MotionHandoffMarkAsComplete)===null||R===void 0||R.call(window,E)}),b.current=!1))}),p}function V4(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:V2(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&wo(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function V2(t){if(t)return t.options.allowProjection!==!1?t.projection:V2(t.parent)}function O4(t,e,n){return v.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):wo(n)&&(n.current=r))},[e])}function wh(t){return fh(t.animate)||Vg.some(e=>Bl(t[e]))}function O2(t){return!!(wh(t)||t.variants)}function F4(t,e){if(wh(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Bl(n)?n:void 0,animate:Bl(r)?r:void 0}}return t.inherit!==!1?e:{}}function U4(t){const{initial:e,animate:n}=F4(t,v.useContext(vh));return v.useMemo(()=>({initial:e,animate:n}),[ww(e),ww(n)])}function ww(t){return Array.isArray(t)?t.join(" "):t}const _w={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ko={};for(const t in _w)Ko[t]={isEnabled:e=>_w[t].some(n=>!!e[n])};function j4(t){for(const e in t)Ko[e]={...Ko[e],...t[e]}}const B4=Symbol.for("motionComponentSymbol");function z4({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&j4(t);function s(a,l){let u;const d={...v.useContext(i0),...a,layoutId:$4(a)},{isStatic:h}=d,p=U4(a),y=r(a,h);if(!h&&s0){H4();const E=W4(d);u=E.MeasureLayout,p.visualElement=M4(i,y,d,e,E.ProjectionNode)}return C(vh.Provider,{value:p,children:[u&&p.visualElement?f(u,{visualElement:p.visualElement,...d}):null,n(i,a,O4(y,p.visualElement,l),y,h,p.visualElement)]})}const o=v.forwardRef(s);return o[B4]=i,o}function $4({layoutId:t}){const e=v.useContext(n0).id;return e&&t!==void 0?e+"-"+t:t}function H4(t,e){v.useContext(M2).strict}function W4(t){const{drag:e,layout:n}=Ko;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const q4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function o0(t){return typeof t!="string"||t.includes("-")?!1:!!(q4.indexOf(t)>-1||/[A-Z]/u.test(t))}function F2(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const U2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function j2(t,e,n,r){F2(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(U2.has(i)?i:t0(i),e.attrs[i])}function B2(t,{layout:e,layoutId:n}){return Vs.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!xd[t]||t==="opacity")}function a0(t,e,n){var r;const{style:i}=t,s={};for(const o in i)($t(i[o])||e.style&&$t(e.style[o])||B2(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function z2(t,e,n){const r=a0(t,e,n);for(const i in t)if($t(t[i])||$t(e[i])){const s=ac.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function l0(t){const e=v.useRef(null);return e.current===null&&(e.current=t()),e.current}function K4({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:G4(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const $2=t=>(e,n)=>{const r=v.useContext(vh),i=v.useContext(yh),s=()=>K4(t,e,r,i);return n?s():l0(s)};function G4(t,e,n,r){const i={},s=r(t,{});for(const p in s)i[p]=ku(s[p]);let{initial:o,animate:a}=t;const l=wh(t),u=O2(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!fh(h)){const p=Array.isArray(h)?h:[h];for(let y=0;y<p.length;y++){const E=Lg(t,p[y]);if(E){const{transitionEnd:b,transition:R,...T}=E;for(const _ in T){let I=T[_];if(Array.isArray(I)){const L=d?I.length-1:0;I=I[L]}I!==null&&(i[_]=I)}for(const _ in b)i[_]=b[_]}}}return i}const c0=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),H2=()=>({...c0(),attrs:{}}),W2=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Q4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Y4=ac.length;function X4(t,e,n){let r="",i=!0;for(let s=0;s<Y4;s++){const o=ac[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=W2(a,Hg[o]);if(!l){i=!1;const d=Q4[o]||o;r+=`${d}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function u0(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const u=e[l];if(Vs.has(l)){o=!0;continue}else if(Ox(l)){i[l]=u;continue}else{const d=W2(u,Hg[l]);l.startsWith("origin")?(a=!0,s[l]=d):r[l]=d}}if(e.transform||(o||n?r.transform=X4(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:d=0}=s;r.transformOrigin=`${l} ${u} ${d}`}}function Ew(t,e,n){return typeof t=="string"?t:ue.transform(e+n*t)}function J4(t,e,n){const r=Ew(e,t.x,t.width),i=Ew(n,t.y,t.height);return`${r} ${i}`}const Z4={offset:"stroke-dashoffset",array:"stroke-dasharray"},eD={offset:"strokeDashoffset",array:"strokeDasharray"};function tD(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?Z4:eD;t[s.offset]=ue.transform(-r);const o=ue.transform(e),a=ue.transform(n);t[s.array]=`${o} ${a}`}function d0(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},d,h){if(u0(t,u,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:y,dimensions:E}=t;p.transform&&(E&&(y.transform=p.transform),delete p.transform),E&&(i!==void 0||s!==void 0||y.transform)&&(y.transformOrigin=J4(E,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&tD(p,o,a,l,!1)}const h0=t=>typeof t=="string"&&t.toLowerCase()==="svg",nD={useVisualState:$2({scrapeMotionValuesFromProps:z2,createRenderState:H2,onMount:(t,e,{renderState:n,latestValues:r})=>{Me.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Me.render(()=>{d0(n,r,h0(e.tagName),t.transformTemplate),j2(e,n)})}})},rD={useVisualState:$2({scrapeMotionValuesFromProps:a0,createRenderState:c0})};function q2(t,e,n){for(const r in e)!$t(e[r])&&!B2(r,n)&&(t[r]=e[r])}function iD({transformTemplate:t},e){return v.useMemo(()=>{const n=c0();return u0(n,e,t),Object.assign({},n.vars,n.style)},[e])}function sD(t,e){const n=t.style||{},r={};return q2(r,n,t),Object.assign(r,iD(t,e)),r}function oD(t,e){const n={},r=sD(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const aD=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function bd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||aD.has(t)}let K2=t=>!bd(t);function lD(t){t&&(K2=e=>e.startsWith("on")?!bd(e):t(e))}try{lD(require("@emotion/is-prop-valid").default)}catch{}function cD(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(K2(i)||n===!0&&bd(i)||!e&&!bd(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function uD(t,e,n,r){const i=v.useMemo(()=>{const s=H2();return d0(s,e,h0(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};q2(s,t.style,t),i.style={...s,...i.style}}return i}function dD(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(o0(n)?uD:oD)(r,s,o,n),u=cD(r,typeof n=="string",t),d=n!==v.Fragment?{...u,...l,ref:i}:{},{children:h}=r,p=v.useMemo(()=>$t(h)?h.get():h,[h]);return v.createElement(n,{...d,children:p})}}function hD(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...o0(r)?nD:rD,preloadedFeatures:t,useRender:dD(i),createVisualElement:e,Component:r};return z4(o)}}const ap={current:null},G2={current:!1};function fD(){if(G2.current=!0,!!s0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>ap.current=t.matches;t.addListener(e),e()}else ap.current=!1}function mD(t,e,n){for(const r in e){const i=e[r],s=n[r];if($t(i))t.addValue(r,i);else if($t(s))t.addValue(r,Hl(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Hl(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Tw=new WeakMap,pD=[...jx,Ut,Fi],gD=t=>pD.find(Ux(t)),xw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class yD{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Bg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=or.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Me.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=wh(n),this.isVariantNode=O2(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in h){const y=h[p];l[p]!==void 0&&$t(y)&&y.set(l[p],!1)}}mount(e){this.current=e,Tw.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),G2.current||fD(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ap.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Tw.delete(this.current),this.projection&&this.projection.unmount(),Vi(this.notifyUpdate),Vi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Vs.has(e),i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Me.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ko){const n=Ko[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):st()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<xw.length;r++){const i=xw[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=mD(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Hl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(Mx(i)||Dx(i))?i=parseFloat(i):!gD(i)&&Fi.test(n)&&(i=Gx(e,n)),this.setBaseTarget(e,$t(i)?i.get():i)),$t(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=Lg(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!$t(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new e0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Q2 extends yD{constructor(){super(...arguments),this.KeyframeResolver=Qx}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}}function vD(t){return window.getComputedStyle(t)}class wD extends Q2{constructor(){super(...arguments),this.type="html",this.renderInstance=F2}readValueFromInstance(e,n){if(Vs.has(n)){const r=Wg(n);return r&&r.default||0}else{const r=vD(e),i=(Ox(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return E2(e,n)}build(e,n,r){u0(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return a0(e,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;$t(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class _D extends Q2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=st}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Vs.has(n)){const r=Wg(n);return r&&r.default||0}return n=U2.has(n)?n:t0(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return z2(e,n,r)}build(e,n,r){d0(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){j2(e,n,r,i)}mount(e){this.isSVGTag=h0(e.tagName),super.mount(e)}}const ED=(t,e)=>o0(t)?new _D(e):new wD(e,{allowProjection:t!==v.Fragment}),TD=hD({...d5,...D4,...T4,...L4},ED),oe=tN(TD);class xD extends v.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function bD({children:t,isPresent:e}){const n=v.useId(),r=v.useRef(null),i=v.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=v.useContext(i0);return v.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:u}=i.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return s&&(d.nonce=s),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),f(xD,{isPresent:e,childRef:r,sizeRef:i,children:v.cloneElement(t,{ref:r})})}const SD=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=l0(ID),l=v.useId(),u=v.useCallback(h=>{a.set(h,!0);for(const p of a.values())if(!p)return;r&&r()},[a,r]),d=v.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:u,register:h=>(a.set(h,!1),()=>a.delete(h))}),s?[Math.random(),u]:[n,u]);return v.useMemo(()=>{a.forEach((h,p)=>a.set(p,!1))},[n]),v.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=f(bD,{isPresent:n,children:t})),f(yh.Provider,{value:d,children:t})};function ID(){return new Map}const uu=t=>t.key||"";function bw(t){const e=[];return v.Children.forEach(t,n=>{v.isValidElement(n)&&e.push(n)}),e}const uc=({children:t,exitBeforeEnter:e,custom:n,initial:r=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=v.useMemo(()=>bw(t),[t]),l=a.map(uu),u=v.useRef(!0),d=v.useRef(a),h=l0(()=>new Map),[p,y]=v.useState(a),[E,b]=v.useState(a);L2(()=>{u.current=!1,d.current=a;for(let _=0;_<E.length;_++){const I=uu(E[_]);l.includes(I)?h.delete(I):h.get(I)!==!0&&h.set(I,!1)}},[E,l.length,l.join("-")]);const R=[];if(a!==p){let _=[...a];for(let I=0;I<E.length;I++){const L=E[I],j=uu(L);l.includes(j)||(_.splice(I,0,L),R.push(L))}o==="wait"&&R.length&&(_=R),b(bw(_)),y(a);return}const{forceRender:T}=v.useContext(n0);return f(_i,{children:E.map(_=>{const I=uu(_),L=a===E||l.includes(I),j=()=>{if(h.has(I))h.set(I,!0);else return;let k=!0;h.forEach(P=>{P||(k=!1)}),k&&(T==null||T(),b(d.current),i&&i())};return f(SD,{isPresent:L,initial:!u.current||r?void 0:!1,custom:L?void 0:n,presenceAffectsLayout:s,mode:o,onExitComplete:L?void 0:j,children:_},I)})})};function CD({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"}))}const PD=v.forwardRef(CD),AD=PD;function RD({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-9.75 0h9.75"}))}const ND=v.forwardRef(RD),kD=ND;function DD({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const LD=v.forwardRef(DD),MD=LD;function VD({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const OD=v.forwardRef(VD),FD=OD;function UD({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const jD=v.forwardRef(UD),BD=jD;function zD({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 3.104v5.714a2.25 2.25 0 0 1-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 0 1 4.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0 1 12 15a9.065 9.065 0 0 0-6.23-.693L5 14.5m14.8.8 1.402 1.402c1.232 1.232.65 3.318-1.067 3.611A48.309 48.309 0 0 1 12 21c-2.773 0-5.491-.235-8.135-.687-1.718-.293-2.3-2.379-1.067-3.61L5 14.5"}))}const $D=v.forwardRef(zD),Y2=$D;function HD({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const WD=v.forwardRef(HD),qD=WD;function KD({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 0 0 .75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 0 0-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0 1 12 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 0 1-.673-.38m0 0A2.18 2.18 0 0 1 3 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 0 1 3.413-.387m7.5 0V5.25A2.25 2.25 0 0 0 13.5 3h-3a2.25 2.25 0 0 0-2.25 2.25v.894m7.5 0a48.667 48.667 0 0 0-7.5 0M12 12.75h.008v.008H12v-.008Z"}))}const GD=v.forwardRef(KD),QD=GD;function YD({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 21h19.5m-18-18v18m10.5-18v18m6-13.5V21M6.75 6.75h.75m-.75 3h.75m-.75 3h.75m3-6h.75m-.75 3h.75m-.75 3h.75M6.75 21v-3.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21M3 3h12m-.75 4.5H21m-3.75 3.75h.008v.008h-.008v-.008Zm0 3h.008v.008h-.008v-.008Zm0 3h.008v.008h-.008v-.008Z"}))}const XD=v.forwardRef(YD),JD=XD;function ZD({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const eL=v.forwardRef(ZD),tL=eL;function nL({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const rL=v.forwardRef(nL),Dr=rL;function iL({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const sL=v.forwardRef(iL),oL=sL;function aL({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const lL=v.forwardRef(aL),f0=lL;function cL({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.076-4.076a1.526 1.526 0 0 1 1.037-.443 48.282 48.282 0 0 0 5.68-.494c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"}))}const uL=v.forwardRef(cL),Sw=uL;function dL({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"}))}const hL=v.forwardRef(dL),fL=hL;function mL({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"}))}const pL=v.forwardRef(mL),gL=pL;function yL({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const vL=v.forwardRef(yL),lp=vL;function wL({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0 0 15 0m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077 1.41-.513m14.095-5.13 1.41-.513M5.106 17.785l1.15-.964m11.49-9.642 1.149-.964M7.501 19.795l.75-1.3m7.5-12.99.75-1.3m-6.063 16.658.26-1.477m2.605-14.772.26-1.477m0 17.726-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205 12 12m6.894 5.785-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"}))}const _L=v.forwardRef(wL),EL=_L;function TL({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const xL=v.forwardRef(TL),X2=xL;function bL({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const SL=v.forwardRef(bL),J2=SL;function IL({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const CL=v.forwardRef(IL),PL=CL;function AL({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))}const RL=v.forwardRef(AL),Sd=RL;function NL({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const kL=v.forwardRef(NL),Iw=kL;function DL({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const LL=v.forwardRef(DL),ML=LL;function VL({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const OL=v.forwardRef(VL),FL=OL;function UL({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const jL=v.forwardRef(UL),Z2=jL;function BL({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const zL=v.forwardRef(BL),Id=zL;function $L({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.97A48.416 48.416 0 0 0 12 4.5c-2.291 0-4.545.16-6.75.47m13.5 0c1.01.143 2.01.317 3 .52m-3-.52 2.62 10.726c.122.499-.106 1.028-.589 1.202a5.988 5.988 0 0 1-2.031.352 5.988 5.988 0 0 1-2.031-.352c-.483-.174-.711-.703-.59-1.202L18.75 4.971Zm-16.5.52c.99-.203 1.99-.377 3-.52m0 0 2.62 10.726c.122.499-.106 1.028-.589 1.202a5.989 5.989 0 0 1-2.031.352 5.989 5.989 0 0 1-2.031-.352c-.483-.174-.711-.703-.59-1.202L5.25 4.971Z"}))}const HL=v.forwardRef($L),Cw=HL;function WL({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const qL=v.forwardRef(WL),KL=qL;function GL({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const QL=v.forwardRef(GL),Pw=QL;function YL({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"}))}const XL=v.forwardRef(YL),eb=XL;function JL({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}const ZL=v.forwardRef(JL),eM=ZL;function tM({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const nM=v.forwardRef(tM),rM=nM;function iM({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const sM=v.forwardRef(iM),oM=sM;function aM({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const lM=v.forwardRef(aM),Cd=lM;function cM({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const uM=v.forwardRef(cM),Pd=uM;function dM({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const hM=v.forwardRef(dM),tb=hM;function fM({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const mM=v.forwardRef(fM),_h=mM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},pM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},rb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let p=(a&15)<<2|u>>6,y=u&63;l||(y=64,o||(p=64)),r.push(n[d],n[h],n[p],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(nb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):pM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new gM;const p=s<<2|a>>4;if(r.push(p),u!==64){const y=a<<4&240|u>>2;if(r.push(y),h!==64){const E=u<<6&192|h;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class gM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yM=function(t){const e=nb(t);return rb.encodeByteArray(e,!0)},Ad=function(t){return yM(t).replace(/\./g,"")},ib=function(t){try{return rb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wM=()=>vM().__FIREBASE_DEFAULTS__,_M=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},EM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ib(t[1]);return e&&JSON.parse(e)},Eh=()=>{try{return wM()||_M()||EM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},sb=t=>{var e,n;return(n=(e=Eh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},TM=t=>{const e=sb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ob=()=>{var t;return(t=Eh())===null||t===void 0?void 0:t.config},ab=t=>{var e;return(e=Eh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bM(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Ad(JSON.stringify(n)),Ad(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function IM(){var t;const e=(t=Eh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function PM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function AM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RM(){const t=Wt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function NM(){return!IM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kM(){try{return typeof indexedDB=="object"}catch{return!1}}function DM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LM="FirebaseError";class Yr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=LM,Object.setPrototypeOf(this,Yr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dc.prototype.create)}}class dc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?MM(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Yr(i,a,r)}}function MM(t,e){return t.replace(VM,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const VM=/\{\$([^}]+)}/g;function OM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Rd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Aw(s)&&Aw(o)){if(!Rd(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Aw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Za(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function el(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function FM(t,e){const n=new UM(t,e);return n.subscribe.bind(n)}class UM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");jM(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Uf),i.error===void 0&&(i.error=Uf),i.complete===void 0&&(i.complete=Uf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Uf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(t){return t&&t._delegate?t._delegate:t}class Rs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new xM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($M(e))try{this.getOrInitializeService({instanceIdentifier:ds})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ds){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ds){return this.instances.has(e)}getOptions(e=ds){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:zM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ds){return this.component?this.component.multipleInstances?e:ds:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zM(t){return t===ds?void 0:t}function $M(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new BM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Te||(Te={}));const WM={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},qM=Te.INFO,KM={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},GM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=KM[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class m0{constructor(e){this.name=e,this._logLevel=qM,this._logHandler=GM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?WM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...e),this._logHandler(this,Te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...e),this._logHandler(this,Te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...e),this._logHandler(this,Te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...e),this._logHandler(this,Te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...e),this._logHandler(this,Te.ERROR,...e)}}const QM=(t,e)=>e.some(n=>t instanceof n);let Rw,Nw;function YM(){return Rw||(Rw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XM(){return Nw||(Nw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lb=new WeakMap,cp=new WeakMap,cb=new WeakMap,jf=new WeakMap,p0=new WeakMap;function JM(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ai(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&lb.set(n,t)}).catch(()=>{}),p0.set(e,t),e}function ZM(t){if(cp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});cp.set(t,e)}let up={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return cp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||cb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ai(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function eV(t){up=t(up)}function tV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Bf(this),e,...n);return cb.set(r,e.sort?e.sort():[e]),Ai(r)}:XM().includes(t)?function(...e){return t.apply(Bf(this),e),Ai(lb.get(this))}:function(...e){return Ai(t.apply(Bf(this),e))}}function nV(t){return typeof t=="function"?tV(t):(t instanceof IDBTransaction&&ZM(t),QM(t,YM())?new Proxy(t,up):t)}function Ai(t){if(t instanceof IDBRequest)return JM(t);if(jf.has(t))return jf.get(t);const e=nV(t);return e!==t&&(jf.set(t,e),p0.set(e,t)),e}const Bf=t=>p0.get(t);function rV(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ai(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ai(o.result),l.oldVersion,l.newVersion,Ai(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const iV=["get","getKey","getAll","getAllKeys","count"],sV=["put","add","delete","clear"],zf=new Map;function kw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(zf.get(e))return zf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=sV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||iV.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return zf.set(e,s),s}eV(t=>({...t,get:(e,n,r)=>kw(e,n)||t.get(e,n,r),has:(e,n)=>!!kw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(aV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function aV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const dp="@firebase/app",Dw="0.10.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br=new m0("@firebase/app"),lV="@firebase/app-compat",cV="@firebase/analytics-compat",uV="@firebase/analytics",dV="@firebase/app-check-compat",hV="@firebase/app-check",fV="@firebase/auth",mV="@firebase/auth-compat",pV="@firebase/database",gV="@firebase/data-connect",yV="@firebase/database-compat",vV="@firebase/functions",wV="@firebase/functions-compat",_V="@firebase/installations",EV="@firebase/installations-compat",TV="@firebase/messaging",xV="@firebase/messaging-compat",bV="@firebase/performance",SV="@firebase/performance-compat",IV="@firebase/remote-config",CV="@firebase/remote-config-compat",PV="@firebase/storage",AV="@firebase/storage-compat",RV="@firebase/firestore",NV="@firebase/vertexai",kV="@firebase/firestore-compat",DV="firebase",LV="11.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp="[DEFAULT]",MV={[dp]:"fire-core",[lV]:"fire-core-compat",[uV]:"fire-analytics",[cV]:"fire-analytics-compat",[hV]:"fire-app-check",[dV]:"fire-app-check-compat",[fV]:"fire-auth",[mV]:"fire-auth-compat",[pV]:"fire-rtdb",[gV]:"fire-data-connect",[yV]:"fire-rtdb-compat",[vV]:"fire-fn",[wV]:"fire-fn-compat",[_V]:"fire-iid",[EV]:"fire-iid-compat",[TV]:"fire-fcm",[xV]:"fire-fcm-compat",[bV]:"fire-perf",[SV]:"fire-perf-compat",[IV]:"fire-rc",[CV]:"fire-rc-compat",[PV]:"fire-gcs",[AV]:"fire-gcs-compat",[RV]:"fire-fst",[kV]:"fire-fst-compat",[NV]:"fire-vertex","fire-js":"fire-js",[DV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd=new Map,VV=new Map,fp=new Map;function Lw(t,e){try{t.container.addComponent(e)}catch(n){Br.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Go(t){const e=t.name;if(fp.has(e))return Br.debug(`There were multiple attempts to register component ${e}.`),!1;fp.set(e,t);for(const n of Nd.values())Lw(n,t);for(const n of VV.values())Lw(n,t);return!0}function g0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function er(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ri=new dc("app","Firebase",OV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Rs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ri.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=LV;function ub(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:hp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ri.create("bad-app-name",{appName:String(i)});if(n||(n=ob()),!n)throw Ri.create("no-options");const s=Nd.get(i);if(s){if(Rd(n,s.options)&&Rd(r,s.config))return s;throw Ri.create("duplicate-app",{appName:i})}const o=new HM(i);for(const l of fp.values())o.addComponent(l);const a=new FV(n,r,o);return Nd.set(i,a),a}function db(t=hp){const e=Nd.get(t);if(!e&&t===hp&&ob())return ub();if(!e)throw Ri.create("no-app",{appName:t});return e}function Ni(t,e,n){var r;let i=(r=MV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Br.warn(a.join(" "));return}Go(new Rs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV="firebase-heartbeat-database",jV=1,Wl="firebase-heartbeat-store";let $f=null;function hb(){return $f||($f=rV(UV,jV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ri.create("idb-open",{originalErrorMessage:t.message})})),$f}async function BV(t){try{const n=(await hb()).transaction(Wl),r=await n.objectStore(Wl).get(fb(t));return await n.done,r}catch(e){if(e instanceof Yr)Br.warn(e.message);else{const n=Ri.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Br.warn(n.message)}}}async function Mw(t,e){try{const r=(await hb()).transaction(Wl,"readwrite");await r.objectStore(Wl).put(e,fb(t)),await r.done}catch(n){if(n instanceof Yr)Br.warn(n.message);else{const r=Ri.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Br.warn(r.message)}}}function fb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV=1024,$V=30*24*60*60*1e3;class HV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Vw();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=$V}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Br.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Vw(),{heartbeatsToSend:r,unsentEntries:i}=WV(this._heartbeatsCache.heartbeats),s=Ad(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Br.warn(n),""}}}function Vw(){return new Date().toISOString().substring(0,10)}function WV(t,e=zV){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Ow(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ow(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class qV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kM()?DM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await BV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Mw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Mw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Ow(t){return Ad(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KV(t){Go(new Rs("platform-logger",e=>new oV(e),"PRIVATE")),Go(new Rs("heartbeat",e=>new HV(e),"PRIVATE")),Ni(dp,Dw,t),Ni(dp,Dw,"esm2017"),Ni("fire-js","")}KV("");var GV="firebase",QV="11.0.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ni(GV,QV,"app");function y0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function mb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const YV=mb,pb=new dc("auth","Firebase",mb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd=new m0("@firebase/auth");function XV(t,...e){kd.logLevel<=Te.WARN&&kd.warn(`Auth (${la}): ${t}`,...e)}function Du(t,...e){kd.logLevel<=Te.ERROR&&kd.error(`Auth (${la}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(t,...e){throw v0(t,...e)}function ar(t,...e){return v0(t,...e)}function gb(t,e,n){const r=Object.assign(Object.assign({},YV()),{[e]:n});return new dc("auth","Firebase",r).create(e,{appName:t.name})}function Lr(t){return gb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function v0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return pb.create(t,...e)}function de(t,e,...n){if(!t)throw v0(e,...n)}function Sr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Du(e),new Error(e)}function zr(t,e){t||Sr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function JV(){return Fw()==="http:"||Fw()==="https:"}function Fw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JV()||PM()||"connection"in navigator)?navigator.onLine:!0}function e3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,n){this.shortDelay=e,this.longDelay=n,zr(n>e,"Short delay should be less than long delay!"),this.isMobile=SM()||AM()}get(){return ZV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(t,e){zr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3=new fc(3e4,6e4);function Gi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Qi(t,e,n,r,i={}){return vb(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=hc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return CM()||(u.referrerPolicy="no-referrer"),yb.fetch()(wb(t,t.config.apiHost,n,a),u)})}async function vb(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},t3),e);try{const i=new i3(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw du(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw du(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw du(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw du(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw gb(t,d,u);zn(t,d)}}catch(i){if(i instanceof Yr)throw i;zn(t,"network-request-failed",{message:String(i)})}}async function mc(t,e,n,r,i={}){const s=await Qi(t,e,n,r,i);return"mfaPendingCredential"in s&&zn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function wb(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?w0(t.config,i):`${t.config.apiScheme}://${i}`}function r3(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class i3{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ar(this.auth,"network-request-failed")),n3.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function du(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ar(t,e,r);return i.customData._tokenResponse=n,i}function Uw(t){return t!==void 0&&t.enterprise!==void 0}class s3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return r3(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function o3(t,e){return Qi(t,"GET","/v2/recaptchaConfig",Gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a3(t,e){return Qi(t,"POST","/v1/accounts:delete",e)}async function _b(t,e){return Qi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function l3(t,e=!1){const n=Et(t),r=await n.getIdToken(e),i=_0(r);de(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:yl(Hf(i.auth_time)),issuedAtTime:yl(Hf(i.iat)),expirationTime:yl(Hf(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Hf(t){return Number(t)*1e3}function _0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Du("JWT malformed, contained fewer than 3 sections"),null;try{const i=ib(n);return i?JSON.parse(i):(Du("Failed to decode base64 JWT payload"),null)}catch(i){return Du("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function jw(t){const e=_0(t);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ql(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Yr&&c3(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function c3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=yl(this.lastLoginAt),this.creationTime=yl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ql(t,_b(n,{idToken:r}));de(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Eb(s.providerUserInfo):[],a=h3(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new pp(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function d3(t){const e=Et(t);await Dd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function h3(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Eb(t){return t.map(e=>{var{providerId:n}=e,r=y0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f3(t,e){const n=await vb(t,{},async()=>{const r=hc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=wb(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",yb.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function m3(t,e){return Qi(t,"POST","/v2/accounts:revokeToken",Gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):jw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){de(e.length!==0,"internal-error");const n=jw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await f3(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ro;return r&&(de(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(de(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(de(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ro,this.toJSON())}_performRefresh(){return Sr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(t,e){de(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ir{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=y0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new u3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new pp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ql(this,this.stsTokenManager.getToken(this.auth,e));return de(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return l3(this,e)}reload(){return d3(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ir(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Dd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(er(this.auth.app))return Promise.reject(Lr(this.auth));const e=await this.getIdToken();return await ql(this,a3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,E=(o=n.photoURL)!==null&&o!==void 0?o:void 0,b=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,T=(u=n.createdAt)!==null&&u!==void 0?u:void 0,_=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:I,emailVerified:L,isAnonymous:j,providerData:k,stsTokenManager:P}=n;de(I&&P,e,"internal-error");const w=Ro.fromJSON(this.name,P);de(typeof I=="string",e,"internal-error"),ii(h,e.name),ii(p,e.name),de(typeof L=="boolean",e,"internal-error"),de(typeof j=="boolean",e,"internal-error"),ii(y,e.name),ii(E,e.name),ii(b,e.name),ii(R,e.name),ii(T,e.name),ii(_,e.name);const x=new Ir({uid:I,auth:e,email:p,emailVerified:L,displayName:h,isAnonymous:j,photoURL:E,phoneNumber:y,tenantId:b,stsTokenManager:w,createdAt:T,lastLoginAt:_});return k&&Array.isArray(k)&&(x.providerData=k.map(A=>Object.assign({},A))),R&&(x._redirectEventId=R),x}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ro;i.updateFromServerResponse(n);const s=new Ir({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Dd(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];de(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Eb(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Ro;a.updateFromIdToken(r);const l=new Ir({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new pp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw=new Map;function Cr(t){zr(t instanceof Function,"Expected a class definition");let e=Bw.get(t);return e?(zr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Bw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Tb.type="NONE";const zw=Tb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lu(t,e,n){return`firebase:${t}:${e}:${n}`}class No{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Lu(this.userKey,i.apiKey,s),this.fullPersistenceKey=Lu("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ir._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new No(Cr(zw),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Cr(zw);const o=Lu(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){const h=Ir._fromJSON(e,d);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new No(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new No(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ib(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Pb(e))return"Blackberry";if(Ab(e))return"Webos";if(bb(e))return"Safari";if((e.includes("chrome/")||Sb(e))&&!e.includes("edge/"))return"Chrome";if(Cb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function xb(t=Wt()){return/firefox\//i.test(t)}function bb(t=Wt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Sb(t=Wt()){return/crios\//i.test(t)}function Ib(t=Wt()){return/iemobile/i.test(t)}function Cb(t=Wt()){return/android/i.test(t)}function Pb(t=Wt()){return/blackberry/i.test(t)}function Ab(t=Wt()){return/webos/i.test(t)}function E0(t=Wt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function p3(t=Wt()){var e;return E0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function g3(){return RM()&&document.documentMode===10}function Rb(t=Wt()){return E0(t)||Cb(t)||Ab(t)||Pb(t)||/windows phone/i.test(t)||Ib(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(t,e=[]){let n;switch(t){case"Browser":n=$w(Wt());break;case"Worker":n=`${$w(Wt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${la}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v3(t,e={}){return Qi(t,"GET","/v2/passwordPolicy",Gi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3=6;class _3{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:w3,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hw(this),this.idTokenSubscription=new Hw(this),this.beforeStateQueue=new y3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Cr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await No.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await _b(this,{idToken:e}),r=await Ir._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(er(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Dd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=e3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(er(this.app))return Promise.reject(Lr(this));const n=e?Et(e):null;return n&&de(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return er(this.app)?Promise.reject(Lr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return er(this.app)?Promise.reject(Lr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Cr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await v3(this),n=new _3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new dc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await m3(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Cr(e)||this._popupRedirectResolver;de(n,this,"argument-error"),this.redirectPersistenceManager=await No.create(this,[Cr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Nb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&XV(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Os(t){return Et(t)}class Hw{constructor(e){this.auth=e,this.observer=null,this.addObserver=FM(n=>this.observer=n)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Th={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function T3(t){Th=t}function kb(t){return Th.loadJS(t)}function x3(){return Th.recaptchaEnterpriseScript}function b3(){return Th.gapiScript}function S3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class I3{constructor(){this.enterprise=new C3}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class C3{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const P3="recaptcha-enterprise",Db="NO_RECAPTCHA";class A3{constructor(e){this.type=P3,this.auth=Os(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{o3(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new s3(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;Uw(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(Db)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new I3().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&Uw(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=x3();l.length!==0&&(l+=a),kb(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function $a(t,e,n,r=!1,i=!1){const s=new A3(t);let o;if(i)o=Db;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function gp(t,e,n,r,i){var s,o;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await $a(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await $a(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)});else if(i==="PHONE_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("PHONE_PROVIDER")){const a=await $a(t,e,n);return r(t,a).catch(async l=>{var u;if(((u=t._getRecaptchaConfig())===null||u===void 0?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const d=await $a(t,e,n,!1,!0);return r(t,d)}return Promise.reject(l)})}else{const a=await $a(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R3(t,e){const n=g0(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Rd(s,e??{}))return i;zn(i,"already-initialized")}return n.initialize({options:e})}function N3(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Cr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function k3(t,e,n){const r=Os(t);de(r._canInitEmulator,r,"emulator-config-failed"),de(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=Lb(e),{host:o,port:a}=D3(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||L3()}function Lb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function D3(t){const e=Lb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Ww(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Ww(o)}}}function Ww(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function L3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Sr("not implemented")}_getIdTokenResponse(e){return Sr("not implemented")}_linkToIdToken(e,n){return Sr("not implemented")}_getReauthenticationResolver(e){return Sr("not implemented")}}async function M3(t,e){return Qi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V3(t,e){return mc(t,"POST","/v1/accounts:signInWithPassword",Gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O3(t,e){return mc(t,"POST","/v1/accounts:signInWithEmailLink",Gi(t,e))}async function F3(t,e){return mc(t,"POST","/v1/accounts:signInWithEmailLink",Gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl extends T0{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Kl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Kl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gp(e,n,"signInWithPassword",V3,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return O3(e,{email:this._email,oobCode:this._password});default:zn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gp(e,r,"signUpPassword",M3,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return F3(e,{idToken:n,email:this._email,oobCode:this._password});default:zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ko(t,e){return mc(t,"POST","/v1/accounts:signInWithIdp",Gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3="http://localhost";class Ns extends T0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ns(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):zn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=y0(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ns(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ko(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ko(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ko(e,n)}buildRequest(){const e={requestUri:U3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=hc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function B3(t){const e=Za(el(t)).link,n=e?Za(el(e)).deep_link_id:null,r=Za(el(t)).deep_link_id;return(r?Za(el(r)).link:null)||r||n||e||t}class x0{constructor(e){var n,r,i,s,o,a;const l=Za(el(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=j3((i=l.mode)!==null&&i!==void 0?i:null);de(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=B3(e);try{return new x0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(){this.providerId=ca.PROVIDER_ID}static credential(e,n){return Kl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=x0.parseLink(n);return de(r,"argument-error"),Kl._fromEmailAndCode(e,r.code,r.tenantId)}}ca.PROVIDER_ID="password";ca.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ca.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc extends Mb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends pc{constructor(){super("facebook.com")}static credential(e){return Ns._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return di.credential(e.oauthAccessToken)}catch{return null}}}di.FACEBOOK_SIGN_IN_METHOD="facebook.com";di.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends pc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ns._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return hi.credential(n,r)}catch{return null}}}hi.GOOGLE_SIGN_IN_METHOD="google.com";hi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends pc{constructor(){super("github.com")}static credential(e){return Ns._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fi.credential(e.oauthAccessToken)}catch{return null}}}fi.GITHUB_SIGN_IN_METHOD="github.com";fi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi extends pc{constructor(){super("twitter.com")}static credential(e,n){return Ns._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return mi.credentialFromTaggedObject(e)}static credentialFromError(e){return mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return mi.credential(n,r)}catch{return null}}}mi.TWITTER_SIGN_IN_METHOD="twitter.com";mi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z3(t,e){return mc(t,"POST","/v1/accounts:signUp",Gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ir._fromIdTokenResponse(e,r,i),o=qw(r);return new ks({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=qw(r);return new ks({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function qw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld extends Yr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ld.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Ld(e,n,r,i)}}function Vb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ld._fromErrorAndOperation(t,s,e,r):s})}async function $3(t,e,n=!1){const r=await ql(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ks._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H3(t,e,n=!1){const{auth:r}=t;if(er(r.app))return Promise.reject(Lr(r));const i="reauthenticate";try{const s=await ql(t,Vb(r,i,e,t),n);de(s.idToken,r,"internal-error");const o=_0(s.idToken);de(o,r,"internal-error");const{sub:a}=o;return de(t.uid===a,r,"user-mismatch"),ks._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&zn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ob(t,e,n=!1){if(er(t.app))return Promise.reject(Lr(t));const r="signIn",i=await Vb(t,r,e),s=await ks._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function W3(t,e){return Ob(Os(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fb(t){const e=Os(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function q3(t,e,n){if(er(t.app))return Promise.reject(Lr(t));const r=Os(t),o=await gp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",z3,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Fb(t),l}),a=await ks._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function K3(t,e,n){return er(t.app)?Promise.reject(Lr(t)):W3(Et(t),ca.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Fb(t),r})}function G3(t,e,n,r){return Et(t).onIdTokenChanged(e,n,r)}function Q3(t,e,n){return Et(t).beforeAuthStateChanged(e,n)}function Y3(t,e,n,r){return Et(t).onAuthStateChanged(e,n,r)}function X3(t){return Et(t).signOut()}const Md="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Md,"1"),this.storage.removeItem(Md),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J3=1e3,Z3=10;class jb extends Ub{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Rb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);g3()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Z3):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},J3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}jb.type="LOCAL";const e6=jb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb extends Ub{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Bb.type="SESSION";const zb=Bb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new xh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await t6(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=b0("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const p=h;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(){return window}function r6(t){lr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(){return typeof lr().WorkerGlobalScope<"u"&&typeof lr().importScripts=="function"}async function i6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function s6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function o6(){return $b()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb="firebaseLocalStorageDb",a6=1,Vd="firebaseLocalStorage",Wb="fbase_key";class gc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function bh(t,e){return t.transaction([Vd],e?"readwrite":"readonly").objectStore(Vd)}function l6(){const t=indexedDB.deleteDatabase(Hb);return new gc(t).toPromise()}function yp(){const t=indexedDB.open(Hb,a6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Vd,{keyPath:Wb})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Vd)?e(r):(r.close(),await l6(),e(await yp()))})})}async function Kw(t,e,n){const r=bh(t,!0).put({[Wb]:e,value:n});return new gc(r).toPromise()}async function c6(t,e){const n=bh(t,!1).get(e),r=await new gc(n).toPromise();return r===void 0?null:r.value}function Gw(t,e){const n=bh(t,!0).delete(e);return new gc(n).toPromise()}const u6=800,d6=3;class qb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>d6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $b()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xh._getInstance(o6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await i6(),!this.activeServiceWorker)return;this.sender=new n6(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||s6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yp();return await Kw(e,Md,"1"),await Gw(e,Md),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Kw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>c6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Gw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=bh(i,!1).getAll();return new gc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),u6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qb.type="LOCAL";const h6=qb;new fc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f6(t,e){return e?Cr(e):(de(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0 extends T0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ko(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ko(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ko(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function m6(t){return Ob(t.auth,new S0(t),t.bypassAuthState)}function p6(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),H3(n,new S0(t),t.bypassAuthState)}async function g6(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),$3(n,new S0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return m6;case"linkViaPopup":case"linkViaRedirect":return g6;case"reauthViaPopup":case"reauthViaRedirect":return p6;default:zn(this.auth,"internal-error")}}resolve(e){zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y6=new fc(2e3,1e4);class xo extends Kb{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,xo.currentPopupAction&&xo.currentPopupAction.cancel(),xo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return de(e,this.auth,"internal-error"),e}async onExecution(){zr(this.filter.length===1,"Popup operations only handle one event");const e=b0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ar(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ar(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ar(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,y6.get())};e()}}xo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6="pendingRedirect",Mu=new Map;class w6 extends Kb{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Mu.get(this.auth._key());if(!e){try{const r=await _6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Mu.set(this.auth._key(),e)}return this.bypassAuthState||Mu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _6(t,e){const n=x6(e),r=T6(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function E6(t,e){Mu.set(t._key(),e)}function T6(t){return Cr(t._redirectPersistence)}function x6(t){return Lu(v6,t.config.apiKey,t.name)}async function b6(t,e,n=!1){if(er(t.app))return Promise.reject(Lr(t));const r=Os(t),i=f6(r,e),o=await new w6(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S6=10*60*1e3;class I6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!C6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Gb(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ar(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=S6&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qw(e))}saveEventToCache(e){this.cachedEventUids.add(Qw(e)),this.lastProcessedEventTime=Date.now()}}function Qw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Gb({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function C6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Gb(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P6(t,e={}){return Qi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,R6=/^https?/;async function N6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await P6(t);for(const n of e)try{if(k6(n))return}catch{}zn(t,"unauthorized-domain")}function k6(t){const e=mp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!R6.test(n))return!1;if(A6.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6=new fc(3e4,6e4);function Yw(){const t=lr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function L6(t){return new Promise((e,n)=>{var r,i,s;function o(){Yw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Yw(),n(ar(t,"network-request-failed"))},timeout:D6.get()})}if(!((i=(r=lr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=lr().gapi)===null||s===void 0)&&s.load)o();else{const a=S3("iframefcb");return lr()[a]=()=>{gapi.load?o():n(ar(t,"network-request-failed"))},kb(`${b3()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Vu=null,e})}let Vu=null;function M6(t){return Vu=Vu||L6(t),Vu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V6=new fc(5e3,15e3),O6="__/auth/iframe",F6="emulator/auth/iframe",U6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},j6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function B6(t){const e=t.config;de(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?w0(e,F6):`https://${t.config.authDomain}/${O6}`,r={apiKey:e.apiKey,appName:t.name,v:la},i=j6.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${hc(r).slice(1)}`}async function z6(t){const e=await M6(t),n=lr().gapi;return de(n,t,"internal-error"),e.open({where:document.body,url:B6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:U6,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=ar(t,"network-request-failed"),a=lr().setTimeout(()=>{s(o)},V6.get());function l(){lr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},H6=500,W6=600,q6="_blank",K6="http://localhost";class Xw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function G6(t,e,n,r=H6,i=W6){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},$6),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Wt().toLowerCase();n&&(a=Sb(u)?q6:n),xb(u)&&(e=e||K6,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[y,E])=>`${p}${y}=${E},`,"");if(p3(u)&&a!=="_self")return Q6(e||"",a),new Xw(null);const h=window.open(e||"",a,d);de(h,t,"popup-blocked");try{h.focus()}catch{}return new Xw(h)}function Q6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y6="__/auth/handler",X6="emulator/auth/handler",J6=encodeURIComponent("fac");async function Jw(t,e,n,r,i,s){de(t.config.authDomain,t,"auth-domain-config-required"),de(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:la,eventId:i};if(e instanceof Mb){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",OM(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(s||{}))o[d]=h}if(e instanceof pc){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${J6}=${encodeURIComponent(l)}`:"";return`${Z6(t)}?${hc(a).slice(1)}${u}`}function Z6({config:t}){return t.emulator?w0(t,X6):`https://${t.authDomain}/${Y6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wf="webStorageSupport";class eO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zb,this._completeRedirectFn=b6,this._overrideRedirectResult=E6}async _openPopup(e,n,r,i){var s;zr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Jw(e,n,r,mp(),i);return G6(e,o,b0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Jw(e,n,r,mp(),i);return r6(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(zr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await z6(e),r=new I6(e);return n.register("authEvent",i=>(de(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Wf,{type:Wf},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Wf];o!==void 0&&n(!!o),zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=N6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Rb()||bb()||E0()}}const tO=eO;var Zw="@firebase/auth",e_="1.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function iO(t){Go(new Rs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;de(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Nb(t)},u=new E3(r,i,s,l);return N3(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Go(new Rs("auth-internal",e=>{const n=Os(e.getProvider("auth").getImmediate());return(r=>new nO(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ni(Zw,e_,rO(t)),Ni(Zw,e_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO=5*60,oO=ab("authIdTokenMaxAge")||sO;let t_=null;const aO=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>oO)return;const i=n==null?void 0:n.token;t_!==i&&(t_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function lO(t=db()){const e=g0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=R3(t,{popupRedirectResolver:tO,persistence:[h6,e6,zb]}),r=ab("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=aO(s.toString());Q3(n,o,()=>o(n.currentUser)),G3(n,a=>o(a))}}const i=sb("auth");return i&&k3(n,`http://${i}`),n}function cO(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}T3({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ar("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",cO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});iO("Browser");var n_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xs,Qb;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,w){function x(){}x.prototype=w.prototype,P.D=w.prototype,P.prototype=new x,P.prototype.constructor=P,P.C=function(A,D,V){for(var N=Array(arguments.length-2),le=2;le<arguments.length;le++)N[le-2]=arguments[le];return w.prototype[D].apply(A,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,w,x){x||(x=0);var A=Array(16);if(typeof w=="string")for(var D=0;16>D;++D)A[D]=w.charCodeAt(x++)|w.charCodeAt(x++)<<8|w.charCodeAt(x++)<<16|w.charCodeAt(x++)<<24;else for(D=0;16>D;++D)A[D]=w[x++]|w[x++]<<8|w[x++]<<16|w[x++]<<24;w=P.g[0],x=P.g[1],D=P.g[2];var V=P.g[3],N=w+(V^x&(D^V))+A[0]+3614090360&4294967295;w=x+(N<<7&4294967295|N>>>25),N=V+(D^w&(x^D))+A[1]+3905402710&4294967295,V=w+(N<<12&4294967295|N>>>20),N=D+(x^V&(w^x))+A[2]+606105819&4294967295,D=V+(N<<17&4294967295|N>>>15),N=x+(w^D&(V^w))+A[3]+3250441966&4294967295,x=D+(N<<22&4294967295|N>>>10),N=w+(V^x&(D^V))+A[4]+4118548399&4294967295,w=x+(N<<7&4294967295|N>>>25),N=V+(D^w&(x^D))+A[5]+1200080426&4294967295,V=w+(N<<12&4294967295|N>>>20),N=D+(x^V&(w^x))+A[6]+2821735955&4294967295,D=V+(N<<17&4294967295|N>>>15),N=x+(w^D&(V^w))+A[7]+4249261313&4294967295,x=D+(N<<22&4294967295|N>>>10),N=w+(V^x&(D^V))+A[8]+1770035416&4294967295,w=x+(N<<7&4294967295|N>>>25),N=V+(D^w&(x^D))+A[9]+2336552879&4294967295,V=w+(N<<12&4294967295|N>>>20),N=D+(x^V&(w^x))+A[10]+4294925233&4294967295,D=V+(N<<17&4294967295|N>>>15),N=x+(w^D&(V^w))+A[11]+2304563134&4294967295,x=D+(N<<22&4294967295|N>>>10),N=w+(V^x&(D^V))+A[12]+1804603682&4294967295,w=x+(N<<7&4294967295|N>>>25),N=V+(D^w&(x^D))+A[13]+4254626195&4294967295,V=w+(N<<12&4294967295|N>>>20),N=D+(x^V&(w^x))+A[14]+2792965006&4294967295,D=V+(N<<17&4294967295|N>>>15),N=x+(w^D&(V^w))+A[15]+1236535329&4294967295,x=D+(N<<22&4294967295|N>>>10),N=w+(D^V&(x^D))+A[1]+4129170786&4294967295,w=x+(N<<5&4294967295|N>>>27),N=V+(x^D&(w^x))+A[6]+3225465664&4294967295,V=w+(N<<9&4294967295|N>>>23),N=D+(w^x&(V^w))+A[11]+643717713&4294967295,D=V+(N<<14&4294967295|N>>>18),N=x+(V^w&(D^V))+A[0]+3921069994&4294967295,x=D+(N<<20&4294967295|N>>>12),N=w+(D^V&(x^D))+A[5]+3593408605&4294967295,w=x+(N<<5&4294967295|N>>>27),N=V+(x^D&(w^x))+A[10]+38016083&4294967295,V=w+(N<<9&4294967295|N>>>23),N=D+(w^x&(V^w))+A[15]+3634488961&4294967295,D=V+(N<<14&4294967295|N>>>18),N=x+(V^w&(D^V))+A[4]+3889429448&4294967295,x=D+(N<<20&4294967295|N>>>12),N=w+(D^V&(x^D))+A[9]+568446438&4294967295,w=x+(N<<5&4294967295|N>>>27),N=V+(x^D&(w^x))+A[14]+3275163606&4294967295,V=w+(N<<9&4294967295|N>>>23),N=D+(w^x&(V^w))+A[3]+4107603335&4294967295,D=V+(N<<14&4294967295|N>>>18),N=x+(V^w&(D^V))+A[8]+1163531501&4294967295,x=D+(N<<20&4294967295|N>>>12),N=w+(D^V&(x^D))+A[13]+2850285829&4294967295,w=x+(N<<5&4294967295|N>>>27),N=V+(x^D&(w^x))+A[2]+4243563512&4294967295,V=w+(N<<9&4294967295|N>>>23),N=D+(w^x&(V^w))+A[7]+1735328473&4294967295,D=V+(N<<14&4294967295|N>>>18),N=x+(V^w&(D^V))+A[12]+2368359562&4294967295,x=D+(N<<20&4294967295|N>>>12),N=w+(x^D^V)+A[5]+4294588738&4294967295,w=x+(N<<4&4294967295|N>>>28),N=V+(w^x^D)+A[8]+2272392833&4294967295,V=w+(N<<11&4294967295|N>>>21),N=D+(V^w^x)+A[11]+1839030562&4294967295,D=V+(N<<16&4294967295|N>>>16),N=x+(D^V^w)+A[14]+4259657740&4294967295,x=D+(N<<23&4294967295|N>>>9),N=w+(x^D^V)+A[1]+2763975236&4294967295,w=x+(N<<4&4294967295|N>>>28),N=V+(w^x^D)+A[4]+1272893353&4294967295,V=w+(N<<11&4294967295|N>>>21),N=D+(V^w^x)+A[7]+4139469664&4294967295,D=V+(N<<16&4294967295|N>>>16),N=x+(D^V^w)+A[10]+3200236656&4294967295,x=D+(N<<23&4294967295|N>>>9),N=w+(x^D^V)+A[13]+681279174&4294967295,w=x+(N<<4&4294967295|N>>>28),N=V+(w^x^D)+A[0]+3936430074&4294967295,V=w+(N<<11&4294967295|N>>>21),N=D+(V^w^x)+A[3]+3572445317&4294967295,D=V+(N<<16&4294967295|N>>>16),N=x+(D^V^w)+A[6]+76029189&4294967295,x=D+(N<<23&4294967295|N>>>9),N=w+(x^D^V)+A[9]+3654602809&4294967295,w=x+(N<<4&4294967295|N>>>28),N=V+(w^x^D)+A[12]+3873151461&4294967295,V=w+(N<<11&4294967295|N>>>21),N=D+(V^w^x)+A[15]+530742520&4294967295,D=V+(N<<16&4294967295|N>>>16),N=x+(D^V^w)+A[2]+3299628645&4294967295,x=D+(N<<23&4294967295|N>>>9),N=w+(D^(x|~V))+A[0]+4096336452&4294967295,w=x+(N<<6&4294967295|N>>>26),N=V+(x^(w|~D))+A[7]+1126891415&4294967295,V=w+(N<<10&4294967295|N>>>22),N=D+(w^(V|~x))+A[14]+2878612391&4294967295,D=V+(N<<15&4294967295|N>>>17),N=x+(V^(D|~w))+A[5]+4237533241&4294967295,x=D+(N<<21&4294967295|N>>>11),N=w+(D^(x|~V))+A[12]+1700485571&4294967295,w=x+(N<<6&4294967295|N>>>26),N=V+(x^(w|~D))+A[3]+2399980690&4294967295,V=w+(N<<10&4294967295|N>>>22),N=D+(w^(V|~x))+A[10]+4293915773&4294967295,D=V+(N<<15&4294967295|N>>>17),N=x+(V^(D|~w))+A[1]+2240044497&4294967295,x=D+(N<<21&4294967295|N>>>11),N=w+(D^(x|~V))+A[8]+1873313359&4294967295,w=x+(N<<6&4294967295|N>>>26),N=V+(x^(w|~D))+A[15]+4264355552&4294967295,V=w+(N<<10&4294967295|N>>>22),N=D+(w^(V|~x))+A[6]+2734768916&4294967295,D=V+(N<<15&4294967295|N>>>17),N=x+(V^(D|~w))+A[13]+1309151649&4294967295,x=D+(N<<21&4294967295|N>>>11),N=w+(D^(x|~V))+A[4]+4149444226&4294967295,w=x+(N<<6&4294967295|N>>>26),N=V+(x^(w|~D))+A[11]+3174756917&4294967295,V=w+(N<<10&4294967295|N>>>22),N=D+(w^(V|~x))+A[2]+718787259&4294967295,D=V+(N<<15&4294967295|N>>>17),N=x+(V^(D|~w))+A[9]+3951481745&4294967295,P.g[0]=P.g[0]+w&4294967295,P.g[1]=P.g[1]+(D+(N<<21&4294967295|N>>>11))&4294967295,P.g[2]=P.g[2]+D&4294967295,P.g[3]=P.g[3]+V&4294967295}r.prototype.u=function(P,w){w===void 0&&(w=P.length);for(var x=w-this.blockSize,A=this.B,D=this.h,V=0;V<w;){if(D==0)for(;V<=x;)i(this,P,V),V+=this.blockSize;if(typeof P=="string"){for(;V<w;)if(A[D++]=P.charCodeAt(V++),D==this.blockSize){i(this,A),D=0;break}}else for(;V<w;)if(A[D++]=P[V++],D==this.blockSize){i(this,A),D=0;break}}this.h=D,this.o+=w},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var w=1;w<P.length-8;++w)P[w]=0;var x=8*this.o;for(w=P.length-8;w<P.length;++w)P[w]=x&255,x/=256;for(this.u(P),P=Array(16),w=x=0;4>w;++w)for(var A=0;32>A;A+=8)P[x++]=this.g[w]>>>A&255;return P};function s(P,w){var x=a;return Object.prototype.hasOwnProperty.call(x,P)?x[P]:x[P]=w(P)}function o(P,w){this.h=w;for(var x=[],A=!0,D=P.length-1;0<=D;D--){var V=P[D]|0;A&&V==w||(x[D]=V,A=!1)}this.g=x}var a={};function l(P){return-128<=P&&128>P?s(P,function(w){return new o([w|0],0>w?-1:0)}):new o([P|0],0>P?-1:0)}function u(P){if(isNaN(P)||!isFinite(P))return h;if(0>P)return R(u(-P));for(var w=[],x=1,A=0;P>=x;A++)w[A]=P/x|0,x*=4294967296;return new o(w,0)}function d(P,w){if(P.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(P.charAt(0)=="-")return R(d(P.substring(1),w));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=u(Math.pow(w,8)),A=h,D=0;D<P.length;D+=8){var V=Math.min(8,P.length-D),N=parseInt(P.substring(D,D+V),w);8>V?(V=u(Math.pow(w,V)),A=A.j(V).add(u(N))):(A=A.j(x),A=A.add(u(N)))}return A}var h=l(0),p=l(1),y=l(16777216);t=o.prototype,t.m=function(){if(b(this))return-R(this).m();for(var P=0,w=1,x=0;x<this.g.length;x++){var A=this.i(x);P+=(0<=A?A:4294967296+A)*w,w*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(E(this))return"0";if(b(this))return"-"+R(this).toString(P);for(var w=u(Math.pow(P,6)),x=this,A="";;){var D=L(x,w).g;x=T(x,D.j(w));var V=((0<x.g.length?x.g[0]:x.h)>>>0).toString(P);if(x=D,E(x))return V+A;for(;6>V.length;)V="0"+V;A=V+A}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function E(P){if(P.h!=0)return!1;for(var w=0;w<P.g.length;w++)if(P.g[w]!=0)return!1;return!0}function b(P){return P.h==-1}t.l=function(P){return P=T(this,P),b(P)?-1:E(P)?0:1};function R(P){for(var w=P.g.length,x=[],A=0;A<w;A++)x[A]=~P.g[A];return new o(x,~P.h).add(p)}t.abs=function(){return b(this)?R(this):this},t.add=function(P){for(var w=Math.max(this.g.length,P.g.length),x=[],A=0,D=0;D<=w;D++){var V=A+(this.i(D)&65535)+(P.i(D)&65535),N=(V>>>16)+(this.i(D)>>>16)+(P.i(D)>>>16);A=N>>>16,V&=65535,N&=65535,x[D]=N<<16|V}return new o(x,x[x.length-1]&-2147483648?-1:0)};function T(P,w){return P.add(R(w))}t.j=function(P){if(E(this)||E(P))return h;if(b(this))return b(P)?R(this).j(R(P)):R(R(this).j(P));if(b(P))return R(this.j(R(P)));if(0>this.l(y)&&0>P.l(y))return u(this.m()*P.m());for(var w=this.g.length+P.g.length,x=[],A=0;A<2*w;A++)x[A]=0;for(A=0;A<this.g.length;A++)for(var D=0;D<P.g.length;D++){var V=this.i(A)>>>16,N=this.i(A)&65535,le=P.i(D)>>>16,K=P.i(D)&65535;x[2*A+2*D]+=N*K,_(x,2*A+2*D),x[2*A+2*D+1]+=V*K,_(x,2*A+2*D+1),x[2*A+2*D+1]+=N*le,_(x,2*A+2*D+1),x[2*A+2*D+2]+=V*le,_(x,2*A+2*D+2)}for(A=0;A<w;A++)x[A]=x[2*A+1]<<16|x[2*A];for(A=w;A<2*w;A++)x[A]=0;return new o(x,0)};function _(P,w){for(;(P[w]&65535)!=P[w];)P[w+1]+=P[w]>>>16,P[w]&=65535,w++}function I(P,w){this.g=P,this.h=w}function L(P,w){if(E(w))throw Error("division by zero");if(E(P))return new I(h,h);if(b(P))return w=L(R(P),w),new I(R(w.g),R(w.h));if(b(w))return w=L(P,R(w)),new I(R(w.g),w.h);if(30<P.g.length){if(b(P)||b(w))throw Error("slowDivide_ only works with positive integers.");for(var x=p,A=w;0>=A.l(P);)x=j(x),A=j(A);var D=k(x,1),V=k(A,1);for(A=k(A,2),x=k(x,2);!E(A);){var N=V.add(A);0>=N.l(P)&&(D=D.add(x),V=N),A=k(A,1),x=k(x,1)}return w=T(P,D.j(w)),new I(D,w)}for(D=h;0<=P.l(w);){for(x=Math.max(1,Math.floor(P.m()/w.m())),A=Math.ceil(Math.log(x)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),V=u(x),N=V.j(w);b(N)||0<N.l(P);)x-=A,V=u(x),N=V.j(w);E(V)&&(V=p),D=D.add(V),P=T(P,N)}return new I(D,P)}t.A=function(P){return L(this,P).h},t.and=function(P){for(var w=Math.max(this.g.length,P.g.length),x=[],A=0;A<w;A++)x[A]=this.i(A)&P.i(A);return new o(x,this.h&P.h)},t.or=function(P){for(var w=Math.max(this.g.length,P.g.length),x=[],A=0;A<w;A++)x[A]=this.i(A)|P.i(A);return new o(x,this.h|P.h)},t.xor=function(P){for(var w=Math.max(this.g.length,P.g.length),x=[],A=0;A<w;A++)x[A]=this.i(A)^P.i(A);return new o(x,this.h^P.h)};function j(P){for(var w=P.g.length+1,x=[],A=0;A<w;A++)x[A]=P.i(A)<<1|P.i(A-1)>>>31;return new o(x,P.h)}function k(P,w){var x=w>>5;w%=32;for(var A=P.g.length-x,D=[],V=0;V<A;V++)D[V]=0<w?P.i(V+x)>>>w|P.i(V+x+1)<<32-w:P.i(V+x);return new o(D,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Qb=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,xs=o}).apply(typeof n_<"u"?n_:typeof self<"u"?self:typeof window<"u"?window:{});var hu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yb,tl,Xb,Ou,vp,Jb,Zb,eS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,g){return c==Array.prototype||c==Object.prototype||(c[m]=g.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof hu=="object"&&hu];for(var m=0;m<c.length;++m){var g=c[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(c,m){if(m)e:{var g=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var F=c[S];if(!(F in g))break e;g=g[F]}c=c[c.length-1],S=g[c],m=m(S),m!=S&&m!=null&&e(g,c,{configurable:!0,writable:!0,value:m})}}function s(c,m){c instanceof String&&(c+="");var g=0,S=!1,F={next:function(){if(!S&&g<c.length){var B=g++;return{value:m(B,c[B]),done:!1}}return S=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}i("Array.prototype.values",function(c){return c||function(){return s(this,function(m,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function u(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function d(c,m,g){return c.call.apply(c.bind,arguments)}function h(c,m,g){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,S),c.apply(m,F)}}return function(){return c.apply(m,arguments)}}function p(c,m,g){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,p.apply(null,arguments)}function y(c,m){var g=Array.prototype.slice.call(arguments,1);return function(){var S=g.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function E(c,m){function g(){}g.prototype=m.prototype,c.aa=m.prototype,c.prototype=new g,c.prototype.constructor=c,c.Qb=function(S,F,B){for(var G=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)G[Oe-2]=arguments[Oe];return m.prototype[F].apply(S,G)}}function b(c){const m=c.length;if(0<m){const g=Array(m);for(let S=0;S<m;S++)g[S]=c[S];return g}return[]}function R(c,m){for(let g=1;g<arguments.length;g++){const S=arguments[g];if(l(S)){const F=c.length||0,B=S.length||0;c.length=F+B;for(let G=0;G<B;G++)c[F+G]=S[G]}else c.push(S)}}class T{constructor(m,g){this.i=m,this.j=g,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function _(c){return/^[\s\xa0]*$/.test(c)}function I(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function L(c){return L[" "](c),c}L[" "]=function(){};var j=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function k(c,m,g){for(const S in c)m.call(g,c[S],S,c)}function P(c,m){for(const g in c)m.call(void 0,c[g],g,c)}function w(c){const m={};for(const g in c)m[g]=c[g];return m}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(c,m){let g,S;for(let F=1;F<arguments.length;F++){S=arguments[F];for(g in S)c[g]=S[g];for(let B=0;B<x.length;B++)g=x[B],Object.prototype.hasOwnProperty.call(S,g)&&(c[g]=S[g])}}function D(c){var m=1;c=c.split(":");const g=[];for(;0<m&&c.length;)g.push(c.shift()),m--;return c.length&&g.push(c.join(":")),g}function V(c){a.setTimeout(()=>{throw c},0)}function N(){var c=ie;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class le{constructor(){this.h=this.g=null}add(m,g){const S=K.get();S.set(m,g),this.h?this.h.next=S:this.g=S,this.h=S}}var K=new T(()=>new we,c=>c.reset());class we{constructor(){this.next=this.g=this.h=null}set(m,g){this.h=m,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let re,W=!1,ie=new le,ce=()=>{const c=a.Promise.resolve(void 0);re=()=>{c.then(Ae)}};var Ae=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(g){V(g)}var m=K;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}W=!1};function Se(){this.s=this.s,this.C=this.C}Se.prototype.s=!1,Se.prototype.ma=function(){this.s||(this.s=!0,this.N())},Se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ve(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}Ve.prototype.h=function(){this.defaultPrevented=!0};var ft=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const g=()=>{};a.addEventListener("test",g,m),a.removeEventListener("test",g,m)}catch{}return c}();function Tt(c,m){if(Ve.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var g=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(j){e:{try{L(m.nodeName);var F=!0;break e}catch{}F=!1}F||(m=null)}}else g=="mouseover"?m=c.fromElement:g=="mouseout"&&(m=c.toElement);this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:xt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Tt.aa.h.call(this)}}E(Tt,Ve);var xt={2:"touch",3:"pen",4:"mouse"};Tt.prototype.h=function(){Tt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var qt="closure_listenable_"+(1e6*Math.random()|0),$h=0;function Hh(c,m,g,S,F){this.listener=c,this.proxy=null,this.src=m,this.type=g,this.capture=!!S,this.ha=F,this.key=++$h,this.da=this.fa=!1}function js(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ct(c){this.src=c,this.g={},this.h=0}ct.prototype.add=function(c,m,g,S,F){var B=c.toString();c=this.g[B],c||(c=this.g[B]=[],this.h++);var G=Bs(c,m,S,F);return-1<G?(m=c[G],g||(m.fa=!1)):(m=new Hh(m,this.src,B,!!S,F),m.fa=g,c.push(m)),m};function Hn(c,m){var g=m.type;if(g in c.g){var S=c.g[g],F=Array.prototype.indexOf.call(S,m,void 0),B;(B=0<=F)&&Array.prototype.splice.call(S,F,1),B&&(js(m),c.g[g].length==0&&(delete c.g[g],c.h--))}}function Bs(c,m,g,S){for(var F=0;F<c.length;++F){var B=c[F];if(!B.da&&B.listener==m&&B.capture==!!g&&B.ha==S)return F}return-1}var ga="closure_lm_"+(1e6*Math.random()|0),Nn={};function xc(c,m,g,S,F){if(S&&S.once)return Ic(c,m,g,S,F);if(Array.isArray(m)){for(var B=0;B<m.length;B++)xc(c,m[B],g,S,F);return null}return g=Ji(g),c&&c[qt]?c.K(m,g,u(S)?!!S.capture:!!S,F):bc(c,m,g,!1,S,F)}function bc(c,m,g,S,F,B){if(!m)throw Error("Invalid event type");var G=u(F)?!!F.capture:!!F,Oe=mr(c);if(Oe||(c[ga]=Oe=new ct(c)),g=Oe.add(m,g,S,G,B),g.proxy)return g;if(S=Sc(),g.proxy=S,S.src=c,S.listener=g,c.addEventListener)ft||(F=G),F===void 0&&(F=!1),c.addEventListener(m.toString(),S,F);else if(c.attachEvent)c.attachEvent(Pc(m.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Sc(){function c(g){return m.call(c.src,c.listener,g)}const m=fr;return c}function Ic(c,m,g,S,F){if(Array.isArray(m)){for(var B=0;B<m.length;B++)Ic(c,m[B],g,S,F);return null}return g=Ji(g),c&&c[qt]?c.L(m,g,u(S)?!!S.capture:!!S,F):bc(c,m,g,!0,S,F)}function Cc(c,m,g,S,F){if(Array.isArray(m))for(var B=0;B<m.length;B++)Cc(c,m[B],g,S,F);else S=u(S)?!!S.capture:!!S,g=Ji(g),c&&c[qt]?(c=c.i,m=String(m).toString(),m in c.g&&(B=c.g[m],g=Bs(B,g,S,F),-1<g&&(js(B[g]),Array.prototype.splice.call(B,g,1),B.length==0&&(delete c.g[m],c.h--)))):c&&(c=mr(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Bs(m,g,S,F)),(g=-1<c?m[c]:null)&&ya(g))}function ya(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[qt])Hn(m.i,c);else{var g=c.type,S=c.proxy;m.removeEventListener?m.removeEventListener(g,S,c.capture):m.detachEvent?m.detachEvent(Pc(g),S):m.addListener&&m.removeListener&&m.removeListener(S),(g=mr(m))?(Hn(g,c),g.h==0&&(g.src=null,m[ga]=null)):js(c)}}}function Pc(c){return c in Nn?Nn[c]:Nn[c]="on"+c}function fr(c,m){if(c.da)c=!0;else{m=new Tt(m,this);var g=c.listener,S=c.ha||c.src;c.fa&&ya(c),c=g.call(S,m)}return c}function mr(c){return c=c[ga],c instanceof ct?c:null}var zs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ji(c){return typeof c=="function"?c:(c[zs]||(c[zs]=function(m){return c.handleEvent(m)}),c[zs])}function Be(){Se.call(this),this.i=new ct(this),this.M=this,this.F=null}E(Be,Se),Be.prototype[qt]=!0,Be.prototype.removeEventListener=function(c,m,g,S){Cc(this,c,m,g,S)};function ze(c,m){var g,S=c.F;if(S)for(g=[];S;S=S.F)g.push(S);if(c=c.M,S=m.type||m,typeof m=="string")m=new Ve(m,c);else if(m instanceof Ve)m.target=m.target||c;else{var F=m;m=new Ve(S,c),A(m,F)}if(F=!0,g)for(var B=g.length-1;0<=B;B--){var G=m.g=g[B];F=Zi(G,S,!0,m)&&F}if(G=m.g=c,F=Zi(G,S,!0,m)&&F,F=Zi(G,S,!1,m)&&F,g)for(B=0;B<g.length;B++)G=m.g=g[B],F=Zi(G,S,!1,m)&&F}Be.prototype.N=function(){if(Be.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var g=c.g[m],S=0;S<g.length;S++)js(g[S]);delete c.g[m],c.h--}}this.F=null},Be.prototype.K=function(c,m,g,S){return this.i.add(String(c),m,!1,g,S)},Be.prototype.L=function(c,m,g,S){return this.i.add(String(c),m,!0,g,S)};function Zi(c,m,g,S){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var F=!0,B=0;B<m.length;++B){var G=m[B];if(G&&!G.da&&G.capture==g){var Oe=G.listener,bt=G.ha||G.src;G.fa&&Hn(c.i,G),F=Oe.call(bt,S)!==!1&&F}}return F&&!S.defaultPrevented}function es(c,m,g){if(typeof c=="function")g&&(c=p(c,g));else if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(c,m||0)}function Ac(c){c.g=es(()=>{c.g=null,c.i&&(c.i=!1,Ac(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class Wn extends Se{constructor(m,g){super(),this.m=m,this.l=g,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ac(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xr(c){Se.call(this),this.h=c,this.g={}}E(Xr,Se);var va=[];function wa(c){k(c.g,function(m,g){this.g.hasOwnProperty(g)&&ya(m)},c),c.g={}}Xr.prototype.N=function(){Xr.aa.N.call(this),wa(this)},Xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _a=a.JSON.stringify,Rc=a.JSON.parse,$s=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Hs(){}Hs.prototype.h=null;function Ws(c){return c.h||(c.h=c.i())}function qs(){}var ts={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ks(){Ve.call(this,"d")}E(Ks,Ve);function Ea(){Ve.call(this,"c")}E(Ea,Ve);var qn={},ns=null;function pr(){return ns=ns||new Be}qn.La="serverreachability";function Nc(c){Ve.call(this,qn.La,c)}E(Nc,Ve);function rs(c){const m=pr();ze(m,new Nc(m))}qn.STAT_EVENT="statevent";function M(c,m){Ve.call(this,qn.STAT_EVENT,c),this.stat=m}E(M,Ve);function O(c){const m=pr();ze(m,new M(m,c))}qn.Ma="timingevent";function U(c,m){Ve.call(this,qn.Ma,c),this.size=m}E(U,Ve);function H(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},m)}function Q(){this.g=!0}Q.prototype.xa=function(){this.g=!1};function se(c,m,g,S,F,B){c.info(function(){if(c.g)if(B)for(var G="",Oe=B.split("&"),bt=0;bt<Oe.length;bt++){var Ne=Oe[bt].split("=");if(1<Ne.length){var Lt=Ne[0];Ne=Ne[1];var Mt=Lt.split("_");G=2<=Mt.length&&Mt[1]=="type"?G+(Lt+"="+Ne+"&"):G+(Lt+"=redacted&")}}else G=null;else G=B;return"XMLHTTP REQ ("+S+") [attempt "+F+"]: "+m+`
`+g+`
`+G})}function fe(c,m,g,S,F,B,G){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+F+"]: "+m+`
`+g+`
`+B+" "+G})}function Y(c,m,g,S){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+J(c,g)+(S?" "+S:"")})}function te(c,m){c.info(function(){return"TIMEOUT: "+m})}Q.prototype.info=function(){};function J(c,m){if(!c.g)return m;if(!m)return null;try{var g=JSON.parse(m);if(g){for(c=0;c<g.length;c++)if(Array.isArray(g[c])){var S=g[c];if(!(2>S.length)){var F=S[1];if(Array.isArray(F)&&!(1>F.length)){var B=F[0];if(B!="noop"&&B!="stop"&&B!="close")for(var G=1;G<F.length;G++)F[G]=""}}}}return _a(g)}catch{return m}}var ne={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ve={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_e;function nt(){}E(nt,Hs),nt.prototype.g=function(){return new XMLHttpRequest},nt.prototype.i=function(){return{}},_e=new nt;function be(c,m,g,S){this.j=c,this.i=m,this.l=g,this.R=S||1,this.U=new Xr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ie}function Ie(){this.i=null,this.g="",this.h=!1}var $e={},Kn={};function gr(c,m,g){c.L=1,c.v=Lc(vr(m)),c.m=g,c.P=!0,Tn(c,null)}function Tn(c,m){c.F=Date.now(),Gn(c),c.A=vr(c.v);var g=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),fy(g.i,"t",S),c.C=0,g=c.j.J,c.h=new Ie,c.g=Ny(c.j,g?m:null,!c.m),0<c.O&&(c.M=new Wn(p(c.Y,c,c.g),c.O)),m=c.U,g=c.g,S=c.ca;var F="readystatechange";Array.isArray(F)||(F&&(va[0]=F.toString()),F=va);for(var B=0;B<F.length;B++){var G=xc(g,F[B],S||m.handleEvent,!1,m.h||m);if(!G)break;m.g[G.key]=G}m=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),rs(),se(c.i,c.u,c.A,c.l,c.R,c.m)}be.prototype.ca=function(c){c=c.target;const m=this.M;m&&wr(c)==3?m.j():this.Y(c)},be.prototype.Y=function(c){try{if(c==this.g)e:{const Mt=wr(this.g);var m=this.g.Ba();const Xs=this.g.Z();if(!(3>Mt)&&(Mt!=3||this.g&&(this.h.h||this.g.oa()||_y(this.g)))){this.J||Mt!=4||m==7||(m==8||0>=Xs?rs(3):rs(2)),Jr(this);var g=this.g.Z();this.X=g;t:if(cn(this)){var S=_y(this.g);c="";var F=S.length,B=wr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ge(this),Yn(this);var G="";break t}this.h.i=new a.TextDecoder}for(m=0;m<F;m++)this.h.h=!0,c+=this.h.i.decode(S[m],{stream:!(B&&m==F-1)});S.length=0,this.h.g+=c,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=g==200,fe(this.i,this.u,this.A,this.l,this.R,Mt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Oe,bt=this.g;if((Oe=bt.g?bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Oe)){var Ne=Oe;break t}}Ne=null}if(g=Ne)Y(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fe(this,g);else{this.o=!1,this.s=3,O(12),ge(this),Yn(this);break e}}if(this.P){g=!0;let kn;for(;!this.J&&this.C<G.length;)if(kn=Ta(this,G),kn==Kn){Mt==4&&(this.s=4,O(14),g=!1),Y(this.i,this.l,null,"[Incomplete Response]");break}else if(kn==$e){this.s=4,O(15),Y(this.i,this.l,G,"[Invalid Chunk]"),g=!1;break}else Y(this.i,this.l,kn,null),Fe(this,kn);if(cn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mt!=4||G.length!=0||this.h.h||(this.s=1,O(16),g=!1),this.o=this.o&&g,!g)Y(this.i,this.l,G,"[Invalid Chunked Response]"),ge(this),Yn(this);else if(0<G.length&&!this.W){this.W=!0;var Lt=this.j;Lt.g==this&&Lt.ba&&!Lt.M&&(Lt.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),Gh(Lt),Lt.M=!0,O(11))}}else Y(this.i,this.l,G,null),Fe(this,G);Mt==4&&ge(this),this.o&&!this.J&&(Mt==4?Cy(this.j,this):(this.o=!1,Gn(this)))}else BI(this.g),g==400&&0<G.indexOf("Unknown SID")?(this.s=3,O(12)):(this.s=0,O(13)),ge(this),Yn(this)}}}catch{}finally{}};function cn(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ta(c,m){var g=c.C,S=m.indexOf(`
`,g);return S==-1?Kn:(g=Number(m.substring(g,S)),isNaN(g)?$e:(S+=1,S+g>m.length?Kn:(m=m.slice(S,S+g),c.C=S+g,m)))}be.prototype.cancel=function(){this.J=!0,ge(this)};function Gn(c){c.S=Date.now()+c.I,Qn(c,c.I)}function Qn(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=H(p(c.ba,c),m)}function Jr(c){c.B&&(a.clearTimeout(c.B),c.B=null)}be.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(te(this.i,this.A),this.L!=2&&(rs(),O(17)),ge(this),this.s=2,Yn(this)):Qn(this,this.S-c)};function Yn(c){c.j.G==0||c.J||Cy(c.j,c)}function ge(c){Jr(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,wa(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function Fe(c,m){try{var g=c.j;if(g.G!=0&&(g.g==c||Gs(g.h,c))){if(!c.K&&Gs(g.h,c)&&g.G==3){try{var S=g.Da.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var F=S;if(F[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<c.F)jc(g),Fc(g);else break e;Kh(g),O(18)}}else g.za=F[1],0<g.za-g.T&&37500>F[2]&&g.F&&g.v==0&&!g.C&&(g.C=H(p(g.Za,g),6e3));if(1>=yr(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else ss(g,11)}else if((c.K||g.g==c)&&jc(g),!_(m))for(F=g.Da.g.parse(m),m=0;m<F.length;m++){let Ne=F[m];if(g.T=Ne[0],Ne=Ne[1],g.G==2)if(Ne[0]=="c"){g.K=Ne[1],g.ia=Ne[2];const Lt=Ne[3];Lt!=null&&(g.la=Lt,g.j.info("VER="+g.la));const Mt=Ne[4];Mt!=null&&(g.Aa=Mt,g.j.info("SVER="+g.Aa));const Xs=Ne[5];Xs!=null&&typeof Xs=="number"&&0<Xs&&(S=1.5*Xs,g.L=S,g.j.info("backChannelRequestTimeoutMs_="+S)),S=g;const kn=c.g;if(kn){const zc=kn.g?kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zc){var B=S.h;B.g||zc.indexOf("spdy")==-1&&zc.indexOf("quic")==-1&&zc.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(xa(B,B.h),B.h=null))}if(S.D){const Qh=kn.g?kn.g.getResponseHeader("X-HTTP-Session-Id"):null;Qh&&(S.ya=Qh,He(S.I,S.D,Qh))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-c.F,g.j.info("Handshake RTT: "+g.R+"ms")),S=g;var G=c;if(S.qa=Ry(S,S.J?S.ia:null,S.W),G.K){sy(S.h,G);var Oe=G,bt=S.L;bt&&(Oe.I=bt),Oe.B&&(Jr(Oe),Gn(Oe)),S.g=G}else Sy(S);0<g.i.length&&Uc(g)}else Ne[0]!="stop"&&Ne[0]!="close"||ss(g,7);else g.G==3&&(Ne[0]=="stop"||Ne[0]=="close"?Ne[0]=="stop"?ss(g,7):qh(g):Ne[0]!="noop"&&g.l&&g.l.ta(Ne),g.v=0)}}rs(4)}catch{}}var Zr=class{constructor(c,m){this.g=c,this.map=m}};function ei(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ye(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function yr(c){return c.h?1:c.g?c.g.size:0}function Gs(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function xa(c,m){c.g?c.g.add(m):c.h=m}function sy(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}ei.prototype.cancel=function(){if(this.i=oy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function oy(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const g of c.g.values())m=m.concat(g.D);return m}return b(c.i)}function II(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var m=[],g=c.length,S=0;S<g;S++)m.push(c[S]);return m}m=[],g=0;for(S in c)m[g++]=c[S];return m}function CI(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var m=[];c=c.length;for(var g=0;g<c;g++)m.push(g);return m}m=[],g=0;for(const S in c)m[g++]=S;return m}}}function ay(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var g=CI(c),S=II(c),F=S.length,B=0;B<F;B++)m.call(void 0,S[B],g&&g[B],c)}var ly=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function PI(c,m){if(c){c=c.split("&");for(var g=0;g<c.length;g++){var S=c[g].indexOf("="),F=null;if(0<=S){var B=c[g].substring(0,S);F=c[g].substring(S+1)}else B=c[g];m(B,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function is(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof is){this.h=c.h,kc(this,c.j),this.o=c.o,this.g=c.g,Dc(this,c.s),this.l=c.l;var m=c.i,g=new Ia;g.i=m.i,m.g&&(g.g=new Map(m.g),g.h=m.h),cy(this,g),this.m=c.m}else c&&(m=String(c).match(ly))?(this.h=!1,kc(this,m[1]||"",!0),this.o=ba(m[2]||""),this.g=ba(m[3]||"",!0),Dc(this,m[4]),this.l=ba(m[5]||"",!0),cy(this,m[6]||"",!0),this.m=ba(m[7]||"")):(this.h=!1,this.i=new Ia(null,this.h))}is.prototype.toString=function(){var c=[],m=this.j;m&&c.push(Sa(m,uy,!0),":");var g=this.g;return(g||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Sa(m,uy,!0),"@"),c.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&c.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&c.push("/"),c.push(Sa(g,g.charAt(0)=="/"?NI:RI,!0))),(g=this.i.toString())&&c.push("?",g),(g=this.m)&&c.push("#",Sa(g,DI)),c.join("")};function vr(c){return new is(c)}function kc(c,m,g){c.j=g?ba(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function Dc(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function cy(c,m,g){m instanceof Ia?(c.i=m,LI(c.i,c.h)):(g||(m=Sa(m,kI)),c.i=new Ia(m,c.h))}function He(c,m,g){c.i.set(m,g)}function Lc(c){return He(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ba(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Sa(c,m,g){return typeof c=="string"?(c=encodeURI(c).replace(m,AI),g&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function AI(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var uy=/[#\/\?@]/g,RI=/[#\?:]/g,NI=/[#\?]/g,kI=/[#\?@]/g,DI=/#/g;function Ia(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function ti(c){c.g||(c.g=new Map,c.h=0,c.i&&PI(c.i,function(m,g){c.add(decodeURIComponent(m.replace(/\+/g," ")),g)}))}t=Ia.prototype,t.add=function(c,m){ti(this),this.i=null,c=Qs(this,c);var g=this.g.get(c);return g||this.g.set(c,g=[]),g.push(m),this.h+=1,this};function dy(c,m){ti(c),m=Qs(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function hy(c,m){return ti(c),m=Qs(c,m),c.g.has(m)}t.forEach=function(c,m){ti(this),this.g.forEach(function(g,S){g.forEach(function(F){c.call(m,F,S,this)},this)},this)},t.na=function(){ti(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),g=[];for(let S=0;S<m.length;S++){const F=c[S];for(let B=0;B<F.length;B++)g.push(m[S])}return g},t.V=function(c){ti(this);let m=[];if(typeof c=="string")hy(this,c)&&(m=m.concat(this.g.get(Qs(this,c))));else{c=Array.from(this.g.values());for(let g=0;g<c.length;g++)m=m.concat(c[g])}return m},t.set=function(c,m){return ti(this),this.i=null,c=Qs(this,c),hy(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},t.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function fy(c,m,g){dy(c,m),0<g.length&&(c.i=null,c.g.set(Qs(c,m),b(g)),c.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var g=0;g<m.length;g++){var S=m[g];const B=encodeURIComponent(String(S)),G=this.V(S);for(S=0;S<G.length;S++){var F=B;G[S]!==""&&(F+="="+encodeURIComponent(String(G[S]))),c.push(F)}}return this.i=c.join("&")};function Qs(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function LI(c,m){m&&!c.j&&(ti(c),c.i=null,c.g.forEach(function(g,S){var F=S.toLowerCase();S!=F&&(dy(this,S),fy(this,F,g))},c)),c.j=m}function MI(c,m){const g=new Q;if(a.Image){const S=new Image;S.onload=y(ni,g,"TestLoadImage: loaded",!0,m,S),S.onerror=y(ni,g,"TestLoadImage: error",!1,m,S),S.onabort=y(ni,g,"TestLoadImage: abort",!1,m,S),S.ontimeout=y(ni,g,"TestLoadImage: timeout",!1,m,S),a.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else m(!1)}function VI(c,m){const g=new Q,S=new AbortController,F=setTimeout(()=>{S.abort(),ni(g,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:S.signal}).then(B=>{clearTimeout(F),B.ok?ni(g,"TestPingServer: ok",!0,m):ni(g,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(F),ni(g,"TestPingServer: error",!1,m)})}function ni(c,m,g,S,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),S(g)}catch{}}function OI(){this.g=new $s}function FI(c,m,g){const S=g||"";try{ay(c,function(F,B){let G=F;u(F)&&(G=_a(F)),m.push(S+B+"="+encodeURIComponent(G))})}catch(F){throw m.push(S+"type="+encodeURIComponent("_badmap")),F}}function Mc(c){this.l=c.Ub||null,this.j=c.eb||!1}E(Mc,Hs),Mc.prototype.g=function(){return new Vc(this.l,this.j)},Mc.prototype.i=function(c){return function(){return c}}({});function Vc(c,m){Be.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(Vc,Be),t=Vc.prototype,t.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,Pa(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ca(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Pa(this)),this.g&&(this.readyState=3,Pa(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;my(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function my(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?Ca(this):Pa(this),this.readyState==3&&my(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Ca(this))},t.Qa=function(c){this.g&&(this.response=c,Ca(this))},t.ga=function(){this.g&&Ca(this)};function Ca(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Pa(c)}t.setRequestHeader=function(c,m){this.u.append(c,m)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var g=m.next();!g.done;)g=g.value,c.push(g[0]+": "+g[1]),g=m.next();return c.join(`\r
`)};function Pa(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Vc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function py(c){let m="";return k(c,function(g,S){m+=S,m+=":",m+=g,m+=`\r
`}),m}function Wh(c,m,g){e:{for(S in g){var S=!1;break e}S=!0}S||(g=py(g),typeof c=="string"?g!=null&&encodeURIComponent(String(g)):He(c,m,g))}function rt(c){Be.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(rt,Be);var UI=/^https?$/i,jI=["POST","PUT"];t=rt.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,m,g,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_e.g(),this.v=this.o?Ws(this.o):Ws(_e),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(B){gy(this,B);return}if(c=g||"",g=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var F in S)g.set(F,S[F]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const B of S.keys())g.set(B,S.get(B));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(g.keys()).find(B=>B.toLowerCase()=="content-type"),F=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(jI,m,void 0))||S||F||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,G]of g)this.g.setRequestHeader(B,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{wy(this),this.u=!0,this.g.send(c),this.u=!1}catch(B){gy(this,B)}};function gy(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,yy(c),Oc(c)}function yy(c){c.A||(c.A=!0,ze(c,"complete"),ze(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ze(this,"complete"),ze(this,"abort"),Oc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Oc(this,!0)),rt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?vy(this):this.bb())},t.bb=function(){vy(this)};function vy(c){if(c.h&&typeof o<"u"&&(!c.v[1]||wr(c)!=4||c.Z()!=2)){if(c.u&&wr(c)==4)es(c.Ea,0,c);else if(ze(c,"readystatechange"),wr(c)==4){c.h=!1;try{const G=c.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var g;if(!(g=m)){var S;if(S=G===0){var F=String(c.D).match(ly)[1]||null;!F&&a.self&&a.self.location&&(F=a.self.location.protocol.slice(0,-1)),S=!UI.test(F?F.toLowerCase():"")}g=S}if(g)ze(c,"complete"),ze(c,"success");else{c.m=6;try{var B=2<wr(c)?c.g.statusText:""}catch{B=""}c.l=B+" ["+c.Z()+"]",yy(c)}}finally{Oc(c)}}}}function Oc(c,m){if(c.g){wy(c);const g=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||ze(c,"ready");try{g.onreadystatechange=S}catch{}}}function wy(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function wr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<wr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Rc(m)}};function _y(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function BI(c){const m={};c=(c.g&&2<=wr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(_(c[S]))continue;var g=D(c[S]);const F=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const B=m[F]||[];m[F]=B,B.push(g)}P(m,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Aa(c,m,g){return g&&g.internalChannelParams&&g.internalChannelParams[c]||m}function Ey(c){this.Aa=0,this.i=[],this.j=new Q,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Aa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Aa("baseRetryDelayMs",5e3,c),this.cb=Aa("retryDelaySeedMs",1e4,c),this.Wa=Aa("forwardChannelMaxRetries",2,c),this.wa=Aa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new ei(c&&c.concurrentRequestLimit),this.Da=new OI,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ey.prototype,t.la=8,t.G=1,t.connect=function(c,m,g,S){O(0),this.W=c,this.H=m||{},g&&S!==void 0&&(this.H.OSID=g,this.H.OAID=S),this.F=this.X,this.I=Ry(this,null,this.W),Uc(this)};function qh(c){if(Ty(c),c.G==3){var m=c.U++,g=vr(c.I);if(He(g,"SID",c.K),He(g,"RID",m),He(g,"TYPE","terminate"),Ra(c,g),m=new be(c,c.j,m),m.L=2,m.v=Lc(vr(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=m.v,g=!0),g||(m.g=Ny(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Gn(m)}Ay(c)}function Fc(c){c.g&&(Gh(c),c.g.cancel(),c.g=null)}function Ty(c){Fc(c),c.u&&(a.clearTimeout(c.u),c.u=null),jc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Uc(c){if(!Ye(c.h)&&!c.s){c.s=!0;var m=c.Ga;re||ce(),W||(re(),W=!0),ie.add(m,c),c.B=0}}function zI(c,m){return yr(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=H(p(c.Ga,c,m),Py(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const F=new be(this,this.j,c);let B=this.o;if(this.S&&(B?(B=w(B),A(B,this.S)):B=this.S),this.m!==null||this.O||(F.H=B,B=null),this.P)e:{for(var m=0,g=0;g<this.i.length;g++){t:{var S=this.i[g];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(m+=S,4096<m){m=g;break e}if(m===4096||g===this.i.length-1){m=g+1;break e}}m=1e3}else m=1e3;m=by(this,F,m),g=vr(this.I),He(g,"RID",c),He(g,"CVER",22),this.D&&He(g,"X-HTTP-Session-Id",this.D),Ra(this,g),B&&(this.O?m="headers="+encodeURIComponent(String(py(B)))+"&"+m:this.m&&Wh(g,this.m,B)),xa(this.h,F),this.Ua&&He(g,"TYPE","init"),this.P?(He(g,"$req",m),He(g,"SID","null"),F.T=!0,gr(F,g,null)):gr(F,g,m),this.G=2}}else this.G==3&&(c?xy(this,c):this.i.length==0||Ye(this.h)||xy(this))};function xy(c,m){var g;m?g=m.l:g=c.U++;const S=vr(c.I);He(S,"SID",c.K),He(S,"RID",g),He(S,"AID",c.T),Ra(c,S),c.m&&c.o&&Wh(S,c.m,c.o),g=new be(c,c.j,g,c.B+1),c.m===null&&(g.H=c.o),m&&(c.i=m.D.concat(c.i)),m=by(c,g,1e3),g.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),xa(c.h,g),gr(g,S,m)}function Ra(c,m){c.H&&k(c.H,function(g,S){He(m,S,g)}),c.l&&ay({},function(g,S){He(m,S,g)})}function by(c,m,g){g=Math.min(c.i.length,g);var S=c.l?p(c.l.Na,c.l,c):null;e:{var F=c.i;let B=-1;for(;;){const G=["count="+g];B==-1?0<g?(B=F[0].g,G.push("ofs="+B)):B=0:G.push("ofs="+B);let Oe=!0;for(let bt=0;bt<g;bt++){let Ne=F[bt].g;const Lt=F[bt].map;if(Ne-=B,0>Ne)B=Math.max(0,F[bt].g-100),Oe=!1;else try{FI(Lt,G,"req"+Ne+"_")}catch{S&&S(Lt)}}if(Oe){S=G.join("&");break e}}}return c=c.i.splice(0,g),m.D=c,S}function Sy(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;re||ce(),W||(re(),W=!0),ie.add(m,c),c.v=0}}function Kh(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=H(p(c.Fa,c),Py(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Iy(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=H(p(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,O(10),Fc(this),Iy(this))};function Gh(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Iy(c){c.g=new be(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=vr(c.qa);He(m,"RID","rpc"),He(m,"SID",c.K),He(m,"AID",c.T),He(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&He(m,"TO",c.ja),He(m,"TYPE","xmlhttp"),Ra(c,m),c.m&&c.o&&Wh(m,c.m,c.o),c.L&&(c.g.I=c.L);var g=c.g;c=c.ia,g.L=1,g.v=Lc(vr(m)),g.m=null,g.P=!0,Tn(g,c)}t.Za=function(){this.C!=null&&(this.C=null,Fc(this),Kh(this),O(19))};function jc(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Cy(c,m){var g=null;if(c.g==m){jc(c),Gh(c),c.g=null;var S=2}else if(Gs(c.h,m))g=m.D,sy(c.h,m),S=1;else return;if(c.G!=0){if(m.o)if(S==1){g=m.m?m.m.length:0,m=Date.now()-m.F;var F=c.B;S=pr(),ze(S,new U(S,g)),Uc(c)}else Sy(c);else if(F=m.s,F==3||F==0&&0<m.X||!(S==1&&zI(c,m)||S==2&&Kh(c)))switch(g&&0<g.length&&(m=c.h,m.i=m.i.concat(g)),F){case 1:ss(c,5);break;case 4:ss(c,10);break;case 3:ss(c,6);break;default:ss(c,2)}}}function Py(c,m){let g=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(g*=2),g*m}function ss(c,m){if(c.j.info("Error code "+m),m==2){var g=p(c.fb,c),S=c.Xa;const F=!S;S=new is(S||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||kc(S,"https"),Lc(S),F?MI(S.toString(),g):VI(S.toString(),g)}else O(2);c.G=0,c.l&&c.l.sa(m),Ay(c),Ty(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),O(2)):(this.j.info("Failed to ping google.com"),O(1))};function Ay(c){if(c.G=0,c.ka=[],c.l){const m=oy(c.h);(m.length!=0||c.i.length!=0)&&(R(c.ka,m),R(c.ka,c.i),c.h.i.length=0,b(c.i),c.i.length=0),c.l.ra()}}function Ry(c,m,g){var S=g instanceof is?vr(g):new is(g);if(S.g!="")m&&(S.g=m+"."+S.g),Dc(S,S.s);else{var F=a.location;S=F.protocol,m=m?m+"."+F.hostname:F.hostname,F=+F.port;var B=new is(null);S&&kc(B,S),m&&(B.g=m),F&&Dc(B,F),g&&(B.l=g),S=B}return g=c.D,m=c.ya,g&&m&&He(S,g,m),He(S,"VER",c.la),Ra(c,S),S}function Ny(c,m,g){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new rt(new Mc({eb:g})):new rt(c.pa),m.Ha(c.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ky(){}t=ky.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Bc(){}Bc.prototype.g=function(c,m){return new un(c,m)};function un(c,m){Be.call(this),this.g=new Ey(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!_(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!_(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Ys(this)}E(un,Be),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){qh(this.g)},un.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var g={};g.__data__=c,c=g}else this.u&&(g={},g.__data__=_a(c),c=g);m.i.push(new Zr(m.Ya++,c)),m.G==3&&Uc(m)},un.prototype.N=function(){this.g.l=null,delete this.j,qh(this.g),delete this.g,un.aa.N.call(this)};function Dy(c){Ks.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const g in m){c=g;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}E(Dy,Ks);function Ly(){Ea.call(this),this.status=1}E(Ly,Ea);function Ys(c){this.g=c}E(Ys,ky),Ys.prototype.ua=function(){ze(this.g,"a")},Ys.prototype.ta=function(c){ze(this.g,new Dy(c))},Ys.prototype.sa=function(c){ze(this.g,new Ly)},Ys.prototype.ra=function(){ze(this.g,"b")},Bc.prototype.createWebChannel=Bc.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,eS=function(){return new Bc},Zb=function(){return pr()},Jb=qn,vp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ne.NO_ERROR=0,ne.TIMEOUT=8,ne.HTTP_ERROR=6,Ou=ne,ve.COMPLETE="complete",Xb=ve,qs.EventType=ts,ts.OPEN="a",ts.CLOSE="b",ts.ERROR="c",ts.MESSAGE="d",Be.prototype.listen=Be.prototype.K,tl=qs,rt.prototype.listenOnce=rt.prototype.L,rt.prototype.getLastError=rt.prototype.Ka,rt.prototype.getLastErrorCode=rt.prototype.Ba,rt.prototype.getStatus=rt.prototype.Z,rt.prototype.getResponseJson=rt.prototype.Oa,rt.prototype.getResponseText=rt.prototype.oa,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Ha,Yb=rt}).apply(typeof hu<"u"?hu:typeof self<"u"?self:typeof window<"u"?window:{});const r_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jt.UNAUTHENTICATED=new jt(null),jt.GOOGLE_CREDENTIALS=new jt("google-credentials-uid"),jt.FIRST_PARTY=new jt("first-party-uid"),jt.MOCK_USER=new jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ua="11.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds=new m0("@firebase/firestore");function to(){return Ds.logLevel}function X(t,...e){if(Ds.logLevel<=Te.DEBUG){const n=e.map(I0);Ds.debug(`Firestore (${ua}): ${t}`,...n)}}function $r(t,...e){if(Ds.logLevel<=Te.ERROR){const n=e.map(I0);Ds.error(`Firestore (${ua}): ${t}`,...n)}}function Qo(t,...e){if(Ds.logLevel<=Te.WARN){const n=e.map(I0);Ds.warn(`Firestore (${ua}): ${t}`,...n)}}function I0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(t="Unexpected state"){const e=`FIRESTORE (${ua}) INTERNAL ASSERTION FAILED: `+t;throw $r(e),new Error(e)}function ke(t,e){t||he()}function pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ee extends Yr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(jt.UNAUTHENTICATED))}shutdown(){}}class dO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class hO{constructor(e){this.t=e,this.currentUser=jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ke(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Mr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Mr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Mr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ke(typeof r.accessToken=="string"),new tS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ke(e===null||typeof e=="string"),new jt(e)}}class fO{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=jt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class mO{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new fO(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class pO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gO{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ke(this.o===void 0);const r=s=>{s.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,X("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ke(typeof n.token=="string"),this.R=n.token,new pO(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=yO(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Pe(t,e){return t<e?-1:t>e?1:0}function Yo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ee($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ee($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ee($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ee($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new gt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.timestamp=e}static fromTimestamp(e){return new me(e)}static min(){return new me(new gt(0,0))}static max(){return new me(new gt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n,r){n===void 0?n=0:n>e.length&&he(),r===void 0?r=e.length-n:r>e.length-n&&he(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Gl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Gl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class qe extends Gl{construct(e,n,r){return new qe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ee($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new qe(n)}static emptyPath(){return new qe([])}}const vO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pt extends Gl{construct(e,n,r){return new Pt(e,n,r)}static isValidIdentifier(e){return vO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Pt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ee($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ee($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ee($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ee($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pt(n)}static emptyPath(){return new Pt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.path=e}static fromPath(e){return new ae(qe.fromString(e))}static fromName(e){return new ae(qe.fromString(e).popFirst(5))}static empty(){return new ae(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ae(new qe(e.slice()))}}function wO(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=me.fromTimestamp(r===1e9?new gt(n+1,0):new gt(n,r));return new Ui(i,ae.empty(),e)}function _O(t){return new Ui(t.readTime,t.key,-1)}class Ui{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ui(me.min(),ae.empty(),-1)}static max(){return new Ui(me.max(),ae.empty(),-1)}}function EO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ae.comparator(t.documentKey,e.documentKey),n!==0?n:Pe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function da(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==TO)throw t;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&he(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(i=>i?z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new z((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new z((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function bO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ha(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Sh.oe=-1;function Ih(t){return t==null}function Od(t){return t===0&&1/t==-1/0}function SO(t){return typeof t=="number"&&Number.isInteger(t)&&!Od(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=i_(e)),e=CO(t.get(n),e);return i_(e)}function CO(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function i_(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Yi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function rS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e,n){this.comparator=e,this.root=n||Ct.EMPTY}insert(e,n){return new tt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ct.BLACK,null,null))}remove(e){return new tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ct.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fu(this.root,e,this.comparator,!1)}getReverseIterator(){return new fu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fu(this.root,e,this.comparator,!0)}}class fu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ct{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ct.RED,this.left=i??Ct.EMPTY,this.right=s??Ct.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ct(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ct.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ct.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw he();const e=this.left.check();if(e!==this.right.check())throw he();return e+(this.isRed()?0:1)}}Ct.EMPTY=null,Ct.RED=!0,Ct.BLACK=!1;Ct.EMPTY=new class{constructor(){this.size=0}get key(){throw he()}get value(){throw he()}get color(){throw he()}get left(){throw he()}get right(){throw he()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Ct(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.comparator=e,this.data=new tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new o_(this.data.getIterator())}getIteratorFrom(e){return new o_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof _t)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new _t(this.comparator);return n.data=e,n}}class o_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.fields=e,e.sort(Pt.comparator)}static empty(){return new mn([])}unionWith(e){let n=new _t(Pt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new mn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Yo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new iS("Invalid base64 string: "+s):s}}(e);return new Dt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Dt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dt.EMPTY_BYTE_STRING=new Dt("");const PO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ji(t){if(ke(!!t),typeof t=="string"){let e=0;const n=PO.exec(t);if(ke(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:at(t.seconds),nanos:at(t.nanos)}}function at(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Bi(t){return typeof t=="string"?Dt.fromBase64String(t):Dt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Ch(t){const e=t.mapValue.fields.__previous_value__;return C0(e)?Ch(e):e}function Ql(t){const e=ji(t.mapValue.fields.__local_write_time__.timestampValue);return new gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Yl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Yl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Yl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function zi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?C0(t)?4:NO(t)?9007199254740991:RO(t)?10:11:he()}function dr(t,e){if(t===e)return!0;const n=zi(t);if(n!==zi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ql(t).isEqual(Ql(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ji(i.timestampValue),a=ji(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Bi(i.bytesValue).isEqual(Bi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return at(i.geoPointValue.latitude)===at(s.geoPointValue.latitude)&&at(i.geoPointValue.longitude)===at(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return at(i.integerValue)===at(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=at(i.doubleValue),a=at(s.doubleValue);return o===a?Od(o)===Od(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Yo(t.arrayValue.values||[],e.arrayValue.values||[],dr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(s_(o)!==s_(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!dr(o[l],a[l])))return!1;return!0}(t,e);default:return he()}}function Xl(t,e){return(t.values||[]).find(n=>dr(n,e))!==void 0}function Xo(t,e){if(t===e)return 0;const n=zi(t),r=zi(e);if(n!==r)return Pe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=at(s.integerValue||s.doubleValue),l=at(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return a_(t.timestampValue,e.timestampValue);case 4:return a_(Ql(t),Ql(e));case 5:return Pe(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Bi(s),l=Bi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=Pe(a[u],l[u]);if(d!==0)return d}return Pe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Pe(at(s.latitude),at(o.latitude));return a!==0?a:Pe(at(s.longitude),at(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return l_(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,d;const h=s.fields||{},p=o.fields||{},y=(a=h.value)===null||a===void 0?void 0:a.arrayValue,E=(l=p.value)===null||l===void 0?void 0:l.arrayValue,b=Pe(((u=y==null?void 0:y.values)===null||u===void 0?void 0:u.length)||0,((d=E==null?void 0:E.values)===null||d===void 0?void 0:d.length)||0);return b!==0?b:l_(y,E)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===mu.mapValue&&o===mu.mapValue)return 0;if(s===mu.mapValue)return 1;if(o===mu.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const p=Pe(l[h],d[h]);if(p!==0)return p;const y=Xo(a[l[h]],u[d[h]]);if(y!==0)return y}return Pe(l.length,d.length)}(t.mapValue,e.mapValue);default:throw he()}}function a_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Pe(t,e);const n=ji(t),r=ji(e),i=Pe(n.seconds,r.seconds);return i!==0?i:Pe(n.nanos,r.nanos)}function l_(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Xo(n[i],r[i]);if(s)return s}return Pe(n.length,r.length)}function Jo(t){return wp(t)}function wp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ji(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Bi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ae.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=wp(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${wp(n.fields[o])}`;return i+"}"}(t.mapValue):he()}function Fu(t){switch(zi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ch(t);return e?16+Fu(e):16;case 5:return 2*t.stringValue.length;case 6:return Bi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Fu(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Yi(r.fields,(s,o)=>{i+=s.length+Fu(o)}),i}(t.mapValue);default:throw he()}}function c_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function _p(t){return!!t&&"integerValue"in t}function P0(t){return!!t&&"arrayValue"in t}function u_(t){return!!t&&"nullValue"in t}function d_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Uu(t){return!!t&&"mapValue"in t}function RO(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function vl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Yi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=vl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=vl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function NO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.value=e}static empty(){return new nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Uu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=vl(n)}setAll(e){let n=Pt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=vl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Uu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return dr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Uu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Yi(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new nn(vl(this.value))}}function sS(t){const e=[];return Yi(t.fields,(n,r)=>{const i=new Pt([n]);if(Uu(r)){const s=sS(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new zt(e,0,me.min(),me.min(),me.min(),nn.empty(),0)}static newFoundDocument(e,n,r,i){return new zt(e,1,n,me.min(),r,i,0)}static newNoDocument(e,n){return new zt(e,2,n,me.min(),me.min(),nn.empty(),0)}static newUnknownDocument(e,n){return new zt(e,3,n,me.min(),me.min(),nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,n){this.position=e,this.inclusive=n}}function h_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ae.comparator(ae.fromName(o.referenceValue),n.key):r=Xo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function f_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!dr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,n="asc"){this.field=e,this.dir=n}}function kO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{}class ht extends oS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new LO(e,n,r):n==="array-contains"?new OO(e,r):n==="in"?new FO(e,r):n==="not-in"?new UO(e,r):n==="array-contains-any"?new jO(e,r):new ht(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new MO(e,r):new VO(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Xo(n,this.value)):n!==null&&zi(this.value)===zi(n)&&this.matchesComparison(Xo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return he()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $n extends oS{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new $n(e,n)}matches(e){return aS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function aS(t){return t.op==="and"}function lS(t){return DO(t)&&aS(t)}function DO(t){for(const e of t.filters)if(e instanceof $n)return!1;return!0}function Ep(t){if(t instanceof ht)return t.field.canonicalString()+t.op.toString()+Jo(t.value);if(lS(t))return t.filters.map(e=>Ep(e)).join(",");{const e=t.filters.map(n=>Ep(n)).join(",");return`${t.op}(${e})`}}function cS(t,e){return t instanceof ht?function(r,i){return i instanceof ht&&r.op===i.op&&r.field.isEqual(i.field)&&dr(r.value,i.value)}(t,e):t instanceof $n?function(r,i){return i instanceof $n&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&cS(o,i.filters[a]),!0):!1}(t,e):void he()}function uS(t){return t instanceof ht?function(n){return`${n.field.canonicalString()} ${n.op} ${Jo(n.value)}`}(t):t instanceof $n?function(n){return n.op.toString()+" {"+n.getFilters().map(uS).join(" ,")+"}"}(t):"Filter"}class LO extends ht{constructor(e,n,r){super(e,n,r),this.key=ae.fromName(r.referenceValue)}matches(e){const n=ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class MO extends ht{constructor(e,n){super(e,"in",n),this.keys=dS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class VO extends ht{constructor(e,n){super(e,"not-in",n),this.keys=dS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function dS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ae.fromName(r.referenceValue))}class OO extends ht{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return P0(n)&&Xl(n.arrayValue,this.value)}}class FO extends ht{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xl(this.value.arrayValue,n)}}class UO extends ht{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Xl(this.value.arrayValue,n)}}class jO extends ht{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!P0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Xl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function m_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new BO(t,e,n,r,i,s,o)}function A0(t){const e=pe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ep(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Ih(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Jo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Jo(r)).join(",")),e.ue=n}return e.ue}function R0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!kO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!cS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!f_(t.startAt,e.startAt)&&f_(t.endAt,e.endAt)}function Tp(t){return ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function zO(t,e,n,r,i,s,o,a){return new yc(t,e,n,r,i,s,o,a)}function N0(t){return new yc(t)}function p_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function hS(t){return t.collectionGroup!==null}function wl(t){const e=pe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new _t(Pt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Ud(s,r))}),n.has(Pt.keyField().canonicalString())||e.ce.push(new Ud(Pt.keyField(),r))}return e.ce}function cr(t){const e=pe(t);return e.le||(e.le=$O(e,wl(t))),e.le}function $O(t,e){if(t.limitType==="F")return m_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Ud(i.field,s)});const n=t.endAt?new Fd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Fd(t.startAt.position,t.startAt.inclusive):null;return m_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function xp(t,e){const n=t.filters.concat([e]);return new yc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function bp(t,e,n){return new yc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ph(t,e){return R0(cr(t),cr(e))&&t.limitType===e.limitType}function fS(t){return`${A0(cr(t))}|lt:${t.limitType}`}function no(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>uS(i)).join(", ")}]`),Ih(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Jo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Jo(i)).join(",")),`Target(${r})`}(cr(t))}; limitType=${t.limitType})`}function Ah(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ae.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of wl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=h_(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,wl(r),i)||r.endAt&&!function(o,a,l){const u=h_(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,wl(r),i))}(t,e)}function HO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function mS(t){return(e,n)=>{let r=!1;for(const i of wl(t)){const s=WO(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function WO(t,e,n){const r=t.field.isKeyField()?ae.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Xo(l,u):he()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return he()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Yi(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return rS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO=new tt(ae.comparator);function Hr(){return qO}const pS=new tt(ae.comparator);function nl(...t){let e=pS;for(const n of t)e=e.insert(n.key,n);return e}function gS(t){let e=pS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ws(){return _l()}function yS(){return _l()}function _l(){return new Fs(t=>t.toString(),(t,e)=>t.isEqual(e))}const KO=new tt(ae.comparator),GO=new _t(ae.comparator);function xe(...t){let e=GO;for(const n of t)e=e.add(n);return e}const QO=new _t(Pe);function YO(){return QO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Od(e)?"-0":e}}function vS(t){return{integerValue:""+t}}function XO(t,e){return SO(e)?vS(e):k0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(){this._=void 0}}function JO(t,e,n){return t instanceof Jl?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&C0(s)&&(s=Ch(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Zl?_S(t,e):t instanceof ec?ES(t,e):function(i,s){const o=wS(i,s),a=g_(o)+g_(i.Pe);return _p(o)&&_p(i.Pe)?vS(a):k0(i.serializer,a)}(t,e)}function ZO(t,e,n){return t instanceof Zl?_S(t,e):t instanceof ec?ES(t,e):n}function wS(t,e){return t instanceof jd?function(r){return _p(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Jl extends Rh{}class Zl extends Rh{constructor(e){super(),this.elements=e}}function _S(t,e){const n=TS(e);for(const r of t.elements)n.some(i=>dr(i,r))||n.push(r);return{arrayValue:{values:n}}}class ec extends Rh{constructor(e){super(),this.elements=e}}function ES(t,e){let n=TS(e);for(const r of t.elements)n=n.filter(i=>!dr(i,r));return{arrayValue:{values:n}}}class jd extends Rh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function g_(t){return at(t.integerValue||t.doubleValue)}function TS(t){return P0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{constructor(e,n){this.field=e,this.transform=n}}function t9(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Zl&&i instanceof Zl||r instanceof ec&&i instanceof ec?Yo(r.elements,i.elements,dr):r instanceof jd&&i instanceof jd?dr(r.Pe,i.Pe):r instanceof Jl&&i instanceof Jl}(t.transform,e.transform)}class n9{constructor(e,n){this.version=e,this.transformResults=n}}class jn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new jn}static exists(e){return new jn(void 0,e)}static updateTime(e){return new jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ju(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Nh{}function xS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new SS(t.key,jn.none()):new vc(t.key,t.data,jn.none());{const n=t.data,r=nn.empty();let i=new _t(Pt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Xi(t.key,r,new mn(i.toArray()),jn.none())}}function r9(t,e,n){t instanceof vc?function(i,s,o){const a=i.value.clone(),l=v_(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Xi?function(i,s,o){if(!ju(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=v_(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(bS(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function El(t,e,n,r){return t instanceof vc?function(s,o,a,l){if(!ju(s.precondition,o))return a;const u=s.value.clone(),d=w_(s.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Xi?function(s,o,a,l){if(!ju(s.precondition,o))return a;const u=w_(s.fieldTransforms,l,o),d=o.data;return d.setAll(bS(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return ju(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function i9(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=wS(r.transform,i||null);s!=null&&(n===null&&(n=nn.empty()),n.set(r.field,s))}return n||null}function y_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Yo(r,i,(s,o)=>t9(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class vc extends Nh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Xi extends Nh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function bS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function v_(t,e,n){const r=new Map;ke(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,ZO(o,a,n[i]))}return r}function w_(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,JO(s,o,e))}return r}class SS extends Nh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class s9 extends Nh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o9{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&r9(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=El(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=El(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=yS();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=xS(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(me.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),xe())}isEqual(e){return this.batchId===e.batchId&&Yo(this.mutations,e.mutations,(n,r)=>y_(n,r))&&Yo(this.baseMutations,e.baseMutations,(n,r)=>y_(n,r))}}class D0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ke(e.mutations.length===r.length);let i=function(){return KO}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new D0(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut,Ce;function c9(t){switch(t){default:return he();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function IS(t){if(t===void 0)return $r("GRPC error has no .code"),$.UNKNOWN;switch(t){case ut.OK:return $.OK;case ut.CANCELLED:return $.CANCELLED;case ut.UNKNOWN:return $.UNKNOWN;case ut.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case ut.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case ut.INTERNAL:return $.INTERNAL;case ut.UNAVAILABLE:return $.UNAVAILABLE;case ut.UNAUTHENTICATED:return $.UNAUTHENTICATED;case ut.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case ut.NOT_FOUND:return $.NOT_FOUND;case ut.ALREADY_EXISTS:return $.ALREADY_EXISTS;case ut.PERMISSION_DENIED:return $.PERMISSION_DENIED;case ut.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case ut.ABORTED:return $.ABORTED;case ut.OUT_OF_RANGE:return $.OUT_OF_RANGE;case ut.UNIMPLEMENTED:return $.UNIMPLEMENTED;case ut.DATA_LOSS:return $.DATA_LOSS;default:return he()}}(Ce=ut||(ut={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u9(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d9=new xs([4294967295,4294967295],0);function __(t){const e=u9().encode(t),n=new Qb;return n.update(e),new Uint8Array(n.digest())}function E_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new xs([n,r],0),new xs([i,s],0)]}class L0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new rl(`Invalid padding: ${n}`);if(r<0)throw new rl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new rl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new rl(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=xs.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(xs.fromNumber(r)));return i.compare(d9)===1&&(i=new xs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=__(e),[r,i]=E_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new L0(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=__(e),[r,i]=E_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class rl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,wc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new kh(me.min(),i,new tt(Pe),Hr(),xe())}}class wc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new wc(r,n,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class CS{constructor(e,n){this.targetId=e,this.me=n}}class PS{constructor(e,n,r=Dt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class T_{constructor(){this.fe=0,this.ge=b_(),this.pe=Dt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=xe(),n=xe(),r=xe();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:he()}}),new wc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=b_()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ke(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class h9{constructor(e){this.Le=e,this.Be=new Map,this.ke=Hr(),this.qe=x_(),this.Qe=new tt(Pe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:he()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Tp(s))if(r===0){const o=new ae(s.path);this.Ue(n,o,zt.newNoDocument(o,me.min()))}else ke(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Bi(r).toUint8Array()}catch(l){if(l instanceof iS)return Qo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new L0(o,i,s)}catch(l){return Qo(l instanceof rl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Tp(a.target)){const l=new ae(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,zt.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=xe();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new kh(e,n,this.Qe,this.ke,r);return this.ke=Hr(),this.qe=x_(),this.Qe=new tt(Pe),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new T_,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new _t(Pe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||X("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new T_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function x_(){return new tt(ae.comparator)}function b_(){return new tt(ae.comparator)}const f9=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),m9=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),p9=(()=>({and:"AND",or:"OR"}))();class g9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Sp(t,e){return t.useProto3Json||Ih(e)?e:{value:e}}function Bd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function AS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function y9(t,e){return Bd(t,e.toTimestamp())}function ur(t){return ke(!!t),me.fromTimestamp(function(n){const r=ji(n);return new gt(r.seconds,r.nanos)}(t))}function M0(t,e){return Ip(t,e).canonicalString()}function Ip(t,e){const n=function(i){return new qe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function RS(t){const e=qe.fromString(t);return ke(MS(e)),e}function Cp(t,e){return M0(t.databaseId,e.path)}function qf(t,e){const n=RS(e);if(n.get(1)!==t.databaseId.projectId)throw new ee($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ee($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ae(kS(n))}function NS(t,e){return M0(t.databaseId,e)}function v9(t){const e=RS(t);return e.length===4?qe.emptyPath():kS(e)}function Pp(t){return new qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function kS(t){return ke(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function S_(t,e,n){return{name:Cp(t,e),fields:n.value.mapValue.fields}}function w9(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:he()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(ke(d===void 0||typeof d=="string"),Dt.fromBase64String(d||"")):(ke(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Dt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?$.UNKNOWN:IS(u.code);return new ee(d,u.message||"")}(o);n=new PS(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=qf(t,r.document.name),s=ur(r.document.updateTime),o=r.document.createTime?ur(r.document.createTime):me.min(),a=new nn({mapValue:{fields:r.document.fields}}),l=zt.newFoundDocument(i,s,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Bu(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=qf(t,r.document),s=r.readTime?ur(r.readTime):me.min(),o=zt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Bu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=qf(t,r.document),s=r.removedTargetIds||[];n=new Bu([],s,i,null)}else{if(!("filter"in e))return he();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new l9(i,s),a=r.targetId;n=new CS(a,o)}}return n}function _9(t,e){let n;if(e instanceof vc)n={update:S_(t,e.key,e.value)};else if(e instanceof SS)n={delete:Cp(t,e.key)};else if(e instanceof Xi)n={update:S_(t,e.key,e.data),updateMask:A9(e.fieldMask)};else{if(!(e instanceof s9))return he();n={verify:Cp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Jl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Zl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ec)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof jd)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw he()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:y9(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:he()}(t,e.precondition)),n}function E9(t,e){return t&&t.length>0?(ke(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?ur(i.updateTime):ur(s);return o.isEqual(me.min())&&(o=ur(s)),new n9(o,i.transformResults||[])}(n,e))):[]}function T9(t,e){return{documents:[NS(t,e.path)]}}function x9(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=NS(t,i);const s=function(u){if(u.length!==0)return LS($n.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(d=>function(p){return{field:ro(p.field),direction:I9(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Sp(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function b9(t){let e=v9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ke(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const p=DS(h);return p instanceof $n&&lS(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(E){return new Ud(io(E.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,Ih(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(h){const p=!!h.before,y=h.values||[];return new Fd(y,p)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const p=!h.before,y=h.values||[];return new Fd(y,p)}(n.endAt)),zO(e,i,o,s,a,"F",l,u)}function S9(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return he()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function DS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=io(n.unaryFilter.field);return ht.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=io(n.unaryFilter.field);return ht.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=io(n.unaryFilter.field);return ht.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=io(n.unaryFilter.field);return ht.create(o,"!=",{nullValue:"NULL_VALUE"});default:return he()}}(t):t.fieldFilter!==void 0?function(n){return ht.create(io(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return he()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return $n.create(n.compositeFilter.filters.map(r=>DS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return he()}}(n.compositeFilter.op))}(t):he()}function I9(t){return f9[t]}function C9(t){return m9[t]}function P9(t){return p9[t]}function ro(t){return{fieldPath:t.canonicalString()}}function io(t){return Pt.fromServerFormat(t.fieldPath)}function LS(t){return t instanceof ht?function(n){if(n.op==="=="){if(d_(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NAN"}};if(u_(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(d_(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NOT_NAN"}};if(u_(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ro(n.field),op:C9(n.op),value:n.value}}}(t):t instanceof $n?function(n){const r=n.getFilters().map(i=>LS(i));return r.length===1?r[0]:{compositeFilter:{op:P9(n.op),filters:r}}}(t):he()}function A9(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function MS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,n,r,i,s=me.min(),o=me.min(),a=Dt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new vi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{constructor(e){this.ct=e}}function N9(t){const e=b9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?bp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(){this.un=new D9}addToCollectionParentIndex(e,n){return this.un.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(Ui.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(Ui.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class D9{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new _t(qe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new _t(qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class en{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new en(e,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(41943040,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Zo(0)}static kn(){return new Zo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_([t,e],[n,r]){const i=Pe(t,n);return i===0?Pe(e,r):i}class L9{constructor(e){this.Un=e,this.buffer=new _t(C_),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();C_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class M9{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){X("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ha(n)?X("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await da(n)}await this.Hn(3e5)})}}class V9{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return z.resolve(Sh.oe);const r=new L9(n);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(X("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(I_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(X("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),I_):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,i,s,o,a,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(X("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),to()<=Te.DEBUG&&X("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function O9(t,e){return new V9(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(){this.changes=new Fs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&El(r.mutation,i,mn.empty(),gt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,xe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=xe()){const i=ws();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=nl();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ws();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,xe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Hr();const o=_l(),a=function(){return _l()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Xi)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),El(d.mutation,u,d.mutation.getFieldMask(),gt.now())):o.set(u.key,mn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var h;return a.set(u,new U9(d,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=_l();let i=new tt((o,a)=>o-a),s=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||mn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const h=(i.get(a.batchId)||xe()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=yS();d.forEach(p=>{if(!s.has(p)){const y=xS(n.get(p),r.get(p));y!==null&&h.set(p,y),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ae.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):hS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):z.resolve(ws());let a=-1,l=s;return o.next(u=>z.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?z.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,xe())).next(d=>({batchId:a,changes:gS(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ae(n)).next(r=>{let i=nl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=nl();return this.indexManager.getCollectionParents(e,s).next(a=>z.forEach(a,l=>{const u=function(h,p){return new yc(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,zt.newInvalidDocument(d)))});let a=nl();return o.forEach((l,u)=>{const d=s.get(l);d!==void 0&&El(d.mutation,u,mn.empty(),gt.now()),Ah(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return z.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ur(i.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:N9(i.bundledQuery),readTime:ur(i.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{constructor(){this.overlays=new tt(ae.comparator),this.Ir=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ws();return z.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const i=ws(),s=n.length+1,o=new ae(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new tt((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=ws(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=ws(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return z.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new a9(n,r));let s=this.Ir.get(n);s===void 0&&(s=xe(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(){this.sessionToken=Dt.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(){this.Tr=new _t(yt.Er),this.dr=new _t(yt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new yt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new yt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ae(new qe([])),r=new yt(n,e),i=new yt(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ae(new qe([])),r=new yt(n,e),i=new yt(n,e+1);let s=xe();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new yt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class yt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ae.comparator(e.key,n.key)||Pe(e.wr,n.wr)}static Ar(e,n){return Pe(e.wr,n.wr)||ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new _t(yt.Er)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new o9(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new yt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return z.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new yt(n,0),i=new yt(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),z.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new _t(Pe);return n.forEach(i=>{const s=new yt(i,0),o=new yt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),z.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ae.isDocumentKey(s)||(s=s.child(""));const o=new yt(new ae(s),0);let a=new _t(Pe);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},o),z.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ke(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return z.forEach(n.mutations,i=>{const s=new yt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new yt(n,0),i=this.br.firstAfterOrEqual(r);return z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9{constructor(e){this.Mr=e,this.docs=function(){return new tt(ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():zt.newInvalidDocument(n))}getEntries(e,n){let r=Hr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():zt.newInvalidDocument(i))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Hr();const o=n.path,a=new ae(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||EO(_O(d),r)<=0||(i.has(d.key)||Ah(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return z.resolve(s)}getAllFromCollectionGroup(e,n,r,i){he()}Or(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new q9(this)}getSize(e){return z.resolve(this.size)}}class q9 extends F9{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K9{constructor(e){this.persistence=e,this.Nr=new Fs(n=>A0(n),R0),this.lastRemoteSnapshotVersion=me.min(),this.highestTargetId=0,this.Lr=0,this.Br=new V0,this.targetCount=0,this.kr=Zo.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),z.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Zo(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.Kn(n),z.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),z.waitFor(s).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),z.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Sh(0),this.Kr=!1,this.Kr=!0,this.$r=new $9,this.referenceDelegate=e(this),this.Ur=new K9(this),this.indexManager=new k9,this.remoteDocumentCache=function(i){return new W9(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new R9(n),this.Gr=new B9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new z9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new H9(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){X("MemoryPersistence","Starting transaction:",e);const i=new G9(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return z.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class G9 extends xO{constructor(e){super(),this.currentSequenceNumber=e}}class O0{constructor(e){this.persistence=e,this.Jr=new V0,this.Yr=null}static Zr(e){return new O0(e)}get Xr(){if(this.Yr)return this.Yr;throw he()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),z.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Xr,r=>{const i=ae.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,me.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return z.or([()=>z.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}class zd{constructor(e,n){this.persistence=e,this.ti=new Fs(r=>IO(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=O9(this,n)}static Zr(e,n){return new zd(e,n)}zr(){}jr(e){return z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Yn(e){const n=this.er(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}Zn(e,n){return z.forEach(this.ti,(r,i)=>this.nr(e,r,i).next(s=>s?z.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Or(e,o=>this.nr(e,o,n).next(a=>{a||(r++,s.removeEntry(o,me.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ti.set(n,e.currentSequenceNumber),z.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),z.resolve()}removeReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),z.resolve()}updateLimboDocument(e,n){return this.ti.set(n,e.currentSequenceNumber),z.resolve()}Wr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Fu(e.data.value)),n}nr(e,n,r){return z.or([()=>this.persistence.Hr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ti.get(n);return z.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=xe(),i=xe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new F0(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y9{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return NM()?8:bO(Wt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Q9;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(to()<=Te.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",no(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),z.resolve()):(to()<=Te.DEBUG&&X("QueryEngine","Query:",no(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(to()<=Te.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",no(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,cr(n))):z.resolve())}Yi(e,n){if(p_(n))return z.resolve(null);let r=cr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=bp(n,null,"F"),r=cr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=xe(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,bp(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return p_(n)||i.isEqual(me.min())?z.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?z.resolve(null):(to()<=Te.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),no(n)),this.rs(e,o,n,wO(i,-1)).next(a=>a))})}ts(e,n){let r=new _t(mS(e));return n.forEach((i,s)=>{Ah(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return to()<=Te.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",no(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ui.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X9{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new tt(Pe),this._s=new Fs(s=>A0(s),R0),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new j9(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function J9(t,e,n,r){return new X9(t,e,n,r)}async function OS(t,e){const n=pe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=xe();for(const u of i){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function Z9(t,e){const n=pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const h=u.batch,p=h.keys();let y=z.resolve();return p.forEach(E=>{y=y.next(()=>d.getEntry(l,E)).next(b=>{const R=u.docVersions.get(E);ke(R!==null),b.version.compareTo(R)<0&&(h.applyToRemoteDocument(b,u),b.isValidDocument()&&(b.setReadTime(u.commitVersion),d.addEntry(b)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=xe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function FS(t){const e=pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function e7(t,e){const n=pe(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((d,h)=>{const p=i.get(h);if(!p)return;a.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,h)));let y=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?y=y.withResumeToken(Dt.EMPTY_BYTE_STRING,me.min()).withLastLimboFreeSnapshotVersion(me.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,r)),i=i.insert(h,y),function(b,R,T){return b.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(p,y,d)&&a.push(n.Ur.updateTargetData(s,y))});let l=Hr(),u=xe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(t7(s,o,e.documentUpdates).next(d=>{l=d.Ps,u=d.Is})),!r.isEqual(me.min())){const d=n.Ur.getLastRemoteSnapshotVersion(s).next(h=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return z.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=i,s))}function t7(t,e,n){let r=xe(),i=xe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Hr();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(me.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):X("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function n7(t,e){const n=pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function r7(t,e){const n=pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,z.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new vi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Ap(t,e,n){const r=pe(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ha(o))throw o;X("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function P_(t,e,n){const r=pe(t);let i=me.min(),s=xe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const h=pe(l),p=h._s.get(d);return p!==void 0?z.resolve(h.os.get(p)):h.Ur.getTargetData(u,d)}(r,o,cr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:me.min(),n?s:xe())).next(a=>(i7(r,HO(e),a),{documents:a,Ts:s})))}function i7(t,e,n){let r=t.us.get(e)||me.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class A_{constructor(){this.activeTargetIds=YO()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class s7{constructor(){this.so=new A_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new A_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o7{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){X("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){X("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pu=null;function Kf(){return pu===null?pu=function(){return 268435456+Math.round(2147483648*Math.random())}():pu++,"0x"+pu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l7{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft="WebChannelConnection";class c7 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=Kf(),l=this.xo(n,r.toUriEncodedString());X("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,l,u,i).then(d=>(X("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Qo("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ua}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=a7[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Kf();return new Promise((o,a)=>{const l=new Yb;l.setWithCredentials(!0),l.listenOnce(Xb.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ou.NO_ERROR:const d=l.getResponseJson();X(Ft,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Ou.TIMEOUT:X(Ft,`RPC '${e}' ${s} timed out`),a(new ee($.DEADLINE_EXCEEDED,"Request time out"));break;case Ou.HTTP_ERROR:const h=l.getStatus();if(X(Ft,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const y=p==null?void 0:p.error;if(y&&y.status&&y.message){const E=function(R){const T=R.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(T)>=0?T:$.UNKNOWN}(y.status);a(new ee(E,y.message))}else a(new ee($.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ee($.UNAVAILABLE,"Connection failed."));break;default:he()}}finally{X(Ft,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);X(Ft,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=Kf(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=eS(),a=Zb(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");X(Ft,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=o.createWebChannel(d,l);let p=!1,y=!1;const E=new l7({Io:R=>{y?X(Ft,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(p||(X(Ft,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),X(Ft,`RPC '${e}' stream ${i} sending:`,R),h.send(R))},To:()=>h.close()}),b=(R,T,_)=>{R.listen(T,I=>{try{_(I)}catch(L){setTimeout(()=>{throw L},0)}})};return b(h,tl.EventType.OPEN,()=>{y||(X(Ft,`RPC '${e}' stream ${i} transport opened.`),E.yo())}),b(h,tl.EventType.CLOSE,()=>{y||(y=!0,X(Ft,`RPC '${e}' stream ${i} transport closed`),E.So())}),b(h,tl.EventType.ERROR,R=>{y||(y=!0,Qo(Ft,`RPC '${e}' stream ${i} transport errored:`,R),E.So(new ee($.UNAVAILABLE,"The operation could not be completed")))}),b(h,tl.EventType.MESSAGE,R=>{var T;if(!y){const _=R.data[0];ke(!!_);const I=_,L=I.error||((T=I[0])===null||T===void 0?void 0:T.error);if(L){X(Ft,`RPC '${e}' stream ${i} received error:`,L);const j=L.status;let k=function(x){const A=ut[x];if(A!==void 0)return IS(A)}(j),P=L.message;k===void 0&&(k=$.INTERNAL,P="Unknown error status: "+j+" with message "+L.message),y=!0,E.So(new ee(k,P)),h.close()}else X(Ft,`RPC '${e}' stream ${i} received:`,_),E.bo(_)}}),b(a,Jb.STAT_EVENT,R=>{R.stat===vp.PROXY?X(Ft,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===vp.NOPROXY&&X(Ft,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.wo()},0),E}}function Gf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(t){return new g9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&X("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new US(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?($r(n.toString()),$r("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ee($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return X("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(X("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class u7 extends jS{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=w9(this.serializer,e),r=function(s){if(!("targetChange"in s))return me.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?me.min():o.readTime?ur(o.readTime):me.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Pp(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Tp(l)?{documents:T9(s,l)}:{query:x9(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=AS(s,o.resumeToken);const u=Sp(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(me.min())>0){a.readTime=Bd(s,o.snapshotVersion.toTimestamp());const u=Sp(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=S9(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Pp(this.serializer),n.removeTarget=e,this.a_(n)}}class d7 extends jS{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return ke(!!e.streamToken),this.lastStreamToken=e.streamToken,ke(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=E9(e.writeResults,e.commitTime),r=ur(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Pp(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>_9(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ee($.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Ip(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ee($.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Ip(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ee($.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class f7{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?($r(n),this.D_=!1):X("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m7{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Us(this)&&(X("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=pe(l);u.L_.add(4),await _c(u),u.q_.set("Unknown"),u.L_.delete(4),await Lh(u)}(this))})}),this.q_=new f7(r,i)}}async function Lh(t){if(Us(t))for(const e of t.B_)await e(!0)}async function _c(t){for(const e of t.B_)await e(!1)}function BS(t,e){const n=pe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),z0(n)?B0(n):fa(n).r_()&&j0(n,e))}function U0(t,e){const n=pe(t),r=fa(n);n.N_.delete(e),r.r_()&&zS(n,e),n.N_.size===0&&(r.r_()?r.o_():Us(n)&&n.q_.set("Unknown"))}function j0(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(me.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}fa(t).A_(e)}function zS(t,e){t.Q_.xe(e),fa(t).R_(e)}function B0(t){t.Q_=new h9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),fa(t).start(),t.q_.v_()}function z0(t){return Us(t)&&!fa(t).n_()&&t.N_.size>0}function Us(t){return pe(t).L_.size===0}function $S(t){t.Q_=void 0}async function p7(t){t.q_.set("Online")}async function g7(t){t.N_.forEach((e,n)=>{j0(t,e)})}async function y7(t,e){$S(t),z0(t)?(t.q_.M_(e),B0(t)):t.q_.set("Unknown")}async function v7(t,e,n){if(t.q_.set("Online"),e instanceof PS&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){X("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await $d(t,r)}else if(e instanceof Bu?t.Q_.Ke(e):e instanceof CS?t.Q_.He(e):t.Q_.We(e),!n.isEqual(me.min()))try{const r=await FS(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.N_.get(u);d&&s.N_.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=s.N_.get(l);if(!d)return;s.N_.set(l,d.withResumeToken(Dt.EMPTY_BYTE_STRING,d.snapshotVersion)),zS(s,l);const h=new vi(d.target,l,u,d.sequenceNumber);j0(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){X("RemoteStore","Failed to raise snapshot:",r),await $d(t,r)}}async function $d(t,e,n){if(!ha(e))throw e;t.L_.add(1),await _c(t),t.q_.set("Offline"),n||(n=()=>FS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{X("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Lh(t)})}function HS(t,e){return e().catch(n=>$d(t,n,e))}async function Mh(t){const e=pe(t),n=$i(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;w7(e);)try{const i=await n7(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,_7(e,i)}catch(i){await $d(e,i)}WS(e)&&qS(e)}function w7(t){return Us(t)&&t.O_.length<10}function _7(t,e){t.O_.push(e);const n=$i(t);n.r_()&&n.V_&&n.m_(e.mutations)}function WS(t){return Us(t)&&!$i(t).n_()&&t.O_.length>0}function qS(t){$i(t).start()}async function E7(t){$i(t).p_()}async function T7(t){const e=$i(t);for(const n of t.O_)e.m_(n.mutations)}async function x7(t,e,n){const r=t.O_.shift(),i=D0.from(r,e,n);await HS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Mh(t)}async function b7(t,e){e&&$i(t).V_&&await async function(r,i){if(function(o){return c9(o)&&o!==$.ABORTED}(i.code)){const s=r.O_.shift();$i(r).s_(),await HS(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Mh(r)}}(t,e),WS(t)&&qS(t)}async function N_(t,e){const n=pe(t);n.asyncQueue.verifyOperationInProgress(),X("RemoteStore","RemoteStore received new credentials");const r=Us(n);n.L_.add(3),await _c(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Lh(n)}async function S7(t,e){const n=pe(t);e?(n.L_.delete(2),await Lh(n)):e||(n.L_.add(2),await _c(n),n.q_.set("Unknown"))}function fa(t){return t.K_||(t.K_=function(n,r,i){const s=pe(n);return s.w_(),new u7(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:p7.bind(null,t),Ro:g7.bind(null,t),mo:y7.bind(null,t),d_:v7.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),z0(t)?B0(t):t.q_.set("Unknown")):(await t.K_.stop(),$S(t))})),t.K_}function $i(t){return t.U_||(t.U_=function(n,r,i){const s=pe(n);return s.w_(),new d7(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:E7.bind(null,t),mo:b7.bind(null,t),f_:T7.bind(null,t),g_:x7.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Mh(t)):(await t.U_.stop(),t.O_.length>0&&(X("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new $0(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ee($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function H0(t,e){if($r("AsyncQueue",`${e}: ${t}`),ha(t))return new ee($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ae.comparator(n.key,r.key):(n,r)=>ae.comparator(n.key,r.key),this.keyedMap=nl(),this.sortedSet=new tt(this.comparator)}static emptySet(e){return new Do(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Do)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Do;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(){this.W_=new tt(ae.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):he():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ea{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ea(e,n,Do.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ph(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I7{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class C7{constructor(){this.queries=D_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=pe(n),s=i.queries;i.queries=D_(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new ee($.ABORTED,"Firestore shutting down"))}}function D_(){return new Fs(t=>fS(t),Ph)}async function KS(t,e){const n=pe(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new I7,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=H0(o,`Initialization of query '${no(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&W0(n)}async function GS(t,e){const n=pe(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function P7(t,e){const n=pe(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&W0(n)}function A7(t,e,n){const r=pe(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function W0(t){t.Y_.forEach(e=>{e.next()})}var Rp,L_;(L_=Rp||(Rp={})).ea="default",L_.Cache="cache";class QS{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ea(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=ea.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Rp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e){this.key=e}}class XS{constructor(e){this.key=e}}class R7{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=xe(),this.mutatedKeys=xe(),this.Aa=mS(e),this.Ra=new Do(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new k_,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const p=i.get(d),y=Ah(this.query,h)?h:null,E=!!p&&this.mutatedKeys.has(p.key),b=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let R=!1;p&&y?p.data.isEqual(y.data)?E!==b&&(r.track({type:3,doc:y}),R=!0):this.ga(p,y)||(r.track({type:2,doc:y}),R=!0,(l&&this.Aa(y,l)>0||u&&this.Aa(y,u)<0)&&(a=!0)):!p&&y?(r.track({type:0,doc:y}),R=!0):p&&!y&&(r.track({type:1,doc:p}),R=!0,(l||u)&&(a=!0)),R&&(y?(o=o.add(y),s=b?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,h)=>function(y,E){const b=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return he()}};return b(y)-b(E)}(d.type,h.type)||this.Aa(d.doc,h.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new ea(this.query,e.Ra,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new k_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=xe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new XS(r))}),this.da.forEach(r=>{e.has(r)||n.push(new YS(r))}),n}ba(e){this.Ta=e.Ts,this.da=xe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return ea.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class N7{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class k7{constructor(e){this.key=e,this.va=!1}}class D7{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Fs(a=>fS(a),Ph),this.Ma=new Map,this.xa=new Set,this.Oa=new tt(ae.comparator),this.Na=new Map,this.La=new V0,this.Ba={},this.ka=new Map,this.qa=Zo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function L7(t,e,n=!0){const r=rI(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await JS(r,e,n,!0),i}async function M7(t,e){const n=rI(t);await JS(n,e,!0,!1)}async function JS(t,e,n,r){const i=await r7(t.localStore,cr(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await V7(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&BS(t.remoteStore,i),a}async function V7(t,e,n,r,i){t.Ka=(h,p,y)=>async function(b,R,T,_){let I=R.view.ma(T);I.ns&&(I=await P_(b.localStore,R.query,!1).then(({documents:P})=>R.view.ma(P,I)));const L=_&&_.targetChanges.get(R.targetId),j=_&&_.targetMismatches.get(R.targetId)!=null,k=R.view.applyChanges(I,b.isPrimaryClient,L,j);return V_(b,R.targetId,k.wa),k.snapshot}(t,h,p,y);const s=await P_(t.localStore,e,!0),o=new R7(e,s.Ts),a=o.ma(s.documents),l=wc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);V_(t,n,u.wa);const d=new N7(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function O7(t,e,n){const r=pe(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Ph(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Ap(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&U0(r.remoteStore,i.targetId),Np(r,i.targetId)}).catch(da)):(Np(r,i.targetId),await Ap(r.localStore,i.targetId,!0))}async function F7(t,e){const n=pe(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),U0(n.remoteStore,r.targetId))}async function U7(t,e,n){const r=q7(t);try{const i=await function(o,a){const l=pe(o),u=gt.now(),d=a.reduce((y,E)=>y.add(E.key),xe());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let E=Hr(),b=xe();return l.cs.getEntries(y,d).next(R=>{E=R,E.forEach((T,_)=>{_.isValidDocument()||(b=b.add(T))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,E)).next(R=>{h=R;const T=[];for(const _ of a){const I=i9(_,h.get(_.key).overlayedDocument);I!=null&&T.push(new Xi(_.key,I,sS(I.value.mapValue),jn.exists(!0)))}return l.mutationQueue.addMutationBatch(y,u,T,a)}).next(R=>{p=R;const T=R.applyToLocalDocumentSet(h,b);return l.documentOverlayCache.saveOverlays(y,R.batchId,T)})}).then(()=>({batchId:p.batchId,changes:gS(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new tt(Pe)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await Ec(r,i.changes),await Mh(r.remoteStore)}catch(i){const s=H0(i,"Failed to persist write");n.reject(s)}}async function ZS(t,e){const n=pe(t);try{const r=await e7(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(ke(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?ke(o.va):i.removedDocuments.size>0&&(ke(o.va),o.va=!1))}),await Ec(n,r,e)}catch(r){await da(r)}}function M_(t,e,n){const r=pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=pe(o);l.onlineState=a;let u=!1;l.queries.forEach((d,h)=>{for(const p of h.j_)p.Z_(a)&&(u=!0)}),u&&W0(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function j7(t,e,n){const r=pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new tt(ae.comparator);o=o.insert(s,zt.newNoDocument(s,me.min()));const a=xe().add(s),l=new kh(me.min(),new Map,new tt(Pe),o,a);await ZS(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),q0(r)}else await Ap(r.localStore,e,!1).then(()=>Np(r,e,n)).catch(da)}async function B7(t,e){const n=pe(t),r=e.batch.batchId;try{const i=await Z9(n.localStore,e);tI(n,r,null),eI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ec(n,i)}catch(i){await da(i)}}async function z7(t,e,n){const r=pe(t);try{const i=await function(o,a){const l=pe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(ke(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);tI(r,e,n),eI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ec(r,i)}catch(i){await da(i)}}function eI(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function tI(t,e,n){const r=pe(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Np(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||nI(t,r)})}function nI(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(U0(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),q0(t))}function V_(t,e,n){for(const r of n)r instanceof YS?(t.La.addReference(r.key,e),$7(t,r)):r instanceof XS?(X("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||nI(t,r.key)):he()}function $7(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(X("SyncEngine","New document in limbo: "+n),t.xa.add(r),q0(t))}function q0(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ae(qe.fromString(e)),r=t.qa.next();t.Na.set(r,new k7(n)),t.Oa=t.Oa.insert(n,r),BS(t.remoteStore,new vi(cr(N0(n.path)),r,"TargetPurposeLimboResolution",Sh.oe))}}async function Ec(t,e,n){const r=pe(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=F0.Wi(l.targetId,u);s.push(h)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,u){const d=pe(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>z.forEach(u,p=>z.forEach(p.$i,y=>d.persistence.referenceDelegate.addReference(h,p.targetId,y)).next(()=>z.forEach(p.Ui,y=>d.persistence.referenceDelegate.removeReference(h,p.targetId,y)))))}catch(h){if(!ha(h))throw h;X("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const p=h.targetId;if(!h.fromCache){const y=d.os.get(p),E=y.snapshotVersion,b=y.withLastLimboFreeSnapshotVersion(E);d.os=d.os.insert(p,b)}}}(r.localStore,s))}async function H7(t,e){const n=pe(t);if(!n.currentUser.isEqual(e)){X("SyncEngine","User change. New user:",e.toKey());const r=await OS(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new ee($.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ec(n,r.hs)}}function W7(t,e){const n=pe(t),r=n.Na.get(e);if(r&&r.va)return xe().add(r.key);{let i=xe();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function rI(t){const e=pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ZS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=W7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=j7.bind(null,e),e.Ca.d_=P7.bind(null,e.eventManager),e.Ca.$a=A7.bind(null,e.eventManager),e}function q7(t){const e=pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=B7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=z7.bind(null,e),e}class Hd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Dh(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return J9(this.persistence,new Y9,e.initialUser,this.serializer)}Ga(e){return new VS(O0.Zr,this.serializer)}Wa(e){return new s7}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hd.provider={build:()=>new Hd};class K7 extends Hd{constructor(e){super(),this.cacheSizeBytes=e}ja(e,n){ke(this.persistence.referenceDelegate instanceof zd);const r=this.persistence.referenceDelegate.garbageCollector;return new M9(r,e.asyncQueue,n)}Ga(e){const n=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new VS(r=>zd.Zr(r,n),this.serializer)}}class kp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>M_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=H7.bind(null,this.syncEngine),await S7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new C7}()}createDatastore(e){const n=Dh(e.databaseInfo.databaseId),r=function(s){return new c7(s)}(e.databaseInfo);return function(s,o,a,l){return new h7(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new m7(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>M_(this.syncEngine,n,0),function(){return R_.D()?new R_:new o7}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,d){const h=new D7(i,s,o,a,l,u);return d&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=pe(i);X("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await _c(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}kp.provider={build:()=>new kp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):$r("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G7{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=jt.UNAUTHENTICATED,this.clientId=nS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{X("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(X("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=H0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Qf(t,e){t.asyncQueue.verifyOperationInProgress(),X("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await OS(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function O_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Q7(t);X("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>N_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>N_(e.remoteStore,i)),t._onlineComponents=e}async function Q7(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){X("FirestoreClient","Using user provided OfflineComponentProvider");try{await Qf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===$.FAILED_PRECONDITION||i.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Qo("Error using user provided cache. Falling back to memory cache: "+n),await Qf(t,new Hd)}}else X("FirestoreClient","Using default OfflineComponentProvider"),await Qf(t,new K7(void 0));return t._offlineComponents}async function sI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(X("FirestoreClient","Using user provided OnlineComponentProvider"),await O_(t,t._uninitializedComponentsProvider._online)):(X("FirestoreClient","Using default OnlineComponentProvider"),await O_(t,new kp))),t._onlineComponents}function Y7(t){return sI(t).then(e=>e.syncEngine)}async function oI(t){const e=await sI(t),n=e.eventManager;return n.onListen=L7.bind(null,e.syncEngine),n.onUnlisten=O7.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=M7.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=F7.bind(null,e.syncEngine),n}function X7(t,e,n={}){const r=new Mr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new iI({next:p=>{d.Za(),o.enqueueAndForget(()=>GS(s,h));const y=p.docs.has(a);!y&&p.fromCache?u.reject(new ee($.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&p.fromCache&&l&&l.source==="server"?u.reject(new ee($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),h=new QS(N0(a.path),d,{includeMetadataChanges:!0,_a:!0});return KS(s,h)}(await oI(t),t.asyncQueue,e,n,r)),r.promise}function J7(t,e,n={}){const r=new Mr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new iI({next:p=>{d.Za(),o.enqueueAndForget(()=>GS(s,h)),p.fromCache&&l.source==="server"?u.reject(new ee($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),h=new QS(a,d,{includeMetadataChanges:!0,_a:!0});return KS(s,h)}(await oI(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(t,e,n){if(!n)throw new ee($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Z7(t,e,n,r){if(e===!0&&r===!0)throw new ee($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function U_(t){if(!ae.isDocumentKey(t))throw new ee($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function j_(t){if(ae.isDocumentKey(t))throw new ee($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Vh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":he()}function hr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ee($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Vh(t);throw new ee($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ee($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ee($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Z7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ee($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ee($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ee($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Oh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new B_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ee($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ee($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new B_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new uO;switch(r.type){case"firstParty":return new mO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ee($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=F_.get(n);r&&(X("ComponentProvider","Removing Datastore"),F_.delete(n),r.terminate())}(this),Promise.resolve()}}function eF(t,e,n,r={}){var i;const s=(t=hr(t,Oh))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Qo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=jt.MOCK_USER;else{a=bM(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ee($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new jt(u)}t._authCredentials=new dO(new tS(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ma(this.firestore,e,this._query)}}class Yt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ki(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yt(this.firestore,e,this._key)}}class ki extends ma{constructor(e,n,r){super(e,n,N0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yt(this.firestore,null,new ae(e))}withConverter(e){return new ki(this.firestore,e,this._path)}}function tr(t,e,...n){if(t=Et(t),lI("collection","path",e),t instanceof Oh){const r=qe.fromString(e,...n);return j_(r),new ki(t,null,r)}{if(!(t instanceof Yt||t instanceof ki))throw new ee($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(qe.fromString(e,...n));return j_(r),new ki(t.firestore,null,r)}}function At(t,e,...n){if(t=Et(t),arguments.length===1&&(e=nS.newId()),lI("doc","path",e),t instanceof Oh){const r=qe.fromString(e,...n);return U_(r),new Yt(t,null,new ae(r))}{if(!(t instanceof Yt||t instanceof ki))throw new ee($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(qe.fromString(e,...n));return U_(r),new Yt(t.firestore,t instanceof ki?t.converter:null,new ae(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new US(this,"async_queue_retry"),this.Vu=()=>{const r=Gf();r&&X("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Gf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Gf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Mr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!ha(e))throw e;X("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw $r("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=$0.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&he()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class pa extends Oh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new z_,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new z_(e),this._firestoreClient=void 0,await e}}}function tF(t,e){const n=typeof t=="object"?t:db(),r=typeof t=="string"?t:e||"(default)",i=g0(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=TM("firestore");s&&eF(i,...s)}return i}function K0(t){if(t._terminated)throw new ee($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||nF(t),t._firestoreClient}function nF(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,d){return new AO(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,aI(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new G7(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ta(Dt.fromBase64String(e))}catch(n){throw new ee($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ta(Dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ee($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ee($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ee($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rF=/^__.*__$/;class iF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Xi(e,this.data,this.fieldMask,n,this.fieldTransforms):new vc(e,this.data,n,this.fieldTransforms)}}class cI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Xi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function uI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he()}}class Y0{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Y0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Wd(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(uI(this.Cu)&&rF.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class sF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Dh(e)}Qu(e,n,r,i=!1){return new Y0({Cu:e,methodName:n,qu:r,path:Pt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jh(t){const e=t._freezeSettings(),n=Dh(t._databaseId);return new sF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function dI(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);J0("Data must be an object, but it was:",o,r);const a=hI(r,o);let l,u;if(s.merge)l=new mn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const p=Dp(e,h,n);if(!o.contains(p))throw new ee($.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);mI(d,p)||d.push(p)}l=new mn(d),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new iF(new nn(a),l,u)}class Bh extends Uh{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bh}}class X0 extends Uh{_toFieldTransform(e){return new e9(e.path,new Jl)}isEqual(e){return e instanceof X0}}function oF(t,e,n,r){const i=t.Qu(1,e,n);J0("Data must be an object, but it was:",i,r);const s=[],o=nn.empty();Yi(r,(l,u)=>{const d=Z0(e,l,n);u=Et(u);const h=i.Nu(d);if(u instanceof Bh)s.push(d);else{const p=Tc(u,h);p!=null&&(s.push(d),o.set(d,p))}});const a=new mn(s);return new cI(o,a,i.fieldTransforms)}function aF(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[Dp(e,r,n)],l=[i];if(s.length%2!=0)throw new ee($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)a.push(Dp(e,s[p])),l.push(s[p+1]);const u=[],d=nn.empty();for(let p=a.length-1;p>=0;--p)if(!mI(u,a[p])){const y=a[p];let E=l[p];E=Et(E);const b=o.Nu(y);if(E instanceof Bh)u.push(y);else{const R=Tc(E,b);R!=null&&(u.push(y),d.set(y,R))}}const h=new mn(u);return new cI(d,h,o.fieldTransforms)}function lF(t,e,n,r=!1){return Tc(n,t.Qu(r?4:3,e))}function Tc(t,e){if(fI(t=Et(t)))return J0("Unsupported field value:",e,t),hI(t,e);if(t instanceof Uh)return function(r,i){if(!uI(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Tc(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Et(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return XO(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=gt.fromDate(r);return{timestampValue:Bd(i.serializer,s)}}if(r instanceof gt){const s=new gt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Bd(i.serializer,s)}}if(r instanceof G0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ta)return{bytesValue:AS(i.serializer,r._byteString)};if(r instanceof Yt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:M0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Q0)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return k0(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Vh(r)}`)}(t,e)}function hI(t,e){const n={};return rS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yi(t,(r,i)=>{const s=Tc(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function fI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof gt||t instanceof G0||t instanceof ta||t instanceof Yt||t instanceof Uh||t instanceof Q0)}function J0(t,e,n){if(!fI(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Vh(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Dp(t,e,n){if((e=Et(e))instanceof Fh)return e._internalPath;if(typeof e=="string")return Z0(t,e);throw Wd("Field path arguments must be of type string or ",t,!1,void 0,n)}const cF=new RegExp("[~\\*/\\[\\]]");function Z0(t,e,n){if(e.search(cF)>=0)throw Wd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Fh(...e.split("."))._internalPath}catch{throw Wd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Wd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ee($.INVALID_ARGUMENT,a+t+l)}function mI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ey("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class uF extends pI{data(){return super.data()}}function ey(t,e){return typeof e=="string"?Z0(t,e):e instanceof Fh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ee($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ty{}class hF extends ty{}function Lo(t,e,...n){let r=[];e instanceof ty&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof ny).length,a=s.filter(l=>l instanceof zh).length;if(o>1||o>0&&a>0)throw new ee($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class zh extends hF{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new zh(e,n,r)}_apply(e){const n=this._parse(e);return gI(e._query,n),new ma(e.firestore,e.converter,xp(e._query,n))}_parse(e){const n=jh(e.firestore);return function(s,o,a,l,u,d,h){let p;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ee($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){H_(h,d);const y=[];for(const E of h)y.push($_(l,s,E));p={arrayValue:{values:y}}}else p=$_(l,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||H_(h,d),p=lF(a,o,h,d==="in"||d==="not-in");return ht.create(u,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Mo(t,e,n){const r=e,i=ey("where",t);return zh._create(i,r,n)}class ny extends ty{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ny(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:$n.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)gI(o,l),o=xp(o,l)}(e._query,n),new ma(e.firestore,e.converter,xp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function $_(t,e,n){if(typeof(n=Et(n))=="string"){if(n==="")throw new ee($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hS(e)&&n.indexOf("/")!==-1)throw new ee($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(qe.fromString(n));if(!ae.isDocumentKey(r))throw new ee($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return c_(t,new ae(r))}if(n instanceof Yt)return c_(t,n._key);throw new ee($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vh(n)}.`)}function H_(t,e){if(!Array.isArray(t)||t.length===0)throw new ee($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function gI(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ee($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ee($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class fF{convertValue(e,n="none"){switch(zi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Bi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw he()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Yi(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>at(o.doubleValue));return new Q0(s)}convertGeoPoint(e){return new G0(at(e.latitude),at(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ch(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ql(e));default:return null}}convertTimestamp(e){const n=ji(e);return new gt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=qe.fromString(e);ke(MS(r));const i=new Yl(r.get(1),r.get(3)),s=new ae(r.popFirst(5));return i.isEqual(n)||$r(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vI extends pI{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new zu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ey("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class zu extends vI{data(e={}){return super.data(e)}}class mF{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new il(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new zu(this._firestore,this._userDataWriter,r.key,r,new il(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ee($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new zu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new il(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new zu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new il(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:pF(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function pF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return he()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function na(t){t=hr(t,Yt);const e=hr(t.firestore,pa);return X7(K0(e),t._key).then(n=>gF(e,t,n))}class wI extends fF{constructor(e){super(),this.firestore=e}convertBytes(e){return new ta(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Yt(this.firestore,null,n)}}function Di(t){t=hr(t,ma);const e=hr(t.firestore,pa),n=K0(e),r=new wI(e);return dF(t._query),J7(n,t._query).then(i=>new mF(e,r,t,i))}function wi(t,e,n){t=hr(t,Yt);const r=hr(t.firestore,pa),i=yI(t.converter,e,n);return ry(r,[dI(jh(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,jn.none())])}function $u(t,e,n,...r){t=hr(t,Yt);const i=hr(t.firestore,pa),s=jh(i);let o;return o=typeof(e=Et(e))=="string"||e instanceof Fh?aF(s,"updateDoc",t._key,e,n,r):oF(s,"updateDoc",t._key,e),ry(i,[o.toMutation(t._key,jn.exists(!0))])}function _I(t,e){const n=hr(t.firestore,pa),r=At(t),i=yI(t.converter,e);return ry(n,[dI(jh(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,jn.exists(!1))]).then(()=>r)}function ry(t,e){return function(r,i){const s=new Mr;return r.asyncQueue.enqueueAndForget(async()=>U7(await Y7(r),i,s)),s.promise}(K0(t),e)}function gF(t,e,n){const r=n.docs.get(e._key),i=new wI(t);return new vI(t,i,e._key,r,new il(n.hasPendingWrites,n.fromCache),e.converter)}function rn(){return new X0("serverTimestamp")}(function(e,n=!0){(function(i){ua=i})(la),Go(new Rs("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new pa(new hO(r.getProvider("auth-internal")),new gO(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ee($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yl(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ni(r_,"4.7.4",e),Ni(r_,"4.7.4","esm2017")})();const yF={apiKey:"AIzaSyB8gkHmVLhQyxYZsC3ms-wnOFbmMN33Qlk",authDomain:"hospital-management-b7b39.firebaseapp.com",projectId:"hospital-management-b7b39",storageBucket:"hospital-management-b7b39.appspot.com",messagingSenderId:"88312732489",appId:"1:88312732489:web:2805e6be6efec617d89898",measurementId:"G-QY52Z6LL0S"},EI=ub(yF),gu=lO(EI),je=tF(EI),TI=v.createContext();function En(){return v.useContext(TI)}function vF({children:t}){const[e,n]=v.useState(null),[r,i]=v.useState(!0);async function s(u,d,h){try{const p=await q3(gu,u,d);return await wi(At(je,"users",p.user.uid),{fullName:h,email:u,role:"patient",createdAt:new Date().toISOString()}),p}catch(p){throw p}}function o(u,d){return K3(gu,u,d)}function a(){return X3(gu)}v.useEffect(()=>Y3(gu,d=>{n(d),i(!1)}),[]);const l={currentUser:e,signup:s,login:o,logout:a};return f(TI.Provider,{value:l,children:!r&&t})}function wF(){const[t,e]=v.useState(!1),[n,r]=v.useState(!1),i=_n(),{currentUser:s,logout:o}=En(),a=v.useRef(null),l=()=>{i("/appointments")},u=()=>{i("/patient-portal")},d=async()=>{try{await o(),i("/home")}catch(h){console.error("Failed to log out",h)}};return v.useEffect(()=>{function h(p){a.current&&!a.current.contains(p.target)&&r(!1)}return document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[]),C("nav",{className:"bg-white shadow-md relative z-50",children:[f("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:C("div",{className:"flex justify-between h-16",children:[C("div",{className:"flex items-center",children:[f("div",{className:"flex-shrink-0 flex items-center",children:f(Gt,{to:"/home",className:"text-blue-600 text-2xl font-bold",children:"MediCare"})}),C("div",{className:"hidden md:flex md:ml-10 space-x-8",children:[f(Ha,{title:"Home",icon:f(Iw,{className:"w-5 h-5"}),to:"/home"}),f(Ha,{title:"Doctors",icon:f(Pd,{className:"w-5 h-5"}),to:"/doctors"}),f(Ha,{title:"Appointments",icon:f(Dr,{className:"w-5 h-5"}),to:"/appointments"}),f(Ha,{title:"Contact",icon:f(Id,{className:"w-5 h-5"}),to:"/contact"}),f(Ha,{title:"MediStore",icon:f(Pw,{className:"w-5 h-5"}),to:"/medistore"})]})]}),f("div",{className:"flex items-center md:hidden",children:f("button",{onClick:()=>e(!t),className:"inline-flex items-center justify-center p-2 rounded-md text-blue-600 hover:text-blue-700 hover:bg-blue-50",children:t?f(_h,{className:"block h-6 w-6"}):f(BD,{className:"block h-6 w-6"})})}),f("div",{className:"hidden md:flex items-center",children:s?C("div",{className:"relative",ref:a,children:[C("button",{onClick:()=>r(!n),className:"flex items-center space-x-2 text-gray-700 hover:text-blue-600",children:[f(Cd,{className:"h-8 w-8"}),f("span",{className:"max-[1080px]:hidden",children:s.email})]}),n&&C("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50",children:[f(Gt,{to:"/dashboard",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-blue-50",onClick:()=>r(!1),children:"Dashboard"}),f(Gt,{to:"/appointments",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-blue-50",onClick:()=>r(!1),children:"My Appointments"}),f(Gt,{to:"/profile",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-blue-50",onClick:()=>r(!1),children:"Profile Settings"}),f(Gt,{to:"/order-history",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-blue-50",onClick:()=>r(!1),children:"Order History"}),f("button",{onClick:()=>{d(),r(!1)},className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:"Sign Out"})]})]}):C(_i,{children:[f("button",{onClick:l,className:"ml-4 px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700",children:"Book Appointment"}),f("button",{onClick:u,className:"ml-4 px-4 py-2 text-sm font-medium text-blue-600 border border-blue-600 rounded-md hover:bg-blue-50",children:"Patient Portal"})]})})]})}),t&&C("div",{className:"md:hidden absolute w-full bg-white z-50",children:[C("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:[f(Wa,{title:"Home",icon:f(Iw,{className:"w-5 h-5"}),to:"/home"}),f(Wa,{title:"Doctors",icon:f(Pd,{className:"w-5 h-5"}),to:"/doctors"}),f(Wa,{title:"Appointments",icon:f(Dr,{className:"w-5 h-5"}),to:"/appointments"}),f(Wa,{title:"Contact",icon:f(Id,{className:"w-5 h-5"}),to:"/contact"}),f(Wa,{title:"MediStore",icon:f(Pw,{className:"w-5 h-5"}),to:"/medistore"})]}),f("div",{className:"px-4 py-3 space-y-2",children:s?C(_i,{children:[C("div",{className:"flex items-center px-3 py-2 text-base font-medium text-gray-700",children:[f(Cd,{className:"h-6 w-6 mr-2"}),s.email]}),f(Gt,{to:"/dashboard",className:"block px-3 py-2 text-base font-medium text-gray-700 hover:bg-blue-50 rounded-md",children:"Dashboard"}),f(Gt,{to:"/appointments",className:"block px-3 py-2 text-base font-medium text-gray-700 hover:bg-blue-50 rounded-md",children:"My Appointments"}),f(Gt,{to:"/profile",className:"block px-3 py-2 text-base font-medium text-gray-700 hover:bg-blue-50 rounded-md",children:"Profile Settings"}),f(Gt,{to:"/order-history",className:"block px-3 py-2 text-base font-medium text-gray-700 hover:bg-blue-50 rounded-md",children:"Order History"}),f("button",{onClick:d,className:"w-full text-left px-3 py-2 text-base font-medium text-red-600 hover:bg-red-50 rounded-md",children:"Sign Out"})]}):C(_i,{children:[f("button",{onClick:l,className:"w-full px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700",children:"Book Appointment"}),f("button",{onClick:u,className:"w-full px-4 py-2 text-sm font-medium text-blue-600 border border-blue-600 rounded-md hover:bg-blue-50",children:"Patient Portal"})]})})]})]})}const Ha=({title:t,icon:e,to:n})=>C(Tx,{to:n,className:({isActive:r})=>`
      flex items-center px-3 py-2 text-sm font-medium
      ${r?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-blue-600"}
    `,children:[e,f("span",{className:"ml-2",children:t})]}),Wa=({title:t,icon:e,to:n})=>C(Tx,{to:n,className:({isActive:r})=>`
      flex items-center px-3 py-2 text-base font-medium rounded-md
      ${r?"text-blue-600 bg-blue-50":"text-gray-600 hover:text-blue-600 hover:bg-blue-50"}
    `,children:[e,f("span",{className:"ml-2",children:t})]});function xI({hideChat:t}){const[e,n]=v.useState(!1),[r,i]=v.useState(!1);return v.useEffect(()=>{const s=()=>{i(window.innerWidth<768)};return s(),window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]),v.useEffect(()=>{t&&n(!1)},[t]),t?null:f("div",{className:`fixed ${r?"bottom-0 inset-x-0 px-4 pb-4":"bottom-6 right-6"} z-40`,children:f(uc,{children:e?C(oe.div,{initial:{opacity:0,scale:.5,y:50},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.5,y:50},transition:{duration:.3},className:`bg-white shadow-xl overflow-hidden ${r?"rounded-lg w-full":"rounded-lg w-[380px] sm:w-[400px]"}`,children:[C("div",{className:"bg-blue-600 p-4 flex justify-between items-center",children:[C("h3",{className:"text-white font-medium flex items-center",children:[f(Sw,{className:"h-5 w-5 mr-2"}),"Healthcare Assistant"]}),f("button",{onClick:()=>n(!1),className:"text-white hover:text-gray-200 transition-colors p-1","aria-label":"Close chat",children:f(_h,{className:"h-6 w-6"})})]}),f("div",{className:`${r?"h-[70vh]":"h-[600px]"} w-full`,children:f("iframe",{src:"https://www.chatbase.co/chatbot-iframe/nCvWGJAY3TDgzNyMD4sm6",width:"100%",height:"100%",frameBorder:"0",className:"w-full h-full",title:"Healthcare Chatbot"})})]}):C(oe.button,{initial:{scale:0},animate:{scale:1},whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>n(!0),className:`
              bg-blue-600 text-white shadow-lg hover:bg-blue-700 
              transition-colors duration-200
              ${r?"w-full py-4 rounded-lg flex items-center justify-center space-x-2":"p-4 rounded-full"}
            `,"aria-label":"Open chat",children:[f(Sw,{className:"h-6 w-6"}),r&&f("span",{className:"font-medium",children:"Chat with us"})]})})})}function _F(){const t=[{name:"Home",path:"/home"},{name:"About Us",path:"/about"},{name:"Services",path:"/services"},{name:"Doctors",path:"/doctors"},{name:"Contact",path:"/contact"}],e=[{name:"Emergency Care",path:"/services#emergency"},{name:"Cardiology",path:"/services#cardiology"},{name:"Pediatrics",path:"/services#pediatrics"},{name:"Laboratory",path:"/services#laboratory"},{name:"Preventive Care",path:"/services#preventive"}],n=[{icon:f(Id,{className:"h-5 w-5"}),text:"+1 (555) 123-4567"},{icon:f(J2,{className:"h-5 w-5"}),text:"contact@medicare.com"},{icon:f(Z2,{className:"h-5 w-5"}),text:"123 Medical Center Drive, NY"}];return C("footer",{className:"bg-gray-900 text-gray-300",children:[f("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:C("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[C("div",{children:[f("h3",{className:"text-white text-lg font-semibold mb-4",children:"About MediCare"}),f("p",{className:"text-gray-400 text-sm",children:"Providing quality healthcare services with a focus on patient comfort and well-being. Trust us with your health, as we bring together expertise and compassion."}),f("div",{className:"mt-4 flex space-x-4",children:[{icon:f("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:f("path",{d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z"})}),url:"#"},{icon:f("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:f("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})}),url:"#"},{icon:f("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:f("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})}),url:"#"},{icon:f("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:f("path",{fillRule:"evenodd",d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z",clipRule:"evenodd"})}),url:"#"}].map((i,s)=>f("a",{href:i.url,className:"text-gray-400 hover:text-white transition-colors duration-200",children:i.icon},s))})]}),C("div",{children:[f("h3",{className:"text-white text-lg font-semibold mb-4",children:"Quick Links"}),f("ul",{className:"space-y-2",children:t.map((i,s)=>f("li",{children:f(Gt,{to:i.path,className:"text-gray-400 hover:text-white transition-colors duration-200",children:i.name})},s))})]}),C("div",{children:[f("h3",{className:"text-white text-lg font-semibold mb-4",children:"Our Services"}),f("ul",{className:"space-y-2",children:e.map((i,s)=>f("li",{children:f(Gt,{to:i.path,className:"text-gray-400 hover:text-white transition-colors duration-200",children:i.name})},s))})]}),C("div",{children:[f("h3",{className:"text-white text-lg font-semibold mb-4",children:"Contact Info"}),f("ul",{className:"space-y-4",children:n.map((i,s)=>C("li",{className:"flex items-center space-x-3",children:[f("span",{className:"text-blue-500",children:i.icon}),f("span",{className:"text-gray-400",children:i.text})]},s))})]})]})}),f("div",{className:"border-t border-gray-800",children:f("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:C("div",{className:"md:flex md:items-center md:justify-between",children:[C("div",{className:"text-sm text-gray-400",children:[" ",new Date().getFullYear()," MediCare. All rights reserved."]}),f("div",{className:"mt-4 md:mt-0",children:C("ul",{className:"flex space-x-6 text-sm text-gray-400",children:[f("li",{children:f(Gt,{to:"/privacy",className:"hover:text-white",children:"Privacy Policy"})}),f("li",{children:f(Gt,{to:"/terms",className:"hover:text-white",children:"Terms of Service"})}),f("li",{children:f(Gt,{to:"/sitemap",className:"hover:text-white",children:"Sitemap"})})]})})]})})})]})}class EF extends rE.Component{constructor(){super(...arguments);My(this,"state",{hasError:!1,error:null})}static getDerivedStateFromError(n){return{hasError:!0,error:n}}render(){return this.state.hasError?f("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:C("div",{className:"text-center",children:[f("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Oops! Something went wrong"}),f("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-md",children:"Refresh Page"})]})}):this.props.children}}function TF(){const[t,e]=v.useState(navigator.onLine);return v.useEffect(()=>{const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n),window.addEventListener("offline",r),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}},[]),f(uc,{children:!t&&f(oe.div,{initial:{y:-100},animate:{y:0},exit:{y:-100},className:"fixed top-0 left-0 right-0 bg-red-500 text-white text-center py-2 z-50",children:"You are currently offline. Some features may be unavailable."})})}function xF(){return f("div",{className:"fixed inset-0 bg-white z-50 flex items-center justify-center min-h-screen min-w-full",children:C(oe.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center flex flex-col items-center justify-center",children:[f("div",{className:"w-24 h-24 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mb-4 mx-auto"}),f("h2",{className:"text-2xl font-bold text-blue-600",children:"MediCare"}),f("p",{className:"text-gray-500 mt-2",children:"Loading your healthcare experience..."})]})})}function bF(){Qr();const[t,e]=v.useState(!1),[n,r]=v.useState(!1),[i,s]=v.useState(!0);return v.useEffect(()=>{setTimeout(()=>{s(!1)},2e3)},[]),i?f(xF,{}):f(EF,{children:C("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[f(TF,{}),f(wF,{}),f("main",{className:"flex-grow",children:f(NR,{context:{setShowCart:e,setShowFilters:r}})}),f(xI,{hideChat:t||n}),f(_F,{})]})})}function SF(){const t=_n();return f("div",{className:"relative bg-white overflow-hidden py-12",children:f("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:C("div",{className:"relative z-10 lg:grid lg:grid-cols-2 gap-8 items-center",children:[C(oe.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8,ease:"easeOut"},className:"text-center lg:text-left",children:[C(oe.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.8},className:"text-4xl tracking-tight font-extrabold text-gray-900 sm:text-5xl md:text-6xl",children:[f("span",{className:"block",children:"Your Health is Our"}),f(oe.span,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.8},className:"block text-blue-600",children:"Top Priority"})]}),f(oe.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.8},className:"mt-3 text-base text-gray-500 sm:mt-5 sm:text-lg sm:max-w-xl mx-auto lg:mx-0 md:mt-5 md:text-xl",children:"Experience world-class healthcare with our team of dedicated medical professionals. We're here to provide you with the best possible care and support."}),C(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8,duration:.8},className:"mt-5 sm:mt-8 flex flex-col sm:flex-row justify-center lg:justify-start gap-4",children:[C(oe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t("/appointments"),className:"flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 md:py-4 md:text-lg md:px-10",children:["Book Appointment",f(FD,{className:"ml-2 h-5 w-5"})]}),f(oe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t("/services"),className:"flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-blue-600 bg-blue-100 hover:bg-blue-200 md:py-4 md:text-lg md:px-10",children:"Learn More"})]})]}),f(oe.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.8,ease:"easeOut"},className:"mt-12 lg:mt-0",children:f(oe.img,{whileHover:{scale:1.02},transition:{duration:.3},className:"rounded-lg shadow-xl w-full h-[400px] object-cover",src:"https://images.unsplash.com/photo-1551076805-e1869033e561?ixlib=rb-1.2.1&auto=format&fit=crop&w=1951&q=80",alt:"Medical team"})})]})})})}function IF(){return f("section",{className:"py-16 bg-gray-50",children:C("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[C("div",{className:"text-center",children:[f("h2",{className:"text-3xl font-extrabold text-gray-900 sm:text-4xl",children:"Why Choose MediCare?"}),f("p",{className:"mt-4 text-lg text-gray-500 max-w-2xl mx-auto",children:"We are committed to providing exceptional healthcare services with a focus on patient comfort and well-being."})]}),f("div",{className:"mt-16 grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-4",children:[{icon:f(Pd,{className:"h-8 w-8 text-blue-600"}),title:"Expert Doctors",description:"Our team consists of highly qualified and experienced medical professionals."},{icon:f(Sd,{className:"h-8 w-8 text-blue-600"}),title:"Quality Care",description:"We provide personalized care with a focus on patient comfort and recovery."},{icon:f(JD,{className:"h-8 w-8 text-blue-600"}),title:"Modern Facilities",description:"State-of-the-art medical facilities equipped with the latest technology."},{icon:f(lp,{className:"h-8 w-8 text-blue-600"}),title:"24/7 Service",description:"Round-the-clock emergency services and patient support."}].map((e,n)=>C("div",{className:"bg-white rounded-lg p-6 shadow-md hover:shadow-lg transition-shadow duration-300",children:[f("div",{className:"flex justify-center",children:e.icon}),f("h3",{className:"mt-4 text-xl font-medium text-gray-900 text-center",children:e.title}),f("p",{className:"mt-2 text-gray-500 text-center",children:e.description})]},n))})]})})}const bI=({children:t,className:e})=>f(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.5},className:e,children:t});function CF(){const{currentUser:t}=En(),e=_n(),n=()=>{e(t?"/appointments":"/patient-portal")};return f(bI,{children:C(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},children:[f(SF,{}),f(IF,{}),f("section",{className:"py-16 bg-gray-50",children:C("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[C(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-center mb-12",children:[f("h2",{className:"text-3xl font-bold text-gray-900",children:"Featured Services"}),f("p",{className:"mt-4 text-lg text-gray-500",children:"Experience comprehensive healthcare with our specialized medical services"})]}),C(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[C("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[f("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Emergency Care"}),f("p",{className:"text-gray-600",children:"24/7 emergency medical services with rapid response capabilities."})]}),C("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[f("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Primary Care"}),f("p",{className:"text-gray-600",children:"Comprehensive primary healthcare services for all age groups."})]}),C("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[f("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Specialized Care"}),f("p",{className:"text-gray-600",children:"Expert care in various medical specialties and treatments."})]})]})]})}),f(oe.section,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"bg-blue-600 py-16",children:C("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[f("h2",{className:"text-3xl font-bold text-white mb-8",children:"Ready to experience better healthcare?"}),f(oe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-white text-blue-600 px-8 py-3 rounded-md font-medium hover:bg-gray-100 transition-colors",onClick:n,children:t?"Schedule an Appointment":"Get Started"})]})}),t&&f(oe.div,{initial:{opacity:0},animate:{opacity:1},className:"py-8 text-center",children:f("button",{onClick:()=>e("/dashboard"),className:"text-blue-600 hover:text-blue-700 font-medium",children:"Go to Dashboard "})})]})})}function PF(){const[t,e]=v.useState([]),[n,r]=v.useState(!0),[i,s]=v.useState(null),[o,a]=v.useState("all");v.useState(!1);const l=_n(),{currentUser:u}=En(),d=["all","Cardiology","Neurology","Pediatrics","Orthopedics","Dermatology","General Medicine","Dentistry","Ophthalmology"],h=async()=>{try{r(!0);const E=tr(je,"doctors"),R=(await Di(E)).docs.map(T=>({id:T.id,...T.data()}));e(R)}catch(E){console.error("Error fetching doctors:",E),s("Failed to load doctors")}finally{r(!1)}};v.useEffect(()=>{h()},[]);const p=E=>{if(!u){l("/patient-portal");return}l("/appointments",{state:{preselectedDoctor:E.name,preselectedDepartment:E.department}})},y=o==="all"?t:t.filter(E=>E.department===o);return n?f("div",{className:"flex justify-center items-center min-h-screen",children:f("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):i?f("div",{className:"text-center py-12",children:f("p",{className:"text-red-600",children:i})}):f("div",{className:"py-16 px-4 sm:px-6 lg:px-8",children:C("div",{className:"max-w-7xl mx-auto",children:[C("div",{className:"text-center",children:[f("h1",{className:"text-3xl font-bold text-gray-900",children:"Our Medical Experts"}),f("p",{className:"mt-4 text-lg text-gray-500",children:"Choose from our team of experienced healthcare professionals"})]}),f("div",{className:"mt-8 flex flex-wrap justify-center gap-2",children:d.map(E=>f("button",{onClick:()=>a(E),className:`px-4 py-2 rounded-full text-sm font-medium ${o===E?"bg-blue-600 text-white":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:E.charAt(0).toUpperCase()+E.slice(1)},E))}),f("div",{className:"mt-12 grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3",children:y.map(E=>C(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:[f("img",{src:E.image,alt:E.name,className:"w-full h-64 object-cover"}),C("div",{className:"p-6",children:[C("div",{className:"flex justify-between items-start",children:[C("div",{children:[f("h3",{className:"text-xl font-semibold text-gray-900",children:E.name}),f("p",{className:"text-blue-600",children:E.specialty})]}),C("div",{className:"flex items-center",children:[f(rM,{className:"h-5 w-5 text-yellow-400"}),f("span",{className:"ml-1 text-gray-600",children:E.ratings})]})]}),C("div",{className:"mt-4 space-y-2",children:[C("div",{className:"flex items-center text-gray-600",children:[f(QD,{className:"h-5 w-5 mr-2"}),f("span",{children:E.experience})]}),C("div",{className:"flex items-center text-gray-600",children:[f(AD,{className:"h-5 w-5 mr-2"}),f("span",{children:E.education})]}),C("div",{className:"flex items-center text-gray-600",children:[f(f0,{className:"h-5 w-5 mr-2"}),f("span",{children:E.languages.join(", ")})]})]}),C("div",{className:"mt-6 flex items-center justify-between",children:[C("div",{className:"text-gray-600",children:[C("span",{className:"font-medium text-lg",children:["",E.consultationFee]}),f("span",{className:"text-sm",children:" per visit"})]}),f("button",{onClick:()=>p(E),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Book Appointment"})]})]})]},E.id))})]})})}function AF(){const{currentUser:t}=En(),[e,n]=v.useState(!1),[r,i]=v.useState(""),[s,o]=v.useState(""),l=Qr().state||{},[u,d]=v.useState({appointmentType:"",department:l.preselectedDepartment||"",doctor:l.preselectedDoctor||"",preferredDate:"",preferredTime:"",symptoms:"",additionalNotes:""}),h=["Cardiology","Neurology","Pediatrics","Orthopedics","Dermatology","General Medicine","Dentistry","Ophthalmology"],p={Cardiology:["Dr. Sarah Johnson","Dr. Michael Chen"],Neurology:["Dr. Emily Brown","Dr. David Wilson"],Pediatrics:["Dr. Jessica Lee","Dr. Robert Taylor"],Orthopedics:["Dr. James Anderson","Dr. Lisa Martinez"],Dermatology:["Dr. Anna White","Dr. John Davis"],"General Medicine":["Dr. Mark Thompson","Dr. Rachel Green"],Dentistry:["Dr. Kevin Miller","Dr. Susan Clark"],Ophthalmology:["Dr. Thomas Wright","Dr. Maria Garcia"]},y=["Regular Checkup","Follow-up Visit","New Patient Consultation","Emergency","Specialist Consultation","Diagnostic Test"],[E,b]=v.useState([]),[R,T]=v.useState(!0),_=_n();v.useEffect(()=>{(async()=>{if(t!=null&&t.uid)try{T(!0);const A=Lo(tr(je,"appointments"),Mo("userId","==",t.uid)),V=(await Di(A)).docs.map(N=>{var le,K;return{id:N.id,...N.data(),createdAt:((K=(le=N.data().createdAt)==null?void 0:le.toDate)==null?void 0:K.call(le))||N.data().createdAt,preferredDate:N.data().preferredDate||""}});b(V)}catch(A){console.error("Error fetching appointments:",A),o("Failed to load appointments. Please try again later.")}finally{T(!1)}})()},[t]);const I=x=>{const{name:A,value:D}=x.target;d(V=>({...V,[A]:D})),A==="department"&&d(V=>({...V,doctor:""}))},L=async x=>{x.preventDefault(),n(!0),o(""),i("");try{const A={...u,userId:t.uid,userEmail:t.email,status:"pending",createdAt:rn(),updatedAt:rn()};await _I(tr(je,"appointments"),A);const D=Lo(tr(je,"appointments"),Mo("userId","==",t.uid)),N=(await Di(D)).docs.map(le=>{var K,we;return{id:le.id,...le.data(),createdAt:((we=(K=le.data().createdAt)==null?void 0:K.toDate)==null?void 0:we.call(K))||le.data().createdAt,preferredDate:le.data().preferredDate||""}});b(N),i("Appointment booked successfully!"),d({appointmentType:"",department:"",doctor:"",preferredDate:"",preferredTime:"",symptoms:"",additionalNotes:""})}catch(A){console.error("Error booking appointment:",A),o("Failed to book appointment. Please try again.")}finally{n(!1)}},j=async x=>{try{const A=At(je,"appointments",x);await $u(A,{status:"cancelled",updatedAt:rn()});const D=Lo(tr(je,"appointments"),Mo("userId","==",t.uid)),N=(await Di(D)).docs.map(le=>{var K,we;return{id:le.id,...le.data(),createdAt:((we=(K=le.data().createdAt)==null?void 0:K.toDate)==null?void 0:we.call(K))||le.data().createdAt,preferredDate:le.data().preferredDate||""}});b(N),i("Appointment cancelled successfully")}catch(A){console.error("Error cancelling appointment:",A),o("Failed to cancel appointment")}},k=async x=>{_(`/appointments/reschedule/${x}`)},P=x=>{switch(x.toLowerCase()){case"confirmed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},w=x=>new Date(x).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return f("div",{className:"py-8 px-4 sm:px-6 lg:px-8",children:C("div",{className:"max-w-3xl mx-auto",children:[C(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-lg overflow-hidden mb-8",children:[C("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-8",children:[f("h1",{className:"text-2xl font-bold text-white",children:"Book an Appointment"}),f("p",{className:"mt-2 text-blue-100",children:"Schedule your visit with our healthcare professionals"})]}),C("form",{onSubmit:L,className:"p-6 space-y-6",children:[s&&f("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:C("div",{className:"flex",children:[f("div",{className:"flex-shrink-0",children:f("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:f("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),f("div",{className:"ml-3",children:f("p",{className:"text-sm text-red-600",children:s})})]})}),r&&f("div",{className:"bg-green-50 border-l-4 border-green-400 p-4",children:C("div",{className:"flex",children:[f("div",{className:"flex-shrink-0",children:f("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:f("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),f("div",{className:"ml-3",children:f("p",{className:"text-sm text-green-600",children:r})})]})}),C("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:C("div",{className:"flex items-center",children:[f(Dr,{className:"h-5 w-5 text-gray-400 mr-2"}),"Appointment Type"]})}),C("select",{name:"appointmentType",value:u.appointmentType,onChange:I,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[f("option",{value:"",children:"Select Type"}),y.map(x=>f("option",{value:x,children:x},x))]})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:C("div",{className:"flex items-center",children:[f(tL,{className:"h-5 w-5 text-gray-400 mr-2"}),"Department"]})}),C("select",{name:"department",value:u.department,onChange:I,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[f("option",{value:"",children:"Select Department"}),h.map(x=>f("option",{value:x,children:x},x))]})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:C("div",{className:"flex items-center",children:[f(tb,{className:"h-5 w-5 text-gray-400 mr-2"}),"Doctor"]})}),C("select",{name:"doctor",value:u.doctor,onChange:I,required:!0,disabled:!u.department,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 disabled:bg-gray-100",children:[f("option",{value:"",children:"Select Doctor"}),u.department&&p[u.department].map(x=>f("option",{value:x,children:x},x))]})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:C("div",{className:"flex items-center",children:[f(Dr,{className:"h-5 w-5 text-gray-400 mr-2"}),"Preferred Date"]})}),f("input",{type:"date",name:"preferredDate",value:u.preferredDate,onChange:I,required:!0,min:new Date().toISOString().split("T")[0],className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:C("div",{className:"flex items-center",children:[f(lp,{className:"h-5 w-5 text-gray-400 mr-2"}),"Preferred Time"]})}),C("select",{name:"preferredTime",value:u.preferredTime,onChange:I,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[f("option",{value:"",children:"Select Time"}),f("option",{value:"09:00",children:"09:00 AM"}),f("option",{value:"10:00",children:"10:00 AM"}),f("option",{value:"11:00",children:"11:00 AM"}),f("option",{value:"12:00",children:"12:00 PM"}),f("option",{value:"14:00",children:"02:00 PM"}),f("option",{value:"15:00",children:"03:00 PM"}),f("option",{value:"16:00",children:"04:00 PM"}),f("option",{value:"17:00",children:"05:00 PM"})]})]})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:C("div",{className:"flex items-center",children:[f(f0,{className:"h-5 w-5 text-gray-400 mr-2"}),"Symptoms or Reason for Visit"]})}),f("textarea",{name:"symptoms",value:u.symptoms,onChange:I,required:!0,rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Please describe your symptoms or reason for visit"})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Additional Notes (Optional)"}),f("textarea",{name:"additionalNotes",value:u.additionalNotes,onChange:I,rows:2,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Any additional information you'd like to provide"})]}),f("div",{className:"flex justify-end",children:f(oe.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:e,className:"px-6 py-3 bg-blue-600 text-white font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:e?"Booking...":"Book Appointment"})})]})]}),C(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[f("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-4",children:f("h2",{className:"text-xl font-bold text-white",children:"Your Appointments"})}),f("div",{className:"p-6",children:R?f("div",{className:"flex justify-center items-center py-8",children:f("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):E.length===0?f("div",{className:"text-center py-8 text-gray-500",children:"No appointments found. Book your first appointment above."}):f("div",{className:"space-y-6",children:E.map(x=>f(oe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-gray-50 rounded-lg p-6",children:C("div",{className:"flex justify-between items-start",children:[C("div",{className:"space-y-2",children:[C("div",{className:"flex items-center space-x-2",children:[f("span",{className:"font-semibold text-lg text-gray-900",children:x.doctor}),f("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${P(x.status)}`,children:x.status})]}),C("p",{className:"text-gray-600",children:[x.department," - ",x.appointmentType]}),C("div",{className:"flex items-center text-gray-500 space-x-4",children:[C("div",{className:"flex items-center",children:[f(Dr,{className:"h-4 w-4 mr-1"}),w(x.preferredDate)]}),C("div",{className:"flex items-center",children:[f(lp,{className:"h-4 w-4 mr-1"}),x.preferredTime]})]}),x.symptoms&&C("div",{className:"mt-2",children:[f("p",{className:"text-sm font-medium text-gray-500",children:"Reason for Visit:"}),f("p",{className:"text-gray-700",children:x.symptoms})]}),x.additionalNotes&&C("div",{className:"mt-2",children:[f("p",{className:"text-sm font-medium text-gray-500",children:"Additional Notes:"}),f("p",{className:"text-gray-700",children:x.additionalNotes})]})]}),C("div",{className:"flex space-x-2",children:[x.status.toLowerCase()==="pending"&&f("button",{className:"px-3 py-1 text-sm text-red-600 hover:text-red-700 hover:bg-red-50 rounded-md",onClick:()=>j(x.id),children:"Cancel"}),f("button",{className:"px-3 py-1 text-sm text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-md",onClick:()=>k(x.id),children:"Reschedule"})]})]})},x.id))})})]})]})})}function RF(){return f("div",{className:"py-16 px-4 sm:px-6 lg:px-8",children:C("div",{className:"max-w-7xl mx-auto",children:[C("div",{className:"text-center",children:[f("h1",{className:"text-3xl font-bold text-gray-900",children:"Contact Us"}),f("p",{className:"mt-4 text-lg text-gray-500",children:"We're here to help and answer any questions you might have"})]}),f("div",{className:"mt-12 grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3",children:[{icon:f(Id,{className:"h-6 w-6"}),title:"Phone",details:"+1 (555) 123-4567",subDetails:"Mon-Fri from 8am to 6pm"},{icon:f(J2,{className:"h-6 w-6"}),title:"Email",details:"contact@medicare.com",subDetails:"We'll respond within 24 hours"},{icon:f(Z2,{className:"h-6 w-6"}),title:"Address",details:"123 Medical Center Drive",subDetails:"New York, NY 10001"}].map((e,n)=>C("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[f("div",{className:"flex justify-center items-center w-12 h-12 mx-auto bg-blue-100 rounded-full",children:f("span",{className:"text-blue-600",children:e.icon})}),f("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:e.title}),f("p",{className:"mt-2 text-base text-gray-600",children:e.details}),f("p",{className:"mt-1 text-sm text-gray-500",children:e.subDetails})]},n))}),f("div",{className:"mt-12 bg-white rounded-lg shadow-md",children:C("div",{className:"grid grid-cols-1 lg:grid-cols-2",children:[C("div",{className:"p-6 lg:p-8",children:[f("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Send us a Message"}),C("form",{className:"space-y-6",children:[C("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"First Name"}),f("input",{type:"text",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Last Name"}),f("input",{type:"text",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),f("input",{type:"email",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Message"}),f("textarea",{rows:4,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),f("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700",children:"Send Message"})]})]}),f("div",{className:"bg-gray-50 p-6 lg:p-8 rounded-lg",children:f("iframe",{title:"location",className:"w-full h-full min-h-[400px] rounded-lg",src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d193595.25436351647!2d-74.11976404924044!3d40.69766374873451!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x89c24fa5d33f083b%3A0xc80b8f06e177fe62!2sNew%20York%2C%20NY!5e0!3m2!1sen!2sus!4v1656543799700!5m2!1sen!2sus",loading:"lazy"})})]})})]})})}function NF(){const t=[{icon:f(Sd,{className:"h-8 w-8"}),title:"Cardiology",description:"Comprehensive heart care services including diagnostics, treatment, and prevention.",features:["ECG/EKG","Heart Surgery","Cardiac Rehabilitation"]},{icon:f(Pd,{className:"h-8 w-8"}),title:"Pediatrics",description:"Specialized healthcare services for infants, children, and adolescents.",features:["Vaccinations","Growth Monitoring","Pediatric Surgery"]},{icon:f(Y2,{className:"h-8 w-8"}),title:"Laboratory",description:"State-of-the-art diagnostic testing and laboratory services.",features:["Blood Tests","Pathology","Genetic Testing"]},{icon:f(fL,{className:"h-8 w-8"}),title:"Preventive Care",description:"Comprehensive health screenings and preventive medicine services.",features:["Health Screenings","Immunizations","Wellness Programs"]},{icon:f(eM,{className:"h-8 w-8"}),title:"Emergency Care",description:"24/7 emergency medical services with rapid response capabilities.",features:["Trauma Care","Critical Care","Emergency Surgery"]}],e={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},n={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}};return f(bI,{children:f("div",{className:"py-16 px-4 sm:px-6 lg:px-8",children:C("div",{className:"max-w-7xl mx-auto",children:[C(oe.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center",children:[f("h1",{className:"text-3xl font-bold text-gray-900",children:"Our Services"}),f("p",{className:"mt-4 text-lg text-gray-500 max-w-2xl mx-auto",children:"We offer a comprehensive range of medical services using the latest technology and expert healthcare professionals."})]}),f(oe.div,{variants:e,initial:"hidden",animate:"visible",className:"mt-12 grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3",children:t.map((r,i)=>C(oe.div,{variants:n,whileHover:{scale:1.03},className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow duration-300",children:[f("div",{className:"flex justify-center items-center w-12 h-12 bg-blue-100 rounded-lg text-blue-600 mb-4",children:r.icon}),f("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:r.title}),f("p",{className:"text-gray-500 mb-4",children:r.description}),f("ul",{className:"space-y-2",children:r.features.map((s,o)=>C(oe.li,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.2*o},className:"flex items-center text-gray-600",children:[f("span",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full mr-2"}),s]},o))}),f(oe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"mt-6 w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors duration-200",children:"Learn More"})]},i))})]})})})}function kF(){const[t,e]=v.useState(!0),[n,r]=v.useState({email:"",password:"",fullName:"",confirmPassword:""}),[i,s]=v.useState(""),[o,a]=v.useState(!1),{signup:l,login:u,currentUser:d}=En(),h=_n(),p=b=>{const{name:R,value:T}=b.target;r(_=>({..._,[R]:T}))};async function y(b){if(b.preventDefault(),s(""),!t&&n.password!==n.confirmPassword)return s("Passwords do not match");if(!t&&n.password.length<6)return s("Password must be at least 6 characters");try{a(!0),t?(await u(n.email,n.password),h("/appointments")):(await l(n.email,n.password,n.fullName),h("/appointments"))}catch(R){console.error("Auth error:",R),s(R.code==="auth/email-already-in-use"?"Email already exists":R.code==="auth/invalid-email"?"Invalid email address":"Failed to "+(t?"log in":"create account"))}finally{a(!1)}}const E=[{icon:f(gL,{className:"h-6 w-6"}),title:"Medical Records",description:"Access your complete medical history and test results"},{icon:f(Dr,{className:"h-6 w-6"}),title:"Appointments",description:"Schedule and manage your appointments online"},{icon:f(X2,{className:"h-6 w-6"}),title:"Prescriptions",description:"View and request prescription refills"},{icon:f(f0,{className:"h-6 w-6"}),title:"Messaging",description:"Communicate securely with your healthcare team"}];return f("div",{className:"py-16 px-4 sm:px-6 lg:px-8",children:C("div",{className:"max-w-7xl mx-auto",children:[C("div",{className:"text-center mb-12",children:[f("h1",{className:"text-3xl font-bold text-gray-900",children:"Patient Portal"}),f("p",{className:"mt-4 text-lg text-gray-500",children:"Manage your health records and communicate with your healthcare team"})]}),C("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[C(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-md p-6",children:[C("div",{className:"flex space-x-4 mb-6",children:[f("button",{className:`flex-1 py-2 text-center rounded-md transition-colors duration-200 ${t?"bg-blue-600 text-white":"text-gray-500 hover:bg-gray-100"}`,onClick:()=>{e(!0),s("")},children:"Login"}),f("button",{className:`flex-1 py-2 text-center rounded-md transition-colors duration-200 ${t?"text-gray-500 hover:bg-gray-100":"bg-blue-600 text-white"}`,onClick:()=>{e(!1),s("")},children:"Register"})]}),i&&f("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",children:i}),C("form",{onSubmit:y,className:"space-y-6",children:[!t&&C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Full Name"}),f("input",{type:"text",name:"fullName",value:n.fullName,onChange:p,required:!t,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),f("input",{type:"email",name:"email",value:n.email,onChange:p,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),f("input",{type:"password",name:"password",value:n.password,onChange:p,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),!t&&C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),f("input",{type:"password",name:"confirmPassword",value:n.confirmPassword,onChange:p,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),f("button",{type:"submit",disabled:o,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 disabled:opacity-50 transition-colors duration-200",children:o?"Processing...":t?"Sign In":"Create Account"})]})]}),f("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:E.map((b,R)=>C(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:R*.1},className:"bg-white rounded-lg shadow-md p-6",children:[f("div",{className:"flex items-center justify-center w-12 h-12 bg-blue-100 rounded-lg text-blue-600 mb-4",children:b.icon}),f("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:b.title}),f("p",{className:"text-gray-500",children:b.description})]},R))})]})]})})}function eo({children:t}){const{currentUser:e}=En(),n=Qr();return e?t:f(Wm,{to:"/patient-portal",state:{from:n},replace:!0})}function DF(){const{currentUser:t}=En(),[e,n]=v.useState(null),[r,i]=v.useState([]),[s,o]=v.useState([]),[a,l]=v.useState(null),[u,d]=v.useState(!0),[h,p]=v.useState(null),y=_n();if(v.useEffect(()=>{(async()=>{if(t!=null&&t.uid)try{d(!0),p(null);const R=await na(At(je,"users",t.uid));R.exists()&&n(R.data());const T=Lo(tr(je,"appointments"),Mo("userId","==",t.uid)),I=(await Di(T)).docs.map(w=>({id:w.id,...w.data()}));i(I);const L=Lo(tr(je,"medicalRecords"),Mo("userId","==",t.uid)),k=(await Di(L)).docs.map(w=>({id:w.id,...w.data()}));o(k);const P=await na(At(je,"healthMetrics",t.uid));P.exists()&&l(P.data())}catch(R){console.error("Error fetching user data:",R),p("Failed to load dashboard data")}finally{d(!1)}})()},[t]),u)return f("div",{className:"flex items-center justify-center min-h-screen",children:f("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});if(h)return C("div",{className:"p-4 text-center text-red-600",children:[f("p",{children:h}),f("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md",children:"Retry"})]});if(!r.length&&!s.length&&!a)return f("div",{className:"py-8 px-4 sm:px-6 lg:px-8",children:f("div",{className:"max-w-7xl mx-auto text-center",children:C(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-lg p-8",children:[f("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Welcome to Your Health Dashboard"}),f("p",{className:"text-gray-600 mb-8",children:"Looks like you're new here! Let's get started by setting up your health profile."}),C("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[C(oe.div,{whileHover:{scale:1.05},className:"p-6 bg-blue-50 rounded-lg cursor-pointer",onClick:()=>y("/appointments"),children:[f(Dr,{className:"h-8 w-8 text-blue-600 mx-auto mb-4"}),f("h3",{className:"text-lg font-medium text-gray-900",children:"Book Appointment"}),f("p",{className:"mt-2 text-sm text-gray-500",children:"Schedule your first consultation"})]}),C(oe.div,{whileHover:{scale:1.05},className:"p-6 bg-blue-50 rounded-lg cursor-pointer",onClick:()=>y("/profile"),children:[f(tb,{className:"h-8 w-8 text-blue-600 mx-auto mb-4"}),f("h3",{className:"text-lg font-medium text-gray-900",children:"Complete Profile"}),f("p",{className:"mt-2 text-sm text-gray-500",children:"Add your medical history"})]}),C(oe.div,{whileHover:{scale:1.05},className:"p-6 bg-blue-50 rounded-lg cursor-pointer",onClick:()=>y("/health-metrics"),children:[f(oL,{className:"h-8 w-8 text-blue-600 mx-auto mb-4"}),f("h3",{className:"text-lg font-medium text-gray-900",children:"Add Health Metrics"}),f("p",{className:"mt-2 text-sm text-gray-500",children:"Track your vital signs"})]})]})]})})});const E=()=>{var b,R,T,_;return!(e!=null&&e.medicalHistory)&&!a?null:f(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow mb-8",children:C("div",{className:"p-6",children:[f("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Health Summary"}),C("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(e==null?void 0:e.medicalHistory)&&C("div",{className:"space-y-4",children:[f("h3",{className:"text-lg font-medium text-gray-900",children:"Medical History"}),((b=e.medicalHistory.allergies)==null?void 0:b.length)>0&&C("div",{children:[f("p",{className:"text-sm font-medium text-gray-500",children:"Allergies"}),f("p",{className:"text-gray-900",children:e.medicalHistory.allergies.join(", ")})]}),((R=e.medicalHistory.chronicConditions)==null?void 0:R.length)>0&&C("div",{children:[f("p",{className:"text-sm font-medium text-gray-500",children:"Chronic Conditions"}),f("p",{className:"text-gray-900",children:e.medicalHistory.chronicConditions.join(", ")})]}),((T=e.medicalHistory.currentMedications)==null?void 0:T.length)>0&&C("div",{children:[f("p",{className:"text-sm font-medium text-gray-500",children:"Current Medications"}),f("p",{className:"text-gray-900",children:e.medicalHistory.currentMedications.join(", ")})]})]}),((_=a==null?void 0:a.metrics)==null?void 0:_.length)>0&&C("div",{className:"space-y-4",children:[f("h3",{className:"text-lg font-medium text-gray-900",children:"Latest Health Metrics"}),C("div",{className:"grid grid-cols-2 gap-4",children:[C("div",{children:[f("p",{className:"text-sm font-medium text-gray-500",children:"Blood Pressure"}),f("p",{className:"text-gray-900",children:a.metrics[0].bloodPressure})]}),C("div",{children:[f("p",{className:"text-sm font-medium text-gray-500",children:"Heart Rate"}),C("p",{className:"text-gray-900",children:[a.metrics[0].heartRate," bpm"]})]}),C("div",{children:[f("p",{className:"text-sm font-medium text-gray-500",children:"Weight"}),C("p",{className:"text-gray-900",children:[a.metrics[0].weight," kg"]})]}),C("div",{children:[f("p",{className:"text-sm font-medium text-gray-500",children:"BMI"}),f("p",{className:"text-gray-900",children:a.metrics[0].bmi})]})]})]})]})]})})};return f("div",{className:"py-8 px-4 sm:px-6 lg:px-8",children:C("div",{className:"max-w-7xl mx-auto",children:[C(oe.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-600 to-blue-700 rounded-lg shadow-lg p-6 mb-8 text-white",children:[C("h1",{className:"text-2xl font-bold",children:["Welcome back, ",e==null?void 0:e.fullName]}),f("p",{className:"mt-2 text-blue-100",children:"Here's your health overview"})]}),E(),f("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:f(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow p-6",children:C("div",{className:"flex items-center",children:[f(Dr,{className:"h-8 w-8 text-blue-600"}),C("div",{className:"ml-4",children:[f("p",{className:"text-sm font-medium text-gray-600",children:"Upcoming Appointments"}),f("p",{className:"text-2xl font-semibold text-gray-900",children:r.length})]})]})})}),f(oe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-white rounded-lg shadow mb-8",children:C("div",{className:"p-6",children:[f("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Upcoming Appointments"}),f("div",{className:"space-y-4",children:r.map(b=>C("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[C("div",{className:"flex items-center",children:[f(Dr,{className:"h-10 w-10 text-blue-600"}),C("div",{className:"ml-4",children:[f("p",{className:"font-medium text-gray-900",children:b.doctor}),C("p",{className:"text-sm text-gray-500",children:[b.preferredDate," at ",b.preferredTime]}),f("p",{className:"text-sm text-blue-600",children:b.appointmentType})]})]}),f("button",{onClick:()=>y(`/appointments/${b.id}`),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"View Details"})]},b.id))})]})}),f(oe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-lg shadow mb-8",children:C("div",{className:"p-6",children:[f("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Recent Medical Records"}),f("div",{className:"space-y-4",children:s.map(b=>f("div",{className:"p-4 bg-gray-50 rounded-lg",children:C("div",{className:"flex items-center justify-between",children:[C("div",{children:[f("p",{className:"font-medium text-gray-900",children:b.type}),f("p",{className:"text-sm text-gray-500",children:b.date}),f("p",{className:"text-sm text-blue-600",children:b.doctor})]}),f("button",{onClick:()=>y(`/medical-records/${b.id}`),className:"px-4 py-2 text-blue-600 hover:text-blue-700",children:"View Record"})]})},b.id))})]})}),a&&f(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow",children:C("div",{className:"p-6",children:[f("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Health Metrics"}),f("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:a.metrics.map((b,R)=>C("div",{className:"p-4 bg-gray-50 rounded-lg",children:[f("p",{className:"text-sm text-gray-500",children:b.date}),C("p",{className:"text-lg font-medium text-gray-900",children:["BP: ",b.bloodPressure]}),C("p",{className:"text-sm text-blue-600",children:["Heart Rate: ",b.heartRate]})]},R))})]})})]})})}function LF(){const{currentUser:t}=En(),[e,n]=v.useState("personal"),[r,i]=v.useState(!1),[s,o]=v.useState(!0),[a,l]=v.useState(""),[u,d]=v.useState(""),[h,p]=v.useState({fullName:"",email:"",phone:"",dateOfBirth:"",gender:"",address:"",emergencyContact:"",bloodGroup:"",medicalHistory:{allergies:[],chronicConditions:[],currentMedications:[],pastSurgeries:[]},preferences:{notifications:{email:!0,sms:!0,appointments:!0,reminders:!0},language:"English",timeZone:"UTC"}}),[y,E]=v.useState(!1),[b,R]=v.useState(!1);v.useEffect(()=>{(async()=>{if(t!=null&&t.uid)try{o(!0);const we=await na(At(je,"users",t.uid));if(we.exists()){const re=we.data();p(W=>{var ie;return{...W,...re,medicalHistory:{...W.medicalHistory,...re.medicalHistory||{}},preferences:{...W.preferences,...re.preferences||{},notifications:{...W.preferences.notifications,...((ie=re.preferences)==null?void 0:ie.notifications)||{}}}}})}else await wi(At(je,"users",t.uid),{fullName:t.displayName||"",email:t.email,createdAt:rn(),updatedAt:rn()})}catch(we){console.error("Error fetching user data:",we),l("Failed to load profile data")}finally{o(!1)}})()},[t]);const T=K=>{const{name:we,value:re}=K.target;p(W=>({...W,[we]:re}))},_=async K=>{K.preventDefault(),o(!0),l(""),d("");try{const we=At(je,"users",t.uid),re={...h,medicalHistory:{allergies:h.medicalHistory.allergies||[],chronicConditions:h.medicalHistory.chronicConditions||[],currentMedications:h.medicalHistory.currentMedications||[],pastSurgeries:h.medicalHistory.pastSurgeries||[]},preferences:{language:h.preferences.language||"English",timeZone:h.preferences.timeZone||"UTC",notifications:{email:h.preferences.notifications.email,sms:h.preferences.notifications.sms,appointments:h.preferences.notifications.appointments,reminders:h.preferences.notifications.reminders}},updatedAt:rn()};await $u(we,re),d("Profile updated successfully!"),i(!1)}catch(we){console.error("Error updating profile:",we),l("Failed to update profile")}finally{o(!1)}},I=(K,we)=>{p(re=>({...re,medicalHistory:{...re.medicalHistory,[K]:Array.isArray(we)?we:we.split(",").map(W=>W.trim())}}))},L=(K,we)=>{p(re=>({...re,preferences:{...re.preferences,[K]:we}}))},j=async()=>{o(!0),l(""),d("");try{const K=At(je,"users",t.uid);await $u(K,{medicalHistory:h.medicalHistory,updatedAt:rn()}),d("Medical history updated successfully!"),E(!1)}catch(K){console.error("Error updating medical history:",K),l("Failed to update medical history")}finally{o(!1)}},k=async()=>{o(!0),l(""),d("");try{const K=At(je,"users",t.uid);await $u(K,{preferences:h.preferences,updatedAt:rn()}),d("Preferences updated successfully!"),R(!1)}catch(K){console.error("Error updating preferences:",K),l("Failed to update preferences")}finally{o(!1)}},P=()=>C("form",{onSubmit:_,className:"space-y-6",children:[C("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Full Name"}),f("input",{type:"text",name:"fullName",value:h.fullName,onChange:T,disabled:!r,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),f("input",{type:"email",name:"email",onChange:T,value:h.email,disabled:!r,className:"mt-1 block w-full rounded-md border-gray-300 bg-gray-50 shadow-sm"})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),f("input",{type:"tel",name:"phone",value:h.phone,onChange:T,disabled:!r,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Date of Birth"}),f("input",{type:"date",name:"dateOfBirth",value:h.dateOfBirth,onChange:T,disabled:!r,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Gender"}),C("select",{name:"gender",value:h.gender,onChange:T,disabled:!r,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[f("option",{value:"",children:"Select Gender"}),f("option",{value:"male",children:"Male"}),f("option",{value:"female",children:"Female"}),f("option",{value:"other",children:"Other"})]})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Blood Group"}),f("input",{type:"text",name:"bloodGroup",value:h.bloodGroup,onChange:T,disabled:!r,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),C("div",{className:"md:col-span-2",children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Address"}),f("textarea",{name:"address",value:h.address,onChange:T,disabled:!r,rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),C("div",{className:"md:col-span-2",children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Emergency Contact"}),f("input",{type:"text",name:"emergencyContact",value:h.emergencyContact,onChange:T,disabled:!r,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),f("div",{className:"mt-6 flex justify-end space-x-4",children:r?C(_i,{children:[f("button",{type:"button",onClick:()=>i(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),f("button",{type:"submit",disabled:s,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:opacity-50",children:s?"Saving...":"Save Changes"})]}):f("button",{type:"button",onClick:()=>i(!0),className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700",children:"Edit Profile"})})]}),w=[{id:"personal",icon:Cd,label:"Personal Info"},{id:"medical",icon:X2,label:"Medical History"},{id:"preferences",icon:EL,label:"Preferences"},{id:"security",icon:ML,label:"Security"},{id:"notifications",icon:qD,label:"Notifications"},{id:"privacy",icon:KL,label:"Privacy"}],x=()=>C("div",{className:"space-y-6",children:[C("div",{className:"flex justify-between items-center",children:[f("h3",{className:"text-lg font-medium text-gray-900",children:"Medical History"}),f("button",{onClick:()=>E(!y),className:"px-4 py-2 text-sm font-medium text-blue-600 hover:text-blue-700",children:y?"Cancel":"Edit"})]}),C("div",{className:"grid grid-cols-1 gap-6",children:[C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Allergies"}),f("input",{type:"text",value:h.medicalHistory.allergies.join(", "),onChange:K=>I("allergies",K.target.value),disabled:!y,placeholder:"Enter allergies separated by commas",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Chronic Conditions"}),f("input",{type:"text",value:h.medicalHistory.chronicConditions.join(", "),onChange:K=>I("chronicConditions",K.target.value),disabled:!y,placeholder:"Enter chronic conditions separated by commas",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Current Medications"}),f("input",{type:"text",value:h.medicalHistory.currentMedications.join(", "),onChange:K=>I("currentMedications",K.target.value),disabled:!y,placeholder:"Enter current medications separated by commas",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Past Surgeries"}),f("input",{type:"text",value:h.medicalHistory.pastSurgeries.join(", "),onChange:K=>I("pastSurgeries",K.target.value),disabled:!y,placeholder:"Enter past surgeries separated by commas",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),y&&f("div",{className:"flex justify-end",children:f("button",{onClick:j,disabled:s,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:opacity-50",children:s?"Saving...":"Save Medical History"})})]}),A=()=>C("div",{className:"space-y-6",children:[C("div",{className:"flex justify-between items-center",children:[f("h3",{className:"text-lg font-medium text-gray-900",children:"Account Preferences"}),f("button",{onClick:()=>R(!b),className:"px-4 py-2 text-sm font-medium text-blue-600 hover:text-blue-700",children:b?"Cancel":"Edit"})]}),C("div",{className:"grid grid-cols-1 gap-6",children:[C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Language"}),C("select",{value:h.preferences.language,onChange:K=>L("language",K.target.value),disabled:!b,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[f("option",{value:"English",children:"English"}),f("option",{value:"Spanish",children:"Spanish"}),f("option",{value:"French",children:"French"}),f("option",{value:"German",children:"German"}),f("option",{value:"Chinese",children:"Chinese"})]})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Time Zone"}),C("select",{value:h.preferences.timeZone,onChange:K=>L("timeZone",K.target.value),disabled:!b,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[f("option",{value:"UTC",children:"UTC"}),f("option",{value:"EST",children:"Eastern Time"}),f("option",{value:"CST",children:"Central Time"}),f("option",{value:"PST",children:"Pacific Time"})]})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notification Preferences"}),f("div",{className:"space-y-2",children:Object.entries(h.preferences.notifications).map(([K,we])=>C("div",{className:"flex items-center",children:[f("input",{type:"checkbox",id:K,checked:we,onChange:()=>L("notifications",{...h.preferences.notifications,[K]:!we}),disabled:!b,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),C("label",{htmlFor:K,className:"ml-2 block text-sm text-gray-700 capitalize",children:[K.replace(/([A-Z])/g," $1").trim()," Notifications"]})]},K))})]})]}),b&&f("div",{className:"flex justify-end",children:f("button",{onClick:k,disabled:s,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:opacity-50",children:s?"Saving...":"Save Preferences"})})]}),D=()=>C("div",{className:"space-y-6",children:[f("div",{className:"flex justify-between items-center",children:f("h3",{className:"text-lg font-medium text-gray-900",children:"Security Settings"})}),C("div",{className:"space-y-6",children:[C("div",{children:[f("h4",{className:"text-md font-medium text-gray-700 mb-4",children:"Change Password"}),C("form",{className:"space-y-4",children:[C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Current Password"}),f("input",{type:"password",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"New Password"}),f("input",{type:"password",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Confirm New Password"}),f("input",{type:"password",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),f("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700",children:"Update Password"})]})]}),C("div",{className:"pt-6 border-t border-gray-200",children:[f("h4",{className:"text-md font-medium text-gray-700 mb-4",children:"Two-Factor Authentication"}),C("div",{className:"flex items-center justify-between",children:[f("div",{children:f("p",{className:"text-sm text-gray-600",children:"Add an extra layer of security to your account"})}),f("button",{className:"px-4 py-2 text-sm font-medium text-blue-600 border border-blue-600 rounded-md hover:bg-blue-50",children:"Enable 2FA"})]})]}),C("div",{className:"pt-6 border-t border-gray-200",children:[f("h4",{className:"text-md font-medium text-gray-700 mb-4",children:"Recent Login Activity"}),C("div",{className:"space-y-3",children:[C("div",{className:"flex justify-between items-center text-sm",children:[f("span",{className:"text-gray-600",children:"Chrome on Windows"}),f("span",{className:"text-gray-500",children:"Today, 2:45 PM"})]}),C("div",{className:"flex justify-between items-center text-sm",children:[f("span",{className:"text-gray-600",children:"Safari on iPhone"}),f("span",{className:"text-gray-500",children:"Yesterday, 10:30 AM"})]})]})]})]})]}),V=()=>C("div",{className:"space-y-6",children:[f("div",{className:"flex justify-between items-center",children:f("h3",{className:"text-lg font-medium text-gray-900",children:"Notification Settings"})}),C("div",{className:"space-y-6",children:[C("div",{children:[f("h4",{className:"text-md font-medium text-gray-700 mb-4",children:"Email Notifications"}),f("div",{className:"space-y-3",children:[{id:"appointments",label:"Appointment Reminders"},{id:"prescriptions",label:"Prescription Refills"},{id:"results",label:"Test Results"},{id:"updates",label:"Healthcare Updates"}].map(K=>C("div",{className:"flex items-center",children:[f("input",{type:"checkbox",id:`email-${K.id}`,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),f("label",{htmlFor:`email-${K.id}`,className:"ml-2 block text-sm text-gray-700",children:K.label})]},K.id))})]}),C("div",{className:"pt-6 border-t border-gray-200",children:[f("h4",{className:"text-md font-medium text-gray-700 mb-4",children:"SMS Notifications"}),f("div",{className:"space-y-3",children:[{id:"appointments",label:"Appointment Reminders"},{id:"emergency",label:"Emergency Alerts"},{id:"confirmations",label:"Booking Confirmations"}].map(K=>C("div",{className:"flex items-center",children:[f("input",{type:"checkbox",id:`sms-${K.id}`,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),f("label",{htmlFor:`sms-${K.id}`,className:"ml-2 block text-sm text-gray-700",children:K.label})]},K.id))})]}),C("div",{className:"pt-6 border-t border-gray-200",children:[f("h4",{className:"text-md font-medium text-gray-700 mb-4",children:"Push Notifications"}),f("div",{className:"space-y-3",children:[{id:"reminders",label:"Medication Reminders"},{id:"updates",label:"Health Updates"},{id:"news",label:"Healthcare News"}].map(K=>C("div",{className:"flex items-center",children:[f("input",{type:"checkbox",id:`push-${K.id}`,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),f("label",{htmlFor:`push-${K.id}`,className:"ml-2 block text-sm text-gray-700",children:K.label})]},K.id))})]})]})]}),N=()=>C("div",{className:"space-y-6",children:[f("div",{className:"flex justify-between items-center",children:f("h3",{className:"text-lg font-medium text-gray-900",children:"Privacy Settings"})}),C("div",{className:"space-y-6",children:[C("div",{children:[f("h4",{className:"text-md font-medium text-gray-700 mb-4",children:"Profile Visibility"}),f("div",{className:"space-y-3",children:C("div",{className:"flex items-center justify-between",children:[C("div",{children:[f("p",{className:"text-sm font-medium text-gray-700",children:"Who can see your profile"}),f("p",{className:"text-sm text-gray-500",children:"Choose who can view your medical history"})]}),C("select",{className:"mt-1 block w-48 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[f("option",{children:"Only My Doctors"}),f("option",{children:"Healthcare Team"}),f("option",{children:"Custom"})]})]})})]}),C("div",{className:"pt-6 border-t border-gray-200",children:[f("h4",{className:"text-md font-medium text-gray-700 mb-4",children:"Data Sharing"}),f("div",{className:"space-y-3",children:[{id:"research",label:"Share data for medical research",description:"Your data will be anonymized"},{id:"insurance",label:"Share with insurance provider",description:"Required for claims processing"},{id:"analytics",label:"Healthcare analytics",description:"Help improve our services"}].map(K=>C("div",{className:"flex items-center justify-between",children:[C("div",{children:[f("p",{className:"text-sm font-medium text-gray-700",children:K.label}),f("p",{className:"text-sm text-gray-500",children:K.description})]}),f("div",{className:"flex items-center",children:f("input",{type:"checkbox",id:K.id,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})})]},K.id))})]}),C("div",{className:"pt-6 border-t border-gray-200",children:[f("h4",{className:"text-md font-medium text-gray-700 mb-4",children:"Your Data"}),C("div",{className:"space-y-4",children:[f("button",{className:"px-4 py-2 text-sm font-medium text-blue-600 border border-blue-600 rounded-md hover:bg-blue-50",children:"Download Medical Records"}),f("button",{className:"ml-4 px-4 py-2 text-sm font-medium text-red-600 border border-red-600 rounded-md hover:bg-red-50",children:"Delete Account"})]})]})]})]}),le=()=>{switch(e){case"personal":return P();case"medical":return x();case"preferences":return A();case"security":return D();case"notifications":return V();case"privacy":return N();default:return P()}};return s?f("div",{className:"flex items-center justify-center min-h-screen",children:f("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):f("div",{className:"py-8 px-4 sm:px-6 lg:px-8",children:C("div",{className:"max-w-7xl mx-auto",children:[f(oe.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-lg p-6 mb-8",children:C("div",{className:"flex items-center space-x-4",children:[f("div",{className:"h-20 w-20 bg-blue-100 rounded-full flex items-center justify-center",children:f(Cd,{className:"h-12 w-12 text-blue-600"})}),C("div",{children:[f("h1",{className:"text-2xl font-bold text-gray-900",children:h.fullName}),f("p",{className:"text-gray-500",children:h.email})]})]})}),C("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[f(oe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"lg:col-span-1",children:f("div",{className:"bg-white rounded-lg shadow",children:f("nav",{className:"space-y-1",children:w.map(K=>C("button",{onClick:()=>n(K.id),className:`w-full flex items-center px-4 py-3 text-sm font-medium ${e===K.id?"bg-blue-50 text-blue-600 border-l-4 border-blue-600":"text-gray-600 hover:bg-gray-50"}`,children:[f(K.icon,{className:"h-5 w-5 mr-3"}),K.label]},K.id))})})}),f(oe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"lg:col-span-3",children:f("div",{className:"bg-white rounded-lg shadow",children:f("div",{className:"p-6",children:le()})})})]})]})})}function MF(){const{currentUser:t}=En(),e=_n(),[n,r]=v.useState(!1),[i,s]=v.useState(""),[o,a]=v.useState(""),[l,u]=v.useState({bloodPressure:"",heartRate:"",weight:"",height:"",temperature:"",bloodSugar:"",oxygenLevel:"",bmi:"",notes:""});v.useEffect(()=>{const p=async()=>{try{const y=await na(At(je,"healthMetrics",t.uid));if(y.exists()){const E=y.data().metrics[0];u(b=>({...b,...E}))}}catch(y){console.error("Error fetching metrics:",y)}};t!=null&&t.uid&&p()},[t]);const d=p=>{const{name:y,value:E}=p.target;if(u(b=>({...b,[y]:E})),(y==="height"||y==="weight")&&l.height&&l.weight){const b=parseFloat(l.height)/100,R=parseFloat(l.weight);if(!isNaN(b)&&!isNaN(R)&&b>0){const T=(R/(b*b)).toFixed(1);u(_=>({..._,bmi:T}))}}},h=async p=>{p.preventDefault(),r(!0),a(""),s("");try{const y=At(je,"healthMetrics",t.uid),E=await na(y),b={...l,date:new Date().toISOString(),createdAt:rn()};if(E.exists()){const R=E.data().metrics||[];await wi(y,{userId:t.uid,metrics:[b,...R].slice(0,10)})}else await wi(y,{userId:t.uid,metrics:[b]});s("Health metrics saved successfully!"),setTimeout(()=>{e("/dashboard")},2e3)}catch(y){console.error("Error saving metrics:",y),a("Failed to save health metrics")}finally{r(!1)}};return f("div",{className:"py-8 px-4 sm:px-6 lg:px-8",children:f("div",{className:"max-w-3xl mx-auto",children:C(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[f("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-8",children:C("div",{className:"flex items-center",children:[f("button",{onClick:()=>e("/dashboard"),className:"text-white hover:text-blue-100 transition-colors",children:f(MD,{className:"h-6 w-6"})}),C("div",{className:"ml-4",children:[f("h1",{className:"text-2xl font-bold text-white",children:"Health Metrics"}),f("p",{className:"mt-2 text-blue-100",children:"Track and monitor your vital health measurements"})]})]})}),C("form",{onSubmit:h,className:"p-6 space-y-6",children:[o&&f("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 text-red-700",children:o}),i&&f("div",{className:"bg-green-50 border-l-4 border-green-400 p-4 text-green-700",children:i}),C("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:C("div",{className:"flex items-center",children:[f(Sd,{className:"h-5 w-5 text-gray-400 mr-2"}),"Blood Pressure (mmHg)"]})}),f("input",{type:"text",name:"bloodPressure",value:l.bloodPressure,onChange:d,placeholder:"120/80",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:C("div",{className:"flex items-center",children:[f(Sd,{className:"h-5 w-5 text-gray-400 mr-2"}),"Heart Rate (bpm)"]})}),f("input",{type:"number",name:"heartRate",value:l.heartRate,onChange:d,placeholder:"72",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:C("div",{className:"flex items-center",children:[f(Cw,{className:"h-5 w-5 text-gray-400 mr-2"}),"Weight (kg)"]})}),f("input",{type:"number",step:"0.1",name:"weight",value:l.weight,onChange:d,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:C("div",{className:"flex items-center",children:[f(Cw,{className:"h-5 w-5 text-gray-400 mr-2"}),"Height (cm)"]})}),f("input",{type:"number",name:"height",value:l.height,onChange:d,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"BMI"}),f("input",{type:"text",value:l.bmi,disabled:!0,className:"mt-1 block w-full rounded-md border-gray-300 bg-gray-50 shadow-sm"})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:C("div",{className:"flex items-center",children:[f(Y2,{className:"h-5 w-5 text-gray-400 mr-2"}),"Blood Sugar (mg/dL)"]})}),f("input",{type:"number",name:"bloodSugar",value:l.bloodSugar,onChange:d,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Oxygen Level (%)"}),f("input",{type:"number",name:"oxygenLevel",value:l.oxygenLevel,onChange:d,max:"100",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Temperature (F)"}),f("input",{type:"number",step:"0.1",name:"temperature",value:l.temperature,onChange:d,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Additional Notes"}),f("textarea",{name:"notes",value:l.notes,onChange:d,rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Any additional information about your health metrics..."})]}),f("div",{className:"flex justify-end",children:f(oe.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:n,className:"px-6 py-3 bg-blue-600 text-white font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:n?"Saving...":"Save Metrics"})})]})]})})})}function VF({product:t,onAddToCart:e}){return C(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:[f("img",{src:t.image,alt:t.name,className:"w-full h-48 object-cover"}),C("div",{className:"p-4",children:[f("h3",{className:"text-lg font-semibold text-gray-900",children:t.name}),f("p",{className:"text-sm text-gray-500",children:t.description}),C("div",{className:"mt-4 flex items-center justify-between",children:[C("span",{className:"text-lg font-bold text-gray-900",children:["",t.price.toFixed(2)]}),C(oe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e(t),className:"flex items-center px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[f(eb,{className:"h-5 w-5 mr-1"}),"Add to Cart"]})]})]})]})}const SI=v.createContext();function iy(){return v.useContext(SI)}function OF({children:t}){const[e,n]=v.useState([]),[r,i]=v.useState(!0),{currentUser:s}=En();v.useEffect(()=>{(async()=>{if(!s){n([]),i(!1);return}try{const p=await na(At(je,"carts",s.uid));p.exists()?n(p.data().items||[]):(await wi(At(je,"carts",s.uid),{items:[],updatedAt:rn()}),n([]))}catch(p){console.error("Error fetching cart:",p)}finally{i(!1)}})()},[s]),v.useEffect(()=>{r||(async()=>{if(s)try{await wi(At(je,"carts",s.uid),{items:e,updatedAt:rn()})}catch(p){console.error("Error saving cart:",p)}})()},[e,s,r]);const d={cart:e,addToCart:async h=>{if(s)try{const p=At(je,"carts",s.uid),y={id:h.id,name:h.name,price:h.price,image:h.image,quantity:1},E=e,b=E.findIndex(T=>T.id===h.id);let R;b>=0?R=E.map((T,_)=>_===b?{...T,quantity:T.quantity+1}:T):R=[...E,y],await wi(p,{items:R,updatedAt:rn()}),n(R)}catch(p){console.error("Error adding to cart:",p)}},updateQuantity:async(h,p)=>{if(s)try{const y=At(je,"carts",s.uid);let E;p<=0?E=e.filter(b=>b.id!==h):E=e.map(b=>b.id===h?{...b,quantity:p}:b),await wi(y,{items:E,updatedAt:rn()}),n(E)}catch(y){console.error("Error updating cart:",y)}},getCartTotal:()=>e.reduce((h,p)=>h+p.price*p.quantity,0),clearCart:()=>{n([])},loading:r};return f(SI.Provider,{value:d,children:t})}function FF({isOpen:t,onClose:e}){const n=_n(),{cart:r,updateQuantity:i,getCartTotal:s}=iy(),o=(u,d)=>{d>=0&&i(u,d)},a=u=>{i(u,0)},l=()=>{n("/checkout"),e()};return f(uc,{children:t&&C(_i,{children:[f(oe.div,{initial:{opacity:0},animate:{opacity:.5},exit:{opacity:0},className:"fixed inset-0 bg-black z-50",onClick:e}),f(oe.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"tween"},className:"fixed right-0 top-0 h-full w-full sm:w-96 bg-white shadow-xl z-50",children:C("div",{className:"flex flex-col h-full",children:[f("div",{className:"p-4 border-b",children:C("div",{className:"flex items-center justify-between",children:[f("h2",{className:"text-lg font-semibold",children:"Shopping Cart"}),f("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full",children:f(_h,{className:"h-6 w-6"})})]})}),f("div",{className:"flex-1 overflow-y-auto p-4",children:r.length===0?f("div",{className:"text-center py-8 text-gray-500",children:"Your cart is empty"}):f("div",{className:"space-y-4",children:r.map(u=>C(oe.div,{layout:!0,className:"flex items-center space-x-4 bg-gray-50 p-4 rounded-lg",children:[f("img",{src:u.image,alt:u.name,className:"w-20 h-20 object-cover rounded"}),C("div",{className:"flex-1",children:[f("h3",{className:"font-medium",children:u.name}),C("p",{className:"text-sm text-gray-500",children:["",u.price.toFixed(2)]}),C("div",{className:"mt-2 flex items-center space-x-2",children:[f("button",{onClick:()=>o(u.id,u.quantity-1),className:"p-1 px-2 text-gray-500 hover:text-gray-700 hover:bg-gray-200 rounded",children:"-"}),f("span",{className:"px-2",children:u.quantity}),f("button",{onClick:()=>o(u.id,u.quantity+1),className:"p-1 px-2 text-gray-500 hover:text-gray-700 hover:bg-gray-200 rounded",children:"+"})]})]}),f("button",{onClick:()=>a(u.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-full",children:f(oM,{className:"h-5 w-5"})})]},u.id))})}),r.length>0&&C("div",{className:"p-4 border-t",children:[C("div",{className:"flex justify-between mb-4",children:[f("span",{className:"font-medium",children:"Total"}),C("span",{className:"font-bold",children:["",s().toFixed(2)]})]}),f("button",{onClick:l,className:"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Proceed to Checkout"})]})]})})]})})}function UF({isOpen:t,onClose:e,selectedCategory:n,onSelectCategory:r}){const i=["all","prescription","over-the-counter","vitamins","personal care","first aid","baby care","health devices"],s=[{label:"Under 100",value:"0-100"},{label:"100 - 500",value:"100-500"},{label:"500 - 1000",value:"500-1000"},{label:"Over 1000",value:"1000-above"}];return f(uc,{children:t&&C(_i,{children:[f(oe.div,{initial:{opacity:0},animate:{opacity:.5},exit:{opacity:0},className:"fixed inset-0 bg-black z-50",onClick:e}),f(oe.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"tween"},className:"fixed left-0 top-0 h-full w-full sm:w-80 bg-white shadow-xl z-50",children:C("div",{className:"flex flex-col h-full",children:[C("div",{className:"p-4 border-b flex items-center justify-between",children:[C("div",{className:"flex items-center",children:[f(PL,{className:"h-5 w-5 text-gray-500 mr-2"}),f("h2",{className:"text-lg font-semibold",children:"Filters"})]}),f("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full",children:f(_h,{className:"h-6 w-6"})})]}),C("div",{className:"flex-1 overflow-y-auto p-4",children:[C("div",{className:"mb-8",children:[f("h3",{className:"text-sm font-medium text-gray-900 mb-4",children:"Categories"}),f("div",{className:"space-y-2",children:i.map(o=>f("button",{onClick:()=>{r(o),e()},className:`w-full text-left px-3 py-2 rounded-md text-sm ${n===o?"bg-blue-50 text-blue-600":"text-gray-700 hover:bg-gray-50"}`,children:o.charAt(0).toUpperCase()+o.slice(1)},o))})]}),C("div",{className:"mb-8",children:[f("h3",{className:"text-sm font-medium text-gray-900 mb-4",children:"Price Range"}),f("div",{className:"space-y-2",children:s.map(o=>C("label",{className:"flex items-center",children:[f("input",{type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),f("span",{className:"ml-2 text-sm text-gray-700",children:o.label})]},o.value))})]}),C("div",{className:"mb-8",children:[f("h3",{className:"text-sm font-medium text-gray-900 mb-4",children:"Availability"}),C("div",{className:"space-y-2",children:[C("label",{className:"flex items-center",children:[f("input",{type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),f("span",{className:"ml-2 text-sm text-gray-700",children:"In Stock"})]}),C("label",{className:"flex items-center",children:[f("input",{type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),f("span",{className:"ml-2 text-sm text-gray-700",children:"Prescription Required"})]})]})]}),C("div",{children:[f("h3",{className:"text-sm font-medium text-gray-900 mb-4",children:"Brands"}),f("div",{className:"space-y-2",children:["Brand A","Brand B","Brand C","Brand D"].map(o=>C("label",{className:"flex items-center",children:[f("input",{type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),f("span",{className:"ml-2 text-sm text-gray-700",children:o})]},o))})]})]}),f("div",{className:"p-4 border-t",children:f("button",{onClick:e,className:"w-full bg-blue-600 text-white py-2 rounded-md hover:bg-blue-700",children:"Apply Filters"})})]})})]})})}function jF(){const[t,e]=v.useState([]),[n,r]=v.useState(!0),[i,s]=v.useState(null),[o,a]=v.useState(""),[l,u]=v.useState("all"),[d,h]=v.useState(!1),[p,y]=v.useState(!1),[E,b]=v.useState(!1),{currentUser:R}=En(),{cart:T,addToCart:_}=iy(),I=_n(),L=["all","prescription","over-the-counter","vitamins","personal care","first aid","baby care","health devices"];v.useEffect(()=>{(async()=>{try{r(!0);const w=tr(je,"medicines"),A=(await Di(w)).docs.map(D=>({id:D.id,...D.data()}));e(A)}catch(w){console.error("Error fetching medicines:",w),s("Failed to load medicines")}finally{r(!1)}})()},[]);const j=async P=>{if(!R){b(!0);return}try{await _(P),y(!0)}catch(w){console.error("Error adding to cart:",w)}},k=t.filter(P=>(l==="all"||P.category===l)&&P.name.toLowerCase().includes(o.toLowerCase()));return n?f("div",{className:"flex justify-center items-center min-h-screen",children:f("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):i?f("div",{className:"text-center py-12",children:f("p",{className:"text-red-600",children:i})}):C("div",{className:"py-8 px-4 sm:px-6 lg:px-8",children:[C("div",{className:"max-w-7xl mx-auto",children:[C("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-8",children:[C("div",{children:[f("h1",{className:"text-3xl font-bold text-gray-900",children:"MediStore"}),f("p",{className:"mt-2 text-gray-500",children:"Find and order your medications easily"})]}),C("div",{className:"mt-4 md:mt-0 flex items-center space-x-4",children:[f("button",{onClick:()=>h(!d),className:"p-2 text-gray-400 hover:text-gray-500",children:f(kD,{className:"h-6 w-6"})}),C("button",{onClick:()=>y(!0),className:"relative p-2 text-gray-400 hover:text-gray-500",children:[f(eb,{className:"h-6 w-6"}),T.length>0&&f("span",{className:"absolute -top-1 -right-1 bg-blue-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:T.reduce((P,w)=>P+w.quantity,0)})]})]})]}),C("div",{className:"mb-8",children:[C("div",{className:"relative",children:[f("input",{type:"text",placeholder:"Search medicines...",value:o,onChange:P=>a(P.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"}),f(FL,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]}),f("div",{className:"mt-4 flex flex-wrap gap-2",children:L.map(P=>f("button",{onClick:()=>u(P),className:`px-4 py-2 rounded-full text-sm font-medium ${l===P?"bg-blue-600 text-white":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:P.charAt(0).toUpperCase()+P.slice(1)},P))})]}),f("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:k.map(P=>f(VF,{product:P,onAddToCart:j},P.id))}),f(xI,{hideChat:p||d}),f(FF,{isOpen:p,onClose:()=>y(!1)}),f(UF,{isOpen:d,onClose:()=>h(!1)})]}),f(uc,{children:E&&C(_i,{children:[f(oe.div,{initial:{opacity:0},animate:{opacity:.5},exit:{opacity:0},className:"fixed inset-0 bg-black z-50",onClick:()=>b(!1)}),f(oe.div,{initial:{opacity:0,scale:.75},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.75},className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:C("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-sm w-full",children:[f("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Sign in Required"}),f("p",{className:"text-gray-600 mb-6",children:"Please sign in or create an account to add items to your cart."}),C("div",{className:"flex space-x-4",children:[f("button",{onClick:()=>{b(!1),I("/patient-portal")},className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Sign In"}),f("button",{onClick:()=>b(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50",children:"Cancel"})]})]})})]})})]})}function BF(){const[t,e]=v.useState([]),[n,r]=v.useState(!0),{currentUser:i}=En();return v.useEffect(()=>{(async()=>{if(i)try{const o=Lo(tr(je,"orders"),Mo("userId","==",i.uid)),l=(await Di(o)).docs.map(u=>{var d;return{id:u.id,...u.data(),createdAt:(d=u.data().createdAt)==null?void 0:d.toDate()}});e(l)}catch(o){console.error("Error fetching orders:",o)}finally{r(!1)}})()},[i]),n?f("div",{className:"flex justify-center items-center min-h-screen",children:f("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):f("div",{className:"py-8 px-4 sm:px-6 lg:px-8",children:C("div",{className:"max-w-7xl mx-auto",children:[f("h1",{className:"text-2xl font-bold text-gray-900 mb-8",children:"Order History"}),t.length===0?f("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:f("p",{className:"text-gray-500",children:"No orders found"})}):f("div",{className:"space-y-6",children:t.map(s=>f(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow overflow-hidden",children:C("div",{className:"p-6",children:[C("div",{className:"flex justify-between items-start",children:[C("div",{children:[C("p",{className:"text-sm text-gray-500",children:["Order #",s.id]}),f("p",{className:"text-sm text-gray-500",children:s.createdAt.toLocaleDateString()})]}),f("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${s.status==="completed"?"bg-green-100 text-green-800":s.status==="processing"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:s.status})]}),C("div",{className:"mt-6",children:[f("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Items"}),f("div",{className:"space-y-4",children:s.items.map((o,a)=>C("div",{className:"flex items-center",children:[f("img",{src:o.image,alt:o.name,className:"h-16 w-16 object-cover rounded"}),C("div",{className:"ml-4",children:[f("p",{className:"text-sm font-medium text-gray-900",children:o.name}),C("p",{className:"text-sm text-gray-500",children:["Quantity: ",o.quantity,"  ",o.price]})]})]},a))})]}),f("div",{className:"mt-6 pt-6 border-t border-gray-200",children:C("div",{className:"flex justify-between text-sm",children:[f("span",{className:"font-medium text-gray-900",children:"Total"}),C("span",{className:"font-medium text-gray-900",children:["",s.total.toFixed(2)]})]})})]})},s.id))})]})})}function zF(){const t=_n(),{currentUser:e}=En(),{cart:n,getCartTotal:r}=iy(),[i,s]=v.useState(!1),[o,a]=v.useState(""),[l,u]=v.useState({fullName:"",email:(e==null?void 0:e.email)||"",address:"",city:"",state:"",zipCode:"",phone:""}),d=p=>{const{name:y,value:E}=p.target;u(b=>({...b,[y]:E}))};return f("div",{className:"py-8 px-4 sm:px-6 lg:px-8",children:C("div",{className:"max-w-3xl mx-auto",children:[f("h1",{className:"text-2xl font-bold text-gray-900 mb-8",children:"Checkout"}),f("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:C("form",{onSubmit:async p=>{p.preventDefault(),s(!0),a("");try{const y={userId:e.uid,items:n,total:r(),shippingDetails:l,status:"processing",createdAt:rn()};await _I(tr(je,"orders"),y),t("/order-confirmation")}catch(y){console.error("Error placing order:",y),a("Failed to place order. Please try again.")}finally{s(!1)}},className:"p-6 space-y-6",children:[o&&f("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 text-red-700",children:o}),C("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Full Name"}),f("input",{type:"text",name:"fullName",value:l.fullName,onChange:d,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),f("input",{type:"email",name:"email",value:l.email,onChange:d,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),C("div",{className:"sm:col-span-2",children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Address"}),f("input",{type:"text",name:"address",value:l.address,onChange:d,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"City"}),f("input",{type:"text",name:"city",value:l.city,onChange:d,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"State"}),f("input",{type:"text",name:"state",value:l.state,onChange:d,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"ZIP Code"}),f("input",{type:"text",name:"zipCode",value:l.zipCode,onChange:d,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),C("div",{children:[f("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),f("input",{type:"tel",name:"phone",value:l.phone,onChange:d,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),f("div",{className:"border-t border-gray-200 pt-6",children:C("div",{className:"flex justify-between text-base font-medium text-gray-900",children:[f("p",{children:"Total"}),C("p",{children:["",r().toFixed(2)]})]})}),f("div",{className:"mt-6",children:f("button",{type:"submit",disabled:i,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:i?"Processing...":"Place Order"})})]})})]})})}const $F="/hospital-management",HF=UR([{path:"/",element:f(bF,{}),children:[{path:"",element:f(Wm,{to:"home",replace:!0})},{path:"home",element:f(CF,{})},{path:"doctors",element:f(PF,{})},{path:"appointments",element:f(eo,{children:f(AF,{})})},{path:"contact",element:f(RF,{})},{path:"services",element:f(NF,{})},{path:"patient-portal",element:f(kF,{})},{path:"dashboard",element:f(eo,{children:f(DF,{})})},{path:"profile",element:f(eo,{children:f(LF,{})})},{path:"health-metrics",element:f(eo,{children:f(MF,{})})},{path:"medistore",element:f(jF,{})},{path:"order-history",element:f(eo,{children:f(BF,{})})},{path:"checkout",element:f(eo,{children:f(zF,{})})},{path:"*",element:f(Wm,{to:"/",replace:!0})}]}],{basename:$F});ox(document.getElementById("root")).render(f(v.StrictMode,{children:f(vF,{children:f(OF,{children:f(KR,{router:HF})})})}));
